<!DOCTYPE html>
<html lang="en-US">
<head>
	<!-- SITE MON : START (DO NOT DELETE) -->
	<!-- developerWorks monitoring token -->
	<!-- SITE MON : END (DO NOT DELETE) -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- v18 meta -->
	<meta name="geo.country" content="ZZ" />
	<meta name="dcterms.rights" content="© Copyright IBM Corp. 2016" />
	<meta name="dcterms.date" content="2016-07-18" />
	<meta name="keywords" content="Docker," />
	<meta name="robots" content="index, follow" />
	<link rel="shortcut icon" href="https://www.ibm.com/favicon.ico" />

		<!-- end of v18 meta -->

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://developer.ibm.com/wasdev/xmlrpc.php">
<script>
		 digitalData = {
		  "page":{
		    "category":{
		      "primaryCategory":"SOFDCWSVZZ",		      "ibm":[

		      ]
		    },
		    "pageInfo":{
		      "effectiveDate":"2016-07-18",
		      "expiryDate":"2020-07-18",
		      "language":"en-US",
		      "publishDate":"2016-07-13",
		      "publisher":"IBM Corporation",
		      "version":"v18",
		      "pageID":"",
		      "ibm":{
						"contentDelivery":"HTML",
		        "contentProducer":"IBM Northstar Template Generator 2.0",
		        "country":"ZZ",
		        "industry":"ZZ",
		        "owner":"Jamie Pickett\/Boulder\/IBM",
		        "siteID":"DWNEXT",
						"subject":"SW700",
		        "type":"SW700",
		        "cmClientID":"50200000| DWNEXT",
		        "encoding":"utf8",
		        "encodingRaw":"utf-8",
		        "title":"Using continuous integration to run WebSphere Liberty applications in Amazon AWS Elastic Beanstalk",
						"contentType": "doc",
						"wpid":"9",
						"topics":"Docker,",
						"contentArea": "DevOps"
		      },
		      "metrics":[

		      ],
		      "keywords":"Docker,",
		      "description":"Using continuous integration to run WebSphere Liberty applications in Amazon AWS Elastic Beanstalk"
		    },
		    "attributes":[

		    ],
		  },
		  "event_coordinator":[

		  ],
		  "isLoaded":true,
		  "user":{
		    "profile":[

		    ],
		    "segment":{

		    }
		  }
		};
	 </script>
<title>Using continuous integration to run WebSphere Liberty applications in Amazon AWS Elastic Beanstalk - WASdev</title>

<!-- This site is optimized with the Yoast SEO plugin v9.0.2 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Continuous integration between a GitHub project, and a Liberty application running in Amazon&#039;s AWS Elastic Beanstalk environment in a Docker container."/>
<link rel="canonical" href="index.html%3Fp=18545.html" />
<link rel="publisher" href="https://plus.google.com/u/0/+WASdevNet"/>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='https://1.www.s81c.com/' />
<link rel='dns-prefetch' href='https://www.ibm.com/' />
<link rel='dns-prefetch' href='https://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Feed" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Comments Feed" href="comments/feed/index.html" />
<meta name="segment" property="developerWorks (developerWorks)" productTitle="developerWorks" value="WASdev (developerWorks)">
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Using continuous integration to run WebSphere Liberty applications in Amazon AWS Elastic Beanstalk Comments Feed" href="docs/using-continuous-integration-run-websphere-liberty-applications-amazon-aws-elastic-beanstalk/feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"\/\/dw1.s81c.com\/dw\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='events-manager-css'  href='wp-content/plugins/events-manager/includes/css/events_manager.css' type='text/css' media='all' />
<link rel='stylesheet' id='tab-styles-css'  href='wp-content/plugins/projectnext-shortcodes/tab-styles.css' type='text/css' media='all' />
<link rel='stylesheet' id='cntctfrm_form_style-css'  href='wp-content/plugins/contact-form-plugin/css/form_style.css' type='text/css' media='all' />
<link rel='stylesheet' id='rotatingtweets-css'  href='wp-content/plugins/rotatingtweets/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='dwboomer-style-css'  href='wp-content/themes/boomer-v18/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='wp-includes/css/dashicons.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='pagepost_css-css'  href='wp-content/themes/boomer-v18/css/pagepost.css' type='text/css' media='all' />
<link rel='stylesheet' id='pnext.utils-css'  href='wp-content/themes/boomer-v18/css/pnext.utils.css' type='text/css' media='all' />
<link rel='stylesheet' id='uploaded_css-css'  href='wp-content/uploads/sites/9/2015/03/wasdev.css' type='text/css' media='screen' />
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/www.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/dyntabs.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/masonry.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/core.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/widget.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/position.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/mouse.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/sortable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/datepicker.min.js'></script>
<script type='text/javascript'>
jQuery(document).ready(function(jQuery){jQuery.datepicker.setDefaults({"closeText":"Close","currentText":"Today","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nextText":"Next","prevText":"Previous","dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["S","M","T","W","T","F","S"],"dateFormat":"MM d, yy","firstDay":1,"isRTL":false});});
</script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/menu.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/wp-a11y.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var uiAutocompleteL10n = {"noResults":"No results found.","oneResult":"1 result found. Use up and down arrow keys to navigate.","manyResults":"%d results found. Use up and down arrow keys to navigate.","itemSelected":"Item selected."};
/* ]]> */
</script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/autocomplete.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/resizable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/draggable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/button.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/dialog.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var EM = {"ajaxurl":"https:\/\/developer.ibm.com\/wasdev\/wp-admin\/admin-ajax.php","locationajaxurl":"https:\/\/developer.ibm.com\/wasdev\/wp-admin\/admin-ajax.php?action=locations_search","firstDay":"1","locale":"en","dateFormat":"dd\/mm\/yy","ui_css":"https:\/\/developer.ibm.com\/wasdev\/wp-content\/plugins\/events-manager\/includes\/css\/jquery-ui.min.css","show24hours":"1","is_ssl":"1","txt_search":"Search","txt_searching":"Searching...","txt_loading":"Loading..."};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/events-manager/includes/js/events-manager.js'></script>
<script type='text/javascript' src='wp-content/plugins/projectnext-shortcodes/tab-dropdown.js'></script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/pnext.utils.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/stats/ida_stats.js'></script>
<link rel='https://api.w.org/' href='wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.ibm.com/wasdev/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.9" />
<link rel='shortlink' href='index.html%3Fp=18545.html' />
<link rel="alternate" type="application/json+oembed" href="https://developer.ibm.com/wasdev/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fusing-continuous-integration-run-websphere-liberty-applications-amazon-aws-elastic-beanstalk%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.ibm.com/wasdev/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fusing-continuous-integration-run-websphere-liberty-applications-amazon-aws-elastic-beanstalk%2F&#038;format=xml" />
<link rel='https://github.com/WP-API/WP-API' href='https://developer.ibm.com/wasdev/wp-json' />
<style type="text/css" id="syntaxhighlighteranchor"></style>
		<style type="text/css" id="wp-custom-css">
			.videoWrapper {
	position: relative;
	padding-bottom: 56.25%;
/* 16:9 */
	padding-top: 25px;
	height: 0;
}

.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.pnpagepost  .pn-listing .pn-list__item .entry-content .entry-meta .byline br {
	display: none;
}

/*Adds border to any screenshot with this class applied. Looks neater and clearer.*/
img.screenshot {
	border: 1px solid #afafaf;
}

/*Adds border to any photo with this class applied. Looks neater and clearer.*/
img.photo {
	border: 1px solid #afafaf;
}

/*Nests ordered lists correctly.*/
ol>li ol>li::before {
	content: counter(item, lower-alpha)".";
}

ol>li ol>li ol>li::before {
	content: counter(item, lower-roman)".";
}

/* hiding the doubled up author images */
.pn-listing .pn-list__item .byline .avatar {
	display: none !important;
}

/* removing bullets from the EM widget */
.widget-area .widget.widget_em_widget ul li:before,
.widget-area .widget.widget_text ul li:before{display:none;}

/*push anchored h2 headings down from browser top so they're not hidden behind the static headers
h2:before { 
  display: block; 
  content: " "; 
  margin-top: -300px; 
  height: 300px; 
  visibility: hidden; 
}*/

h2 { padding-top: 30px !important; }
		</style>
	
    <link href="https://1.www.s81c.com/common/v18/css/www.css" rel="stylesheet" />
    <link href="https://1.www.s81c.com/common/v18/css/grid-fluid.css" rel="stylesheet">
    <link href="https://1.www.s81c.com/common/v18/css/tables.css" rel="stylesheet">

	<script type="text/javascript">
		 IBMCore.common.util.config.set({
		  "masthead":{
		    "type":"alternate"
		  },
			greeting: { enabled: false },
		  "footer":{
		  	"type":"alternate",
		    "socialLinks":{
		      "enabled":false
		    }
		  },
			survey: { global_percent: 0 }
		});
	 </script>
</head>

<body id="ibm-com" class="doc-template-default single single-doc postid-18545 ibm-com ibm-type group-blog">
	<div style="display:none"></div>
<!--div id="page" class="site"-->
<div id="ibm-top" class="ibm-landing-page">
	<a class="skip-link screen-reader-text" href="index.html%3Fp=18545.html#main">Skip to content</a>

	<!-- MASTHEAD_BEGIN -->
	<div id="ibm-masthead" role="banner" aria-label="IBM" class="ibm-mhtype-minimal">
		<div id="ibm-mast-options">
			<ul role="toolbar" aria-labelledby="ibm-masthead">
				<li id="ibm-geo" role="presentation">
					<a href="http://www.ibm.com/planetwide/select/selector.html">United States</a>
				</li>
			</ul>
		</div>
		<div id="ibm-universal-nav">
			<div id="ibm-home">
				<a href="http://www.ibm.com/us-en/">IBM¨</a>
			</div>
			<div class="dw-nav-left">
				<a href="http://developer.ibm.com" class="dw-logo"><span>IBM Developer</span></a>
							</div>
			<ul id="ibm-menu-links" role="toolbar" aria-label="Site map" class="ibm-hide">
				<li><a href="http://www.ibm.com/sitemap/us/en/">Site map</a></li>
			</ul>
			<div id="ibm-search-module" role="search" aria-labelledby="ibm-masthead">
				<!-- form id="ibm-search-form" action="http://www.ibm.com/Search/" method="get" -->
				<form id="ibm-search-form" action="https://www.ibm.com/Search/" method="get">
					<p>
						<label for="q"><span class="ibm-access">Search</span></label>
						<input type="text" maxlength="100" value="" name="q" id="q"/>
						<input type="hidden" name="v" value="18" />
						<input type="hidden" name="en" value="utf" />
						<input type="hidden" name="lang" value="en" />
						<input type="hidden" name="cc" value="us" />
						<input type="hidden" name="sn" value="dw" />
						<input type="hidden" name="dw" value="dws" />

						<span class="ibm-search-scope">
							<input type="checkbox" class="ibm-styled-checkbox" name="sn" value="Search standards" checked id="scopeoption">
							<label for="scopeoption">Search WASdev</label>
						</span>

						<input type="submit" id="ibm-search" class="ibm-btn-search" value="Submit"/>
					</p>
				</form>
									<form class="ibm-hide" id="devcenter-search-form" action="index.html%3Fp=719.html" method="get">
						<p>
							<label for="pnext-search-input" class="screen-reader-text">Search</label>
							<input maxlength="100" required aria-required="true" id="q" class="pn-search-input pn-nav-search-input fl" name="q" type="text">
							<input type="submit" id="ibm-search" class="ibm-btn-search" value="Seach"/>
						</p>
					</form>
								</div>
		</div>
	</div>
  <!-- MASTHEAD_END -->
  <div id="ibm-content-wrapper">
  	<header role="banner" aria-labelledby="ibm-pagetitle-h1">
  		<!-- MASTHEAD_SITENAV_BEGIN -->
<div class="ibm-sitenav-menu-container">
  <div class="ibm-sitenav-menu-name">
    <a href="docs/portlet-container-differences-liberty-full-profile/index.html" rel="home">WASdev</a>
  </div>
    <div class="ibm-sitenav-menu-list"><ul id="primary-menu" class="menu"><li id="menu-item-11996" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11996"><a title="About WebSphere Liberty" href="docs/introducing_the_liberty_profile/index.html">About</a></li>
<li id="menu-item-12338" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12338"><a href="getstarted/index.html">Get Started</a></li>
<li id="menu-item-8368" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8368"><a title="Download Liberty, features, and samples" href="downloads/websphere-application-server-migration-tools/index.html">Downloads</a></li>
<li id="menu-item-2816" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2816"><a title="Articles and videos for developers" href="docs.html">Docs</a></li>
<li id="menu-item-12458" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12458"><a title="Open source code on Github" href="https://github.com/wasdev">Source Code</a></li>
<li id="menu-item-718" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-718"><a title="All the ways you can get help developing on Liberty" href="help.html">Get Help</a></li>
<li id="menu-item-2415" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-2415"><a title="News, events, and opinions on WAS Liberty" href="blog.html">News &#038; Events</a></li>
</ul></div></div>
<!-- MASTHEAD_SITENAV_END -->
  	</header>
<style>#ibm-com .gsc-adBlock{display:none !important;}</style>
<div id="content" class="site-content">
<div id="primary" class="content-area ibm-columns pnpagepost">
		<header class="pagepost-entry-header"><div class="pn_categories"><span><b>in </b><a href="docs/category/devops/index.html" rel="tag">DevOps</a></span></div><h1 class="entry-title">Using continuous integration to run WebSphere Liberty applications in Amazon AWS Elastic Beanstalk</h1><div class="entry-meta"><div class="pn_byline"><br><span class="author vcard"><a class="url fn n" href="blog/author/mnuttall/index.html">Mark Nuttall</a></span><br>Published on July 13, 2016<i> / Updated on January 5, 2017</i></div><div class="pn_slic"><a href="index.html%3Fp=18545.html#comments" class="pn_comments_icon">0 <i>Comments</i></a></div></div></header>		<section class="ibm-fluid">
			<div class="ibm-col-12-3">
				<nav role="left-nav" id="pnext_cpt_leftnav">
									<div id="ibm-navigation">
										<ul class="doc_categories" id="pnext_cpt_leftnav__links" role="tree" aria-labelledby="ibm-pagetitle-h1">
											<li id="ibm-overview" class="cat-all"><a href="docs.html">All Documentation</a><a href="index.html%3Fp=18545.html#" class="pnext_cpt_leftnav_expand ibm-chevron-down-link"><i>expand</i></a></li>	<li class="cat-item cat-item-345"><a href="docs/category/open-liberty/index.html" >Open Liberty <span class="count">(19)</span></a>
</li>
	<li class="cat-item cat-item-333"><a href="docs/category/knowledge-centers/index.html" >Official documentation <span class="count">(5)</span></a>
</li>
	<li class="cat-item cat-item-84"><a href="docs/category/installation/index.html" >Installation <span class="count">(9)</span></a>
</li>
	<li class="cat-item cat-item-80"><a href="docs/category/getting-started/index.html" >Getting started with Liberty <span class="count">(7)</span></a>
</li>
	<li class="cat-item cat-item-88"><a href="docs/category/migration-articles/index.html" >Migration <span class="count">(3)</span></a>
</li>
	<li class="cat-item cat-item-85"><a href="docs/category/coding/index.html" >Coding <span class="count">(80)</span></a>
</li>
	<li class="cat-item cat-item-335"><a href="docs/category/tools/index.html" >Tools <span class="count">(3)</span></a>
</li>
	<li class="cat-item cat-item-212"><a href="docs/category/java-ee/index.html" >Java EE <span class="count">(53)</span></a>
</li>
	<li class="cat-item cat-item-330"><a href="docs/category/microprofile/index.html" >MicroProfile <span class="count">(13)</span></a>
</li>
	<li class="cat-item cat-item-210"><a href="docs/category/osgi-techs/index.html" >OSGi <span class="count">(12)</span></a>
</li>
	<li class="cat-item cat-item-226"><a href="docs/category/extensions/index.html" >Extending Liberty <span class="count">(6)</span></a>
</li>
	<li class="cat-item cat-item-223"><a href="docs/category/oss/index.html" >Liberty with open source <span class="count">(15)</span></a>
</li>
	<li class="cat-item cat-item-225"><a href="docs/category/workflow/index.html" >Setting up your Liberty workflow <span class="count">(6)</span></a>
</li>
	<li class="cat-item cat-item-86"><a href="docs/category/devops/index.html" >DevOps <span class="count">(57)</span></a>
</li>
	<li class="cat-item cat-item-273"><a href="docs/category/security/index.html" >Security <span class="count">(10)</span></a>
</li>
	<li class="cat-item cat-item-208"><a href="docs/category/internet-of-things/index.html" >Internet of Things <span class="count">(6)</span></a>
</li>
	<li class="cat-item cat-item-241"><a href="docs/category/rtcomm/index.html" >Real-time comms <span class="count">(1)</span></a>
</li>
	<li class="cat-item cat-item-274"><a href="docs/category/microservices/index.html" >Microservices <span class="count">(3)</span></a>
</li>
	<li class="cat-item cat-item-209"><a href="docs/category/cloud/index.html" >Cloud <span class="count">(22)</span></a>
</li>
	<li class="cat-item cat-item-126"><a href="docs/category/labs/index.html" >Labs <span class="count">(2)</span></a>
</li>
	<li class="cat-item cat-item-111"><a href="docs/category/fun-projects/index.html" >Fun projects <span class="count">(7)</span></a>
</li>
	<li class="cat-item cat-item-82"><a href="docs/category/videos/index.html" >Videos <span class="count">(25)</span></a>
</li>
	<li class="cat-item cat-item-83"><a href="docs/category/podcasts/index.html" >Podcasts <span class="count">(1)</span></a>
</li>
	<li class="cat-item cat-item-94"><a href="docs/category/early-access/index.html" >Early Access <span class="count">(7)</span></a>
</li>
</ul>
									</div>
								</nav>			</div>
			<div class="ibm-col-12-9 entry-content">
				<main id="main" class="site-main" role="main">
														<p class="wasdev-excerpt">This article demonstrates continuous integration between a GitHub project, and a Java web application running on WebSphere Liberty in a Docker container in Amazon&#8217;s AWS Elastic Beanstalk environment.</p>
<p>We&#8217;ll take this simple user story:</p>
<blockquote><p>
  &#8220;As a developer, I want code changes I push to GitHub to be automatically deployed to &#8216;the cloud&#8217; &#8211; in this case, a web application running on WebSphere Liberty, in a Docker container, on Amazon Beanstalk.&#8221;
</p>
</blockquote>
<p>This article is part of a series about running WebSphere Liberty applications in Amazon AWS. Jeremy Hughes and I showed <a href="docs/getting-started-websphere-liberty-amazon-web-services.html">an easy way to run, scale and load balance WebSphere Liberty in Amazon virtual machines</a>. We used a pre-canned application and plain EC2 virtual machines, and took manual steps in several places.</p>
<p>In this article, we broaden our scope. The application code starts as source, we run Liberty inside a Docker container, and we fully automate the application build and deployment. This article will show you how to get our user story working for yourself, using tools and services that are free to developers.</p>
<p>Here&#8217;s our user story in a picture:</p>
<p><a href="wp-content/uploads/sites/9/2016/07/atricle-2-slide-1.png"><br />
<img src="wp-content/uploads/sites/9/2016/07/atricle-2-slide-1.png" alt="Our target user story" width="643" height="258" class="alignnone size-full wp-image-18564" srcset="wp-content/uploads/sites/9/2016/07/atricle-2-slide-1.png 643w, wp-content/uploads/sites/9/2016/07/atricle-2-slide-1-300x120.png 300w" sizes="(max-width: 643px) 100vw, 643px" /></a></p>
<p>We&#8217;re introducing several new technologies here. These are probably familiar to you, but just in case:</p>
<ul>
<li><a href="https://git-scm.com/">Git</a> is a distributed version control system. Git is free and open source, and the most widely used source control system in the world. </li>
<li><a href="https://github.com">GitHub</a> is a web-based Git repository hosting service, and currently the world&#8217;s largest host of source code. </li>
<li><a href="https://travis-ci.org">Travis CI</a> is a web-based continuous integration (CI) service that can build, test and deploy code hosted in GitHub. </li>
<li><a href="https://www.docker.com">Docker</a> is an open source technology for automating software deployment. Docker containers &#8216;wrap a piece of software in a complete filesystem that contains everything needed to run: code, runtime, system tools, system libraries â anything that can be installed on a server. This guarantees that the software will always run the same, regardless of its environment.&#8217; Containers start and stop more quickly, and require less disk and memory than virtual machines.</li>
<li><a href="https://aws.amazon.com/elasticbeanstalk">AWS Elastic Beanstalk</a> is a &#8220;an easy-to-use service for deploying and scaling web applications and services developed with Java, .NET, PHP, Node.js, Python, Ruby, Go, and Docker&#8221;.</li>
<li><a href="docs/introducing_the_liberty_profile/index.html">WebSphere Liberty</a> is a fast, dynamic, easy-to-use Java EE application server. It&#8217;s ideal for developers but also ready for production, on-premise or <a href="index.html%3Fp=9407.html">in the cloud</a>.</li>
<li><a href="https://maven.apache.org/">Maven</a> is a powerful &#8216;software project management and comprehension tool&#8217; that is widely used for building Java projects.  </li>
</ul>
<p>Our focus here is on ways to use WebSphere Liberty in Amazon AWS. Elastic Beanstalk has native Java support but it&#8217;s tied to Tomcat as a runtime. Docker allows us to package Liberty in a form that Beanstalk understands. Docker is in many ways a platform in its own right and provides a degree of isolation from the specifics of the cloud provider. It encourages the use of immutable images, which can help reduce the differences between development, test and production environments.</p>
<h2>How to get it working</h2>
<p>In order to run this sample you will need:</p>
<ul>
<li>An <a href="https://aws.amazon.com">Amazon AWS</a> account, with access to S3 and Elastic Beanstalk. </li>
<li>Your AWS access key ID and secret access key. Please note that Amazon advise against providing AWS secret key and access key id to third parties, but it&#8217;s necessary in this case. You might wish to create temporary credentials for the purpose of this exercise. Pld. See <a href="http://docs.aws.amazon.com/general/latest/gr/aws-access-keys-best-practices.html">Best Practices for Managing AWS Access Keys</a> for more information. </li>
<li>A <a href="https://github.com/join">GitHub account</a>. </li>
<li>A machine from which you can run the <code>mvn</code> and <code>git</code> commands. Maven needs a Java SDK. We&#8217;ve tested this with Java 8; Java 7 should also be fine. </li>
</ul>
<p>Follow these next steps once you&#8217;re ready:</p>
<ol>
<li>Go to GitHub and fork our <a href="https://github.com/WASdev/sample.aws">sample project</a> into your own repository. </li>
<li><code>git clone</code> your new repository to your development machine. </li>
<li><code>cd</code> into the <code>sample.aws</code> directory. </li>
<li>Build the project: run the command <code>mvn clean install</code>. </li>
<li>Our first deployment to Beanstalk is manual; all future updates are automated.
<ol>
<li>Go to the AWS console in a web browser and select <strong>Elastic Beanstalk</strong>. </li>
<li>Create a new application and environment. Give the application a name; e.g. <code>sample.aws</code>. We&#8217;ll need this as <code>$APP_NAME</code> later. </li>
<li>Select the <strong>Docker</strong> platform. </li>
<li>Upload the application: click <strong>Choose file</strong> and navigate to <code>target/upload-1.0.zip</code></li>
<li>Navigate the rest of the wizard. The default values are typically fine. You can optionally provide your EC2 keypair if you wish to log in to the EC2 instance.</li>
<li>Review your settings deploy the test application. </li>
<li>Revisit the Beanstalk summary page and note the new environment a name; this will be <code>$ENV_NAME</code> later on. Make a note of the Environment URL. </li>
<li>Finally, navigate to <strong>S3</strong> in the AWS console. You should see a bucket named <code>elasticbeanstalk-{region}-{numbers}</code>. We&#8217;ll need this whole string as <code>$BUCKET_NAME</code> in the next section. </li>
</ol>
</li>
<li>Test the application! The base environment URL will take you to the WebSphere Liberty landing page. Navigating to <code>baseEnvironmentUrl/test</code> will show a simple &#8216;hello world&#8217; message &#8211; this is our running application. </li>
<li>Next we&#8217;ll set up and test our automation:
<ol>
<li>Browse to <a href="https://travis-ci.org">https://travis-ci.org</a> and click <strong>Sign in with GitHub</strong> if you&#8217;re not logged in all ready. </li>
<li>Grant Travis CI the permissions it requires and log in with your GitHub username and password. </li>
<li>After an initial sync, Travis CI shows you a list of your GitHub repositories. </li>
</ol>
<p><a href="wp-content/uploads/sites/9/2016/07/travis-1.png"><br />
<img src="wp-content/uploads/sites/9/2016/07/travis-1.png" alt="sample repository viewed in Travis CI" width="310" height="56" class="alignnone size-full wp-image-18559" srcset="wp-content/uploads/sites/9/2016/07/travis-1.png 310w, wp-content/uploads/sites/9/2016/07/travis-1-300x54.png 300w" sizes="(max-width: 310px) 100vw, 310px" /></a></p>
<ol>
<li>Select your project to enable Travis CI and then click the cog icon. </li>
<li>Fill in the values for the six environment variables as shown in the example below. <code>$REGION</code> is your AWS region; it also appears in <code>$BUCKET_NAME</code>. We made notes of the first three values in the steps above. Ensure that <strong>Display value in build log</strong> is <strong>OFF</strong> when you enter your access key ID; you can&#8217;t change it later. </li>
</ol>
<p><a href="wp-content/uploads/sites/9/2016/07/travis-2.png"><br />
<img src="wp-content/uploads/sites/9/2016/07/travis-2.png" alt="General settings and environment variables in Travis CI" width="794" height="628" class="alignnone size-full wp-image-18560" srcset="wp-content/uploads/sites/9/2016/07/travis-2.png 794w, wp-content/uploads/sites/9/2016/07/travis-2-300x237.png 300w" sizes="(max-width: 794px) 100vw, 794px" /></a></p>
<ol>
<li>At this point we&#8217;re ready to follow a code change through to deployment. Start by creating a new local branch: <code>git checkout -b first.edit</code></li>
<li>Edit <code>src/main/java/test/TestServlet.java</code> and change the message printed out by the Servlet.
<pre class="brush: java; title: ; notranslate" title="">
public void doGet (HttpServletRequest req, HttpServletResponse resp) throws IOException {
    resp.getWriter().println (&quot;Hello world from edits during article preparation&quot;);  
}
    </pre>
</li>
<li>Run <code>git add src/main/java/test/TestServlet.java</code></li>
<li>Run <code>git commit</code></li>
<li>Run <code>git push origin first.edit</code></li>
</ol>
</li>
<li>Now visit <a href="https://travis-ci.org">https://travis-ci.org</a>. In the left hand column under &#8216;My Repositories&#8217; you&#8217;ll see that a new build has started. By the end you should see:
<p><a href="wp-content/uploads/sites/9/2016/07/travis-3.png"><br />
<img src="wp-content/uploads/sites/9/2016/07/travis-3.png" alt="Expected output from Travis CI when sample.aws is built" width="680" height="821" class="alignnone size-full wp-image-18561" srcset="wp-content/uploads/sites/9/2016/07/travis-3.png 680w, wp-content/uploads/sites/9/2016/07/travis-3-248x300.png 248w" sizes="(max-width: 680px) 100vw, 680px" /></a></p>
</li>
<li>Now re-visit the application to see your changes live on AWS. After a short delay you should see:</p>
</li>
</ol>
<p><a href="wp-content/uploads/sites/9/2016/07/travis-4.png"><br />
<img src="wp-content/uploads/sites/9/2016/07/travis-4.png" alt="Updated application seen running in a web browser" width="614" height="234" class="alignnone size-full wp-image-18562" srcset="wp-content/uploads/sites/9/2016/07/travis-4.png 614w, wp-content/uploads/sites/9/2016/07/travis-4-300x114.png 300w" sizes="(max-width: 614px) 100vw, 614px" /></a></p>
<p>That&#8217;s it! The git push has automatically produced our web application running on WebSphere Liberty, in a Docker container, on Amazon Beanstalk.</p>
<h2>How it works</h2>
<p>The sample application is as simple as possible. Travis integration is done through <code>/.travis.yml</code>. The first line of that file reads:</p>
<pre class="brush: plain; title: ; notranslate" title="">
language: java
  </pre>
<p>Travis CI can build Java projects using <a href="https://docs.travis-ci.com/user/languages/java">Maven, Gradle, or Ant</a>. In our case, that causes Travis CI to invoke Maven against <code>/pom.xml</code>. There are three plug-ins in our pom. The first runs a (trivial) unit test, <code>src/test/java/sample/HelloTest.java</code>, whose only purpose is to act as a placeholder. The second plug-in runs the <code>maven-war-plugin</code>, packaging our Servlet into a WAR file. The final plug-in invokes the <code>maven-assembly-plugin</code>, which creates a ZIP file based on the instructions in <code>src/assembly/bin.xml</code>. The result is <code>target/upload-1.0.zip</code>, which contains two files: <code>test.war</code>, and <code>resources/Dockerfile</code>. Our Dockerfile is very simple:</p>
<pre class="brush: plain; title: ; notranslate" title="">
FROM websphere-liberty
ADD test.war /opt/ibm/wlp/usr/servers/defaultServer/dropins/
ENV LICENSE accept

EXPOSE 9080
  </pre>
<p>The Dockerfile highlights how simple it is to use <a href="websphere-liberty.html">WebSphere Liberty</a> in a <a href="blog/2014/12/04/liberty-docker/index.html">Docker container</a>. WebSphere Liberty is a Java EE 7 certified application server with a small footprint and quick startup time. It uses simple XML for configuration while retaining runtime fidelity with WebSphere Application Server traditional. Liberty can be used for development at no charge, and can be downloaded from <a href="downloads/websphere-application-server-migration-tools/index.html">wasdev.net</a>.</p>
<p>There are several ways to <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_image.html">deploy a Docker container to Elastic Beanstalk</a>. You can provide a Dockerfile or a <code>Dockerrun.aws.json</code> file to deploy a Docker container from an existing image. Alternatively, you can provide a ZIP file containing application files with a Dockerfile, a <code>Dockerrun.aws.json</code>, or both. In our case, we&#8217;ve opted to provide the application binary and a Dockerfile inside a ZIP file. In a CI pipeline we might choose to do a <a href="https://docs.travis-ci.com/user/docker"><code>docker push</code> in the <code>.travis.yml</code></a> and then provide the pre-built Docker image&#8217;s coordinates in the <code>Dockerrun.aws.json</code> file.</p>
<p>Once the Maven build has constructed <code>target/upload-1.0.zip</code>, Travis CI pushes it to Elastic Beanstalk. Here&#8217;s the rest of <code>.travis.yml</code>:</p>
<pre class="brush: plain; title: ; notranslate" title="">
language: java
deploy:
  - provider: elasticbeanstalk
    skip_cleanup: true
    app: $APP_NAME
    env: $ENV_NAME
    bucket_name: $BUCKET_NAME
    region: $REGION
    access-key-id: $ACCESS_KEY_ID
    secret-access-key: $SECRET_ACCESS_KEY
    zip_file: target/upload-1.0.zip
    on:
      all_branches: true
  </pre>
<p><code>skip_cleanup: true</code> is needed to prevent <code>target/upload-1.0.zip</code> from being deleted before the deploy stage starts. As noted in the build output, the <code>elasticbeanstalk</code> provider is &#8216;experimental&#8217; and is not listed on the <a href="https://docs.travis-ci.com">main Travis CI documentation page</a>. The best documentation is in the <a href="https://github.com/travis-ci/dpl/blob/master/README.md#elastic-beanstalk">&#8216;dpl&#8217; GitHub project</a>.</p>
<p>You don&#8217;t have to use Travis CI to deploy to Elastic Beanstalk. Amazon provide two different command line options: <code>aws elasticbeanstalk</code> and <code>eb</code>. There are some notes in our sample project&#8217;s README about using the command line. We found <a href="https://dzone.com/articles/how-deploy-docker-application">this article on how to deploy Docker applications</a> useful when getting started. The <a href="https://github.com/mvanholsteijn/sample_nodejs_cf/blob/master/deploy-to-aws.sh"><code>deploy-to-aws.sh</code> script</a> was particularly helpful.</p>
<h2>Summary</h2>
<p>We&#8217;ve shown how to push a branch to a fork of the <a href="https://github.com/WASdev/sample.aws">sample.aws project</a>, and have that change automatically deployed by Travis CI to  Amazon Elastic Beanstalk. We used a simple Java project built by a single <code>pom.xml</code> and kept the &#8216;pipeline&#8217; very short. This allowed us to focus on the steps required to get WebSphere Liberty running in a Docker container in the Elastic Beanstalk environment.</p>
<h2>Acknowledgements</h2>
<p>I&#8217;d like to thank KD Singh from AWS and Ross Pavitt from IBM for their valuable feedback and testing during the preparation of this article.</p>
							<footer class="entry-footer" id="doc_author">
								<div class="tags-links">Tags <a href="blog/tag/docker/index.html" rel="tag">Docker</a></div><div class="byline"><div><p class="byline__author"><span class="author vcard">by <a class="url fn n" href="blog/author/mnuttall/index.html">Mark Nuttall</a></span></p><ul class="byline__social"></ul><p class="byline__bio"></p></div></div>							</footer><!-- .entry-footer -->
							
<div id="comments" class="comments-area">

	
	
	
	

	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Join The Discussion <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html%3Fp=18545.html#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://developer.ibm.com/wasdev/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><br /><textarea id="comment" name="comment" aria-required="true" placeholder="Enter your comments..."></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="ibm-btn-pri ibm-btn-small ibm-btn-blue-50" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='18545' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="08cace44d1" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="117"/></p>			</form>
			</div><!-- #respond -->
	</div><!-- #comments -->
											</main><!-- #main -->

			</div>
</div>
<script>
	jQuery(document).ready(function($){
		// return;
		$('.cat-item:has(.children)').addClass('arrowryt');
		$('.current-cat:has(.children)').addClass('arrowdwn');
		$('.current-cat-parent, .current-cat-ancestor').addClass('arrowdwn');
		$('<span class="toggler"></span>').prependTo('.cat-item:has(.children)').click(function(e){
			e.preventDefault();
			e.stopPropagation();
			$(this).parent().toggleClass('arrowdwn');
		});
		$('#pnext_cpt_leftnav .pnext_cpt_leftnav_expand').on('click',function(e){
			e.preventDefault();
			$(this).toggleClass('ibm-chevron-up-link');
			$(this).parents('#pnext_cpt_leftnav__links').toggleClass('menuHide');
		})
	});
</script>



		</div><!-- #content -->
	</div><!-- end of ibm-content-wrapper -->

	<p class="ibm-ind-link ibm-nospacing ibm-icononly ibm-btt-auto ibm-hidden-small">
		<a class="ibm-nospacing ibm-top-link" aria-label="Back to top" href="index.html%3Fp=18545.html#top" tabindex="0">Back to top</a>
	</p>

	<footer role="contentinfo" aria-label="IBM" id="themeFooter">
		<div id="boomer-footer" class="boomer_footer_menu"></div>
		<div id="dw-footer" class="ibm-alternate ibm-padding-normal">
			<div class="ibm-columns ibm-padding-bottom-0">
				<div class="ibm-col-1-1">
					<div class="ibm-footer-corporate-links">
						<ul>
              <li><a href="https://developer.ibm.com/feedback/">Contact</a></li>
              <li><a href="https://www.ibm.com/privacy/us/en/">Privacy</a></li>
              <li><a href="https://developer.ibm.com/terms/ibm-developer-terms-of-use/">Terms of use</a></li>
              <li><a href="https://www.ibm.com/accessibility/us/en/">Accessibility</a></li>
              <li class="ibm-feedbacklink"><a href="index.html%3Fp=18545.html#">Feedback</a></li>
							<li><a href="https://www.ibm.com/developerworks/secure/report/">Report Abuse</a></li>
              <li id="ibm-truste-cp"><a onclick="truste.eu.clickListener();return false;" href="index.html%3Fp=18545.html#">Cookie Preferences</a></li>
          	</ul>
					</div>
					<div id="ibm-footer-locale-selector"></div>
				</div>
			</div>
		</div>
	</footer>
</div><!-- #page -->

<script>
        jQuery(document).ready(function($){
          var dcName = 'wasdev';
          // $('a').each(function(){
          //   if(this.href.match('bluemix.net')){
          //     if(this.search){
          //       this.href = this.href + '&cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
          //     }else{
          //       this.href = this.href + '?cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
          //     }
          //   }
          // });

          jQuery('a[href*="bluemix.net"]').each(function(){
            if(this.search){
              this.href = this.href + '&cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
            }else{
              this.href = this.href + '?cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
            }
          });

        });
      </script><link rel='stylesheet' id='pn-doccat-styles-css'  href='wp-content/plugins/projectnext-docs-categorical-2/partials/v18/pdc.css' type='text/css' media='all' />
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js'></script>
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js'></script>
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://developer.ibm.com/wasdev/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://developer.ibm.com/wasdev/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/navigation.js'></script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='https://www.ibm.com/software/info/js/tactic.js'></script>
<script type='text/javascript' src='https://www.ibm.com/software/info/js/tacticbindlinks.js'></script>
<script type='text/javascript' src='wp-content/plugins/page-links-to/js/new-tab.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/wp-embed.min.js'></script>
<script async="async" type='text/javascript' src='wp-content/plugins/akismet/_inc/form.js'></script>

<script>
	/* this is where we are going to control the main menu */
	function changeMenu(links) {
		IBMCore.common.module.masthead.editProfileMenu({
			action: "replace",
			links: links
		});
	}

	var setMainMenu = function(){
					var userLinks = [{
				title: "My IBM",
				url: "https://myibm.ibm.com/dashboard/?lnk=mmi"
			},{
				title: "Sign In",
				url: "https://developer.ibm.com/sso/login?d=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fusing-continuous-integration-run-websphere-liberty-applications-amazon-aws-elastic-beanstalk&lang=en_US"
			},
			{
				title: "Register",
				url: "https://developer.ibm.com/sso/register?lang=en_US&d=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fusing-continuous-integration-run-websphere-liberty-applications-amazon-aws-elastic-beanstalk"
			}];
				changeMenu(userLinks);
	}

	IBMCore.common.module.masthead.subscribe("profileMenuReady", "customjs", setMainMenu);
</script>
<script>
		(function($) {
			$(document).ready(function(){
				/* prevent the # links in the main menu from firing */
				$('.ibm-sitenav-menu-list #primary-menu a').on('click.stopFakeLinks',function(e){
					$this = $(this);
					if($this.attr('href') === "#"){
						return false;
					}
				});

				/* bind the feedback click evnet */
				jQuery('#dw-footer .ibm-feedbacklink a').on("click", function(evt) {
			        evt.preventDefault();
			        var iframeWidth = 970;
			        if (window.innerWidth < 900) {
			            iframeWidth = window.innerWidth - 80
			        }
			        IBMCore.common.widget.surveyccfintercept.initFeedback({
			            survey: {
			                height: 700,
			                id: "web-exp",
			                metaData: "",
			                type: "medallia",
			                width: iframeWidth
			            }
			        })
			   });
				//testing out the alpha helper
				$('[data-alpha]').each(function(i){
					$elm = $(this);
					var bg = $elm.css('backgroundColor').replace(/[rgb(]/g,'').replace(/ /g,'').replace(/[)]/g,'');
					var alpha = $elm.data('alpha')/100;
					$elm.css("cssText", "background-color: rgba("+bg+","+alpha+") !important;");
				})
				//testing out the panel slider
				$('.pn-sliding-panels').each(function(i){
					$elm = $(this);
					//get the width of the active panel
					var activeWidth = $elm.data('openamount'),
						panelCount = $elm.data('panelcount'),
						inactiveWidth = ((100 - activeWidth) / (panelCount-1));
					//set the first slide as active - later, allow it to be set
					$elm.find('.pn-panel').each(function(i,item){
						$panel = $(item);
						$panel.data('closedwidth',inactiveWidth);
						$panel.data('openwidth',activeWidth);
						if(i == 0){
							$panel.addClass('pn-panel__active').css({width:activeWidth+'%'});
						}else{
							$panel.css({width:inactiveWidth+'%'});
						}
					});

					$elm.on('click.slide','.pn-panel',function(e){
						$this = $(this);
						//console.info('clicked')
						if($this.hasClass('pn-panel__active')){
							//allow for the links in the active panel to be clicked
							//console.info('im open, let the links through')
						}else{
							e.preventDefault();
							//set the width of the currently active panel to the closed amount
							var $active = $this.parents('.pn-sliding-panels').find('.pn-panel__active');
								$active.css({width:$active.data('closedwidth')+'%'}).removeClass('pn-panel__active');
							$this.addClass('pn-panel__active').css({width:$this.data('openwidth')+'%'});
						}

					})
				});

			})
		})( jQuery );
	</script>

	
</body>
</html>
