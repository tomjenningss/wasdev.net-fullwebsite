/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e){return this}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n)){for(i in n){x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])}}return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2]){return r.find(e)}this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++){if(null!=(o=arguments[l])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r))}}}return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body){return setTimeout(x.ready)}x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e)){return !1}try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(r){return !1}if(x.support.ownLast){for(n in e){return v.call(e,n)}}for(n in e){}return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n){return null}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break}}}}else{if(a){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break}}}}return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m){return m.call(t,e,n)}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n}}}return -1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r){for(;r>o;o++){e[i++]=n[o]}}else{while(n[o]!==t){e[i++]=n[o++]}}return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o])}return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r){x.access(e,n,l,r[l],!0,a,s)}}else{if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n)){for(;u>l;l++){n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)))}}}return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o]}return i}}),x.ready.promise=function(t){if(!n){if(n=x.Deferred(),"complete"===a.readyState){setTimeout(x.ready)}else{if(a.addEventListener){a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1)}else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}}}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++){if(this[t]===e){return t}}return -1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e){return n}if(1!==(l=t.nodeType)&&9!==l){return[]}if(h&&!i){if(o=Z.exec(e)){if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode){return n}if(a.id===s){return n.push(a),n}}else{if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s){return n.push(a),n}}}else{if(o[2]){return M.apply(n,t.getElementsByTagName(e)),n}if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName){return M.apply(n,t.getElementsByClassName(s)),n}}}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--){c[u]=m+yt(c[u])}y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x){try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return !!e(t)}catch(n){return !1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--){o.attrHandle[n[r]]=t}}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},A=d.compareDocumentPosition?function(e,t){if(e===t){return S=!0,0}var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){return S=!0,0}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0}if(o===a){return pt(e,t)}r=e;while(r=r.parentNode){s.unshift(r)}r=t;while(r=r.parentNode){l.unshift(r)}while(s[i]===l[i]){i++}return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t))){try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType){return n}}catch(i){}}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++]){t===e[o]&&(i=n.push(o))}while(i--){e.splice(n[i],1)}}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=a(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r];r++){n+=a(t)}}return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return !0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1}}h=g="only"===e&&!h&&"nextSibling"}return !0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}}else{if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T){f=u[1]}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t)){break}}}}return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1}}return !0},parent:function(e){return !o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2){e.push(n)}return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2){e.push(n)}return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r)}return e})}},o.pseudos.nth=o.pseudos.eq;for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){o.pseudos[n]=ft(n)}for(n in {submit:!0,reset:!0}){o.pseudos[n]=dt(n)}function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c){return t?0:c.slice(0)}s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter){!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length))}if(!n){break}}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value}return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r]){if(1===t.nodeType||o){return e(t,n,i)}}}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r]){if((1===t.nodeType||o)&&e(t,n,s)){return !0}}}else{while(t=t[r]){if(1===t.nodeType||o){if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i){return l===!0}}else{if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0){return !0}}}}}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s))}return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--){(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}}if(o){if(i||e){if(i){u=[],c=y.length;while(c--){(p=y[c])&&u.push(m[c]=p)}i(null,y=[],u,l)}c=y.length;while(c--){(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}}else{y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)}})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return !a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++){if(n=o.relative[e[l].type]){f=[vt(bt(f),n)]}else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++){if(o.relative[e[r].type]){break}}return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||0.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++]){if(m(h,l,c)){p.push(h);break}}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++]){m(x,y,l,c)}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=q.call(p))}}y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--){o=Tt(t[n]),o[b]?r.push(o):i.push(o)}o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++){at(e,t[r],n)}return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t){return n}e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type]){break}if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e){return M.apply(n,i),n}break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++){if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1){l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return !l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return !u},fireWith:function(e,t){return !l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return !!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1){for(s=Array(r),l=Array(r),u=Array(r);r>t;t++){n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i}}return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length){return t}s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1}d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t)){break}return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n){return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--){delete r[t[i]]}if(n?!I(r):!x.isEmptyObject(r)){return}}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1}var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return !t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++){i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]))}x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else{r=t}}return r}function I(e){var t;for(t in e){if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t){return !1}}return !0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--){r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l))}return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).addClass(e.call(this,t,this.className))})}if(l){for(t=(e||"").match(T)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")}n.className=x.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))})}if(l){for(t=(e||"").match(T)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?x.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++]){o.hasClass(t)?o.removeClass(t):o.addClass(t)}}else{(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0){return !0}}return !1},val:function(e){var n,r,i,o=this[0];if(arguments.length){return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o))})}if(o){return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++){if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o){return t}a.push(t)}}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--){r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0)}return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get" in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set" in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType){while(n=o[i++]){r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)}}},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n]}},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return !0}function ot(){return !1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--){s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0)}e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--){if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a))}l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else{for(d in c){x.event.remove(e,d+t[u],n,r,!0)}}}x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode){h.push(u),f=u}f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault()}if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type)){for(;u!=this;u=u.parentNode||this){if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i)}o.length&&s.push({elem:u,handlers:o})}}}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando]){return e}var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--){n=r[t],e[n]=o[n]}return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus){try{return this.focus(),!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e){this.on(a,n,r,e[a],o)}return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot}else{if(!i){return this}}return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(o in e){this.off(o,n,e[o])}return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e){return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++){if(x.contains(r[t],this)){return !0}}}))}for(t=0;i>t;t++){x.find(e,r[t],n)}return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(x.contains(this,n[t])){return !0}}})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return !!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}}}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r))){1===o.nodeType&&i.push(o),o=o[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}});function ft(e,t,n){if(x.isFunction(t)){return x.grep(e,function(e,r){return !!t.call(e,r,e)!==n})}if(t.nodeType){return x.grep(e,function(e){return e===t!==n})}if("string"==typeof t){if(st.test(t)){return x.filter(t,e,n)}t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++){t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n))}return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild){e.removeChild(e.firstChild)}e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t}if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++){n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e)}n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h)){return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)})}if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++){i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u)}if(o){for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++){i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")))}}l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++){x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){x.event.add(t,n,s[n][r])}}}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events){x.removeEvent(t,r,i.handle)}t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++){n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get())}return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s){for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++){!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n))}}return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e))){for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a){r[a]&&Ot(i,r[a])}}if(t){if(n){for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++){Mt(i,r[a])}}else{Mt(e,o)}}return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++){if(o=e[h],o||0===o){if("object"===x.type(o)){x.merge(d,o.nodeType?[o]:o)}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--){s=s.lastChild}if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--){x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild){s.removeChild(s.firstChild)}s=f.lastChild}else{d.push(t.createTextNode(o))}}}}s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++]){if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++]){kt.test(o.type||"")&&n.push(o)}}}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++){if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events){for(r in a.events){f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle)}}u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e)){return this.each(function(t){x(this).wrapAll(e.call(this,t))})}if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){if(t=en[i]+n,t in e){return t}}return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++){r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))))}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))}return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++){a[n[s]]=x.css(e,n[s],!1,o)}return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:u[n]}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{u[n]=r}catch(c){}}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2){"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)))}return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i}r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return !x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0]}return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e)){x.each(e,function(){o(this.name,this.value)})}else{for(r in e){gn(r,e[r],n,o)}}return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t)){x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==x.type(t)){r(e,t)}else{for(i in t){gn(e+"["+i+"]",t[i],n,r)}}}}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i])}return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments)}var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>b){for(t in e){m[t]=[m[t],e[t]]}}else{C.always(e[C.status])}}return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b){return C}l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers){C.setRequestHeader(i,p.headers[i])}if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b)){return C.abort()}w="abort";for(i in {success:1,error:1,complete:1}){C[i](p[i])}if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b)){throw N}k(-1,N)}}else{k(-1,"No Transport")}function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0]){u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"))}if(o){for(s in l){if(l[s]&&l[s].test(o)){u.unshift(s);break}}}if(u[0] in r){a=u[0]}else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1]){for(a in e.converters){u[a.toLowerCase()]=e.converters[a]}}o=c.shift();while(o){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift()){if("*"===o){o=l}else{if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a){for(i in u){if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}}}if(a!==!0){if(a&&e["throws"]){t=a(t)}else{try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}}}}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn){Pn[e](t,!0)}};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials" in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){l[s]=n.xhrFields[s]}}n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i){l.setRequestHeader(s,i[s])}}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState)){if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i){4!==l.readyState&&l.abort()}else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,x.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++){if(r=i[o].call(n,t,e)){return r}}}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i){return !1}var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++){u.tweens[a].run(o)}return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){u.tweens[n].run(1)}return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++){if(r=Gn[o].call(u,e,c,u.opts)){return r}}return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e){if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand" in a){o=a.expand(o),delete e[r];for(n in o){n in e||(e[n]=o[n],t[n]=i)}}else{t[r]=i}}}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){continue}c[r]=d&&d[r]||x.style(e,r)}}if(!x.isEmptyObject(c)){d?"hidden" in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c){x.style(e,t,c[t])}});for(r in c){a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n){a[n]&&a[n].stop&&i(a[n])}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n])}}for(n=o.length;n--;){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1))}(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++){e=n[r],e()||n[r]!==e||n.splice(r--,1)}n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)})}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o}},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using" in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position")){e=e.offsetParent}return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());window.Modernizr=function(ay,ax,aw){function U(b){ao.cssText=b}function T(d,c){return U(ak.join(d+";")+(c||""))}function S(d,c){return typeof d===c}function R(d,c){return !!~(""+d).indexOf(c)}function Q(f,c){for(var h in f){var g=f[h];if(!R(g,"-")&&ao[g]!==aw){return c=="pfx"?g:!0}}return !1}function P(g,c,k){for(var j in g){var h=c[g[j]];if(h!==aw){return k===!1?g[j]:S(h,"function")?h.bind(k||c):h}}return !1}function O(g,f,k){var j=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+ai.join(j+" ")+j).split(" ");return S(f,"string")||S(f,"undefined")?Q(h,f):(h=(g+" "+ah.join(j+" ")+j).split(" "),P(h,f,k))}function N(){au.input=function(f){for(var b=0,a=f.length;b<a;b++){ad[f[b]]=f[b] in an}return ad.list&&(ad.list=!!ax.createElement("datalist")&&!!ay.HTMLDataListElement),ad}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),au.inputtypes=function(b){for(var m=0,k,j,g,c=b.length;m<c;m++){an.setAttribute("type",j=b[m]),k=an.type!=="text",k&&(an.value=am,an.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(j)&&an.style.WebkitAppearance!==aw?(ar.appendChild(an),g=ax.defaultView,k=g.getComputedStyle&&g.getComputedStyle(an,null).WebkitAppearance!=="textfield"&&an.offsetHeight!==0,ar.removeChild(an)):/^(search|tel)$/.test(j)||(/^(url|email)$/.test(j)?k=an.checkValidity&&an.checkValidity()===!1:k=an.value!=am)),ae[b[m]]=!!k}return ae}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var av="2.6.2",au={},at=!0,ar=ax.documentElement,aq="modernizr",ap=ax.createElement(aq),ao=ap.style,an=ax.createElement("input"),am=":)",al={}.toString,ak=" -webkit- -moz- -o- -ms- ".split(" "),aj="Webkit Moz O ms",ai=aj.split(" "),ah=aj.toLowerCase().split(" "),ag={svg:"http://www.w3.org/2000/svg"},af={},ae={},ad={},ac=[],ab=ac.slice,aa,Z=function(w,v,u,t){var s,r,q,o,h=ax.createElement("div"),g=ax.body,b=g||ax.createElement("body");if(parseInt(u,10)){while(u--){q=ax.createElement("div"),q.id=t?t[u]:aq+(u+1),h.appendChild(q)}}return s=["&#173;",'<style id="s',aq,'">',w,"</style>"].join(""),h.id=aq,(g?h:b).innerHTML+=s,b.appendChild(h),g||(b.style.background="",b.style.overflow="hidden",o=ar.style.overflow,ar.style.overflow="hidden",ar.appendChild(b)),r=v(h,w),g?h.parentNode.removeChild(h):(b.parentNode.removeChild(b),ar.style.overflow=o),!!r},Y=function(a){var f=ay.matchMedia||ay.msMatchMedia;if(f){return f(a).matches}var e;return Z("@media "+a+" { #"+aq+" { position: absolute; } }",function(c){e=(ay.getComputedStyle?getComputedStyle(c,null):c.currentStyle)["position"]=="absolute"}),e},X=function(){function c(h,g){g=g||ax.createElement(b[h]||"div"),h="on"+h;var a=h in g;return a||(g.setAttribute||(g=ax.createElement("div")),g.setAttribute&&g.removeAttribute&&(g.setAttribute(h,""),a=S(g[h],"function"),S(g[h],"undefined")||(g[h]=aw),g.removeAttribute(h))),g=null,a}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c}(),W={}.hasOwnProperty,V;!S(W,"undefined")&&!S(W.call,"undefined")?V=function(d,c){return W.call(d,c)}:V=function(d,c){return c in d&&S(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=ab.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(ab.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(ab.call(arguments)))};return f}),af.flexbox=function(){return O("flexWrap")},af.canvas=function(){var b=ax.createElement("canvas");return !!b.getContext&&!!b.getContext("2d")},af.canvastext=function(){return !!au.canvas&&!!S(ax.createElement("canvas").getContext("2d").fillText,"function")},af.webgl=function(){return !!ay.WebGLRenderingContext},af.touch=function(){var a;return"ontouchstart" in ay||ay.DocumentTouch&&ax instanceof DocumentTouch?a=!0:Z(["@media (",ak.join("touch-enabled),("),aq,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=b.offsetTop===9}),a},af.geolocation=function(){return"geolocation" in navigator},af.postmessage=function(){return !!ay.postMessage},af.websqldatabase=function(){return !!ay.openDatabase},af.indexedDB=function(){return !!O("indexedDB",ay)},af.hashchange=function(){return X("hashchange",ay)&&(ax.documentMode===aw||ax.documentMode>7)},af.history=function(){return !!ay.history&&!!history.pushState},af.draganddrop=function(){var b=ax.createElement("div");return"draggable" in b||"ondragstart" in b&&"ondrop" in b},af.websockets=function(){return"WebSocket" in ay||"MozWebSocket" in ay},af.rgba=function(){return U("background-color:rgba(150,255,150,.5)"),R(ao.backgroundColor,"rgba")},af.hsla=function(){return U("background-color:hsla(120,40%,100%,.5)"),R(ao.backgroundColor,"rgba")||R(ao.backgroundColor,"hsla")},af.multiplebgs=function(){return U("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(ao.background)},af.backgroundsize=function(){return O("backgroundSize")},af.borderimage=function(){return O("borderImage")},af.borderradius=function(){return O("borderRadius")},af.boxshadow=function(){return O("boxShadow")},af.textshadow=function(){return ax.createElement("div").style.textShadow===""},af.opacity=function(){return T("opacity:.55"),/^0.55$/.test(ao.opacity)},af.cssanimations=function(){return O("animationName")},af.csscolumns=function(){return O("columnCount")},af.cssgradients=function(){var e="background-image:",d="gradient(linear,left top,right bottom,from(#9f9),to(white));",f="linear-gradient(left top,#9f9, white);";return U((e+"-webkit- ".split(" ").join(d+e)+ak.join(f+e)).slice(0,-e.length)),R(ao.backgroundImage,"gradient")},af.cssreflections=function(){return O("boxReflect")},af.csstransforms=function(){return !!O("transform")},af.csstransforms3d=function(){var b=!!O("perspective");return b&&"webkitPerspective" in ar.style&&Z("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(a,d){b=a.offsetLeft===9&&a.offsetHeight===3}),b},af.csstransitions=function(){return O("transition")},af.fontface=function(){var b;return Z('@font-face {font-family:"font";src:url("https://")}',function(m,k){var j=ax.getElementById("smodernizr"),h=j.sheet||j.styleSheet,a=h?h.cssRules&&h.cssRules[0]?h.cssRules[0].cssText:h.cssText||"":"";b=/src/i.test(a)&&a.indexOf(k.split(" ")[0])===0}),b},af.generatedcontent=function(){var b;return Z(["#",aq,"{font:0/0 a}#",aq,':after{content:"',am,'";visibility:hidden;font:3px/1 a}'].join(""),function(a){b=a.offsetHeight>=3}),b},af.video=function(){var b=ax.createElement("video"),f=!1;try{if(f=!!b.canPlayType){f=new Boolean(f),f.ogg=b.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),f.h264=b.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),f.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(e){}return f},af.audio=function(){var b=ax.createElement("audio"),f=!1;try{if(f=!!b.canPlayType){f=new Boolean(f),f.ogg=b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),f.mp3=b.canPlayType("audio/mpeg;").replace(/^no$/,""),f.wav=b.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),f.m4a=(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(e){}return f},af.localstorage=function(){try{return localStorage.setItem(aq,aq),localStorage.removeItem(aq),!0}catch(b){return !1}},af.sessionstorage=function(){try{return sessionStorage.setItem(aq,aq),sessionStorage.removeItem(aq),!0}catch(b){return !1}},af.webworkers=function(){return !!ay.Worker},af.applicationcache=function(){return !!ay.applicationCache},af.svg=function(){return !!ax.createElementNS&&!!ax.createElementNS(ag.svg,"svg").createSVGRect},af.inlinesvg=function(){var b=ax.createElement("div");return b.innerHTML="<svg/>",(b.firstChild&&b.firstChild.namespaceURI)==ag.svg},af.smil=function(){return !!ax.createElementNS&&/SVGAnimate/.test(al.call(ax.createElementNS(ag.svg,"animate")))},af.svgclippaths=function(){return !!ax.createElementNS&&/SVGClipPath/.test(al.call(ax.createElementNS(ag.svg,"clipPath")))};for(var M in af){V(af,M)&&(aa=M.toLowerCase(),au[aa]=af[M](),ac.push((au[aa]?"":"no-")+aa))}return au.input||N(),au.addTest=function(e,c){if(typeof e=="object"){for(var f in e){V(e,f)&&au.addTest(f,e[f])}}else{e=e.toLowerCase();if(au[e]!==aw){return au}c=typeof c=="function"?c():c,typeof at!="undefined"&&at&&(ar.className+=" "+(c?"":"no-")+e),au[e]=c}return au},U(""),ap=an=null,function(J,I){function z(f,e){var h=f.createElement("p"),g=f.getElementsByTagName("head")[0]||f.documentElement;return h.innerHTML="x<style>"+e+"</style>",g.insertBefore(h.lastChild,g.firstChild)}function y(){var b=s.elements;return typeof b=="string"?b.split(" "):b}function x(d){var c=B[d[D]];return c||(c={},C++,d[D]=C,B[C]=c),c}function w(b,h,e){h||(h=I);if(A){return h.createElement(b)}e||(e=x(h));var d;return e.cache[b]?d=e.cache[b].cloneNode():F.test(b)?d=(e.cache[b]=e.createElem(b)).cloneNode():d=e.createElem(b),d.canHaveChildren&&!G.test(b)?e.frag.appendChild(d):d}function v(b,n){b||(b=I);if(A){return b.createDocumentFragment()}n=n||x(b);var m=n.frag.cloneNode(),k=0,j=y(),h=j.length;for(;k<h;k++){m.createElement(j[k])}return m}function u(d,c){c.cache||(c.cache={},c.createElem=d.createElement,c.createFrag=d.createDocumentFragment,c.frag=c.createFrag()),d.createElement=function(a){return s.shivMethods?w(a,d,c):c.createElem(a)},d.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+y().join().replace(/\w+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(s,c.frag)}function t(b){b||(b=I);var d=x(b);return s.shivCSS&&!E&&!d.hasCSS&&(d.hasCSS=!!z(b,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),A||u(b,d),b}var H=J.html5||{},G=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,F=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,E,D="_html5shiv",C=0,B={},A;(function(){try{var b=I.createElement("a");b.innerHTML="<xyz></xyz>",E="hidden" in b,A=b.childNodes.length==1||function(){I.createElement("a");var c=I.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()}catch(d){E=!0,A=!0}})();var s={elements:H.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:H.shivCSS!==!1,supportsUnknownElements:A,shivMethods:H.shivMethods!==!1,type:"default",shivDocument:t,createElement:w,createDocumentFragment:v};J.html5=s,t(I)}(this,ax),au._version=av,au._prefixes=ak,au._domPrefixes=ah,au._cssomPrefixes=ai,au.mq=Y,au.hasEvent=X,au.testProp=function(b){return Q([b])},au.testAllProps=O,au.testStyles=Z,au.prefixed=function(e,d,f){return d?O(e,d,f):O(e,"pfx")},ar.className=ar.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(at?" js "+ac.join(" "):""),au}(this,this.document),function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(x,w,v,t,s,q,n){function m(a){if(!g&&X(h.readyState)&&(y.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=x&&R(function(){I.removeChild(h)},50);for(var c in D[w]){D[w].hasOwnProperty(c)&&D[w][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(x),g=0,b=0,y={t:v,s:w,e:s,a:q,x:n};1===D[w]&&(b=1,D[w]=[]),"object"==x?h.data=w:(h.src=w,h.type=x),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(t,0,y),"img"!=x&&(b||2===D[w]?(I.insertBefore(h,J?null:Q),R(m,n)):D[w].push(h))}function U(g,e,k,j,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,k,j,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(j){var j=j.split("!"),h=E.length,t=j.pop(),s=j.length,t={url:t,origUrl:t,prefixes:j},r,q,o;for(q=0;q<s;q++){o=j[q].split("="),(r=C[o.shift()])&&(t=r(t,o))}for(q=0;q<h;q++){t=E[q](t)}return t}function n(b,u,t,s,r){var q=c(b),o=q.autoCallback;q.url.split(".").pop().split("?").shift(),q.bypass||(u&&(u=aa(u)?u:u[b]||u[s]||u[b.split("/").pop().split("?")[0]]),q.instead?q.instead(b,u,t,s,r):(D[q.url]?q.noexec=!0:D[q.url]=1,t.load(q.url,q.forceCSS||!q.forceJS&&"css"==q.url.split(".").pop().split("?").shift()?"c":ab,q.noexec,q.attrs,q.timeout),(aa(u)||aa(o))&&t.load(function(){T(),u&&u(q.origUrl,r,s),o&&o(q.origUrl,r,s),D[q.url]=2})))}function m(x,w){function v(b,h){if(b){if(Z(b)){h||(s=function(){var j=[].slice.call(arguments);r.apply(this,j),q()}),n(b,s,w,0,u)}else{if(Object(b)===b){for(g in o=function(){var a=0,j;for(j in b){b.hasOwnProperty(j)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(s)?s=function(){var j=[].slice.call(arguments);r.apply(this,j),q()}:s[g]=function(j){return function(){var a=[].slice.call(arguments);j&&j.apply(this,a),q()}}(r[g])),n(b[g],s,w,g,u))}}}}else{!h&&q()}}var u=!!x.test,t=x.load||x.both,s=x.callback||Y,r=s,q=x.complete||Y,o,g;v(u?x.yep:x.nope,!!t),t&&v(t)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(s,r,q,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=s;for(b in q){g.setAttribute(b,q[b])}r=h?W:r||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,r(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,r(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,o,n,m,k,h){var m=ac.createElement("link"),f,o=h?W:o||Y;m.href=b,m.rel="stylesheet",m.type="text/css";for(f in n){m.setAttribute(f,n[f])}k||(Q.parentNode.insertBefore(m,Q),R(o,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
/*! jQuery UI - v1.10.4 - 2014-01-19
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(g,d){function c(k,j){var m,e,q,n=k.nodeName.toLowerCase();return"area"===n?(m=k.parentNode,e=m.name,k.href&&e&&"map"===m.nodeName.toLowerCase()?(q=g("img[usemap=#"+e+"]")[0],!!q&&h(q)):!1):(/input|select|textarea|button|object/.test(n)?!k.disabled:"a"===n?k.href||j:j)&&h(k)}function h(a){return g.expr.filters.visible(a)&&!g(a).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility")}).length}var f=0,b=/^ui-id-\d+$/;g.ui=g.ui||{},g.extend(g.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var k=this;setTimeout(function(){g(k).focus(),j&&j.call(k)},e)}):a.apply(this,arguments)}}(g.fn.focus),scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(j){if(j!==d){return this.css("zIndex",j)}if(this.length){for(var m,k,e=g(this[0]);e.length&&e[0]!==document;){if(m=e.css("position"),("absolute"===m||"relative"===m||"fixed"===m)&&(k=parseInt(e.css("zIndex"),10),!isNaN(k)&&0!==k)){return k}e=e.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){b.test(this.id)&&g(this).removeAttr("id")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a)}}):function(e,a,j){return !!g.data(e,j[3])},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(a){var j=g.attr(a,"tabindex"),e=isNaN(j);return(e||j>=0)&&c(a,!e)}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,t){function k(o,a,u,r){return g.each(e,function(){a-=parseFloat(g.css(o,"padding"+this))||0,u&&(a-=parseFloat(g.css(o,"border"+this+"Width"))||0),r&&(a-=parseFloat(g.css(o,"margin"+this))||0)}),a}var e="Width"===t?["Left","Right"]:["Top","Bottom"],q=t.toLowerCase(),m={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+t]=function(a){return a===d?m["inner"+t].call(this):this.each(function(){g(this).css(q,k(this,a)+"px")})},g.fn["outer"+t]=function(n,a){return"number"!=typeof n?m["outer"+t].call(this,n):this.each(function(){g(this).css(q,k(this,n,!0,a)+"px")})}}),g.fn.addBack||(g.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this)}}(g.fn.removeData)),g.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),g.support.selectstart="onselectstart" in document.createElement("div"),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(k,j,o){var m,e=g.ui[k].prototype;for(m in o){e.plugins[m]=e.plugins[m]||[],e.plugins[m].push([j,o[m]])}},call:function(m,j,a){var o,k=m.plugins[j];if(k&&m.element[0].parentNode&&11!==m.element[0].parentNode.nodeType){for(o=0;k.length>o;o++){m.options[k[o][0]]&&k[o][1].apply(m.element,a)}}}},hasScroll:function(e,a){if("hidden"===g(e).css("overflow")){return !1}var k=a&&"left"===a?"scrollLeft":"scrollTop",j=!1;return e[k]>0?!0:(e[k]=1,j=e[k]>0,e[k]=0,j)}})})(jQuery);(function(b,d){var a=0,c=Array.prototype.slice,f=b.cleanData;b.cleanData=function(j){for(var g,h=0;null!=(g=j[h]);h++){try{b(g).triggerHandler("remove")}catch(k){}}f(j)},b.widget=function(m,v,j){var g,u,e,q,k={},t=m.split(".")[0];m=m.split(".")[1],g=t+"-"+m,j||(j=v,v=b.Widget),b.expr[":"][g.toLowerCase()]=function(h){return !!b.data(h,g)},b[t]=b[t]||{},u=b[t][m],e=b[t][m]=function(n,h){return this._createWidget?(arguments.length&&this._createWidget(n,h),d):new e(n,h)},b.extend(e,u,{version:j.version,_proto:b.extend({},j),_childConstructors:[]}),q=new v,q.options=b.widget.extend({},q.options),b.each(j,function(h,o){return b.isFunction(o)?(k[h]=function(){var n=function(){return v.prototype[h].apply(this,arguments)},r=function(s){return v.prototype[h].apply(this,s)};return function(){var w,x=this._super,y=this._superApply;return this._super=n,this._superApply=r,w=o.apply(this,arguments),this._super=x,this._superApply=y,w}}(),d):(k[h]=o,d)}),e.prototype=b.widget.extend(q,{widgetEventPrefix:u?q.widgetEventPrefix||m:m},k,{constructor:e,namespace:t,widgetName:m,widgetFullName:g}),u?(b.each(u._childConstructors,function(o,h){var n=h.prototype;b.widget(n.namespace+"."+n.widgetName,e,h._proto)}),delete u._childConstructors):v._childConstructors.push(e),b.widget.bridge(m,e)},b.widget.extend=function(g){for(var q,m,e=c.call(arguments,1),k=0,j=e.length;j>k;k++){for(q in e[k]){m=e[k][q],e[k].hasOwnProperty(q)&&m!==d&&(g[q]=b.isPlainObject(m)?b.isPlainObject(g[q])?b.widget.extend({},g[q],m):b.widget.extend({},m):m)}}return g},b.widget.bridge=function(e,h){var g=h.prototype.widgetFullName||e;b.fn[e]=function(k){var n="string"==typeof k,m=c.call(arguments,1),j=this;return k=!n&&m.length?b.widget.extend.apply(null,[k].concat(m)):k,n?this.each(function(){var o,q=b.data(this,g);return q?b.isFunction(q[k])&&"_"!==k.charAt(0)?(o=q[k].apply(q,m),o!==q&&o!==d?(j=o&&o.jquery?j.pushStack(o.get()):o,!1):d):b.error("no such method '"+k+"' for "+e+" widget instance"):b.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+k+"'")}):this.each(function(){var o=b.data(this,g);o?o.option(k||{})._init():b.data(this,g,new h(k,this))}),j}},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(h,g){g=b(g||this.defaultElement||this)[0],this.element=b(g),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=b.widget.extend({},this.options,this._getCreateOptions(),h),this.bindings=b(),this.hoverable=b(),this.focusable=b(),g!==this&&(b.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===g&&this.destroy()}}),this.document=b(g.style?g.ownerDocument:g.document||g),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(g,h){var m,k,e,j=g;if(0===arguments.length){return b.widget.extend({},this.options)}if("string"==typeof g){if(j={},m=g.split("."),g=m.shift(),m.length){for(k=j[g]=b.widget.extend({},this.options[g]),e=0;m.length-1>e;e++){k[m[e]]=k[m[e]]||{},k=k[m[e]]}if(g=m.pop(),1===arguments.length){return k[g]===d?null:k[g]}k[g]=h}else{if(1===arguments.length){return this.options[g]===d?null:this.options[g]}j[g]=h}}return this._setOptions(j),this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){return this.options[g]=h,"disabled"===g&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,h,k){var j,e=this;"boolean"!=typeof g&&(k=h,h=g,g=!1),k?(h=j=b(h),this.bindings=this.bindings.add(h)):(k=h,h=this.element,j=this.widget()),b.each(k,function(v,s){function q(){return g||e.options.disabled!==!0&&!b(this).hasClass("ui-state-disabled")?("string"==typeof s?e[s]:s).apply(e,arguments):d}"string"!=typeof s&&(q.guid=s.guid=s.guid||q.guid||b.guid++);var m=v.match(/^(\w+)\s*(.*)$/),t=m[1]+e.eventNamespace,o=m[2];o?j.delegate(o,t,q):h.bind(t,q)})},_off:function(g,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(h).undelegate(h)},_delay:function(h,k){function g(){return("string"==typeof h?j[h]:h).apply(j,arguments)}var j=this;return setTimeout(g,k||0)},_hoverable:function(g){this.hoverable=this.hoverable.add(g),this._on(g,{mouseenter:function(h){b(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){b(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(g){this.focusable=this.focusable.add(g),this._on(g,{focusin:function(h){b(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){b(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(k,h,j){var q,m,g=this.options[k];if(j=j||{},h=b.Event(h),h.type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),h.target=this.element[0],m=h.originalEvent){for(q in m){q in h||(h[q]=m[q])}}return this.element.trigger(h,j),!(b.isFunction(g)&&g.apply(this.element[0],[h].concat(j))===!1||h.isDefaultPrevented())}},b.each({show:"fadeIn",hide:"fadeOut"},function(h,g){b.Widget.prototype["_"+h]=function(j,q,m){"string"==typeof q&&(q={effect:q});var e,k=q?q===!0||"number"==typeof q?g:q.effect||g:h;q=q||{},"number"==typeof q&&(q={duration:q}),e=!b.isEmptyObject(q),q.complete=m,q.delay&&j.delay(q.delay),e&&b.effects&&b.effects.effect[k]?j[h](q):k!==h&&j[k]?j[k](q.duration,q.easing,m):j.queue(function(n){b(this)[h](),m&&m.call(j[0]),n()})}})})(jQuery);(function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===a.data(d.target,c.widgetName+".preventClickEvent")?(a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!b){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(C,x){function q(c,d,a){return[parseFloat(c[0])*(g.test(c[0])?d/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)]}function D(c,a){return parseInt(C.css(c,a),10)||0}function k(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:C.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}C.ui=C.ui||{};var A,j=Math.max,b=Math.abs,m=Math.round,v=/left|center|right/,z=/top|center|bottom/,B=/[\+\-]\d+(\.[\d]+)?%?/,y=/^\w+/,g=/%$/,w=C.fn.position;C.position={scrollbarWidth:function(){if(A!==x){return A}var a,c,e=C("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=e.children()[0];return C("body").append(e),a=d.offsetWidth,e.css("overflow","scroll"),c=d.offsetWidth,a===c&&(c=e[0].clientWidth),e.remove(),A=a-c},getScrollInfo:function(h){var d=h.isWindow||h.isDocument?"":h.element.css("overflow-x"),f=h.isWindow||h.isDocument?"":h.element.css("overflow-y"),o="scroll"===d||"auto"===d&&h.width<h.element[0].scrollWidth,c="scroll"===f||"auto"===f&&h.height<h.element[0].scrollHeight;return{width:c?C.position.scrollbarWidth():0,height:o?C.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=C(d||window),c=C.isWindow(a[0]),f=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:c,isDocument:f,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},C.fn.position=function(o){if(!o||!o.of){return w.apply(this,arguments)}o=C.extend({},o);var t,d,n,f,F,E,s=C(o.of),r=C.position.getWithinInfo(o.within),h=C.position.getScrollInfo(r),u=(o.collision||"flip").split(" "),c={};return E=k(s),s[0].preventDefault&&(o.at="left top"),d=E.width,n=E.height,f=E.offset,F=C.extend({},f),C.each(["my","at"],function(){var e,a,G=(o[this]||"").split(" ");1===G.length&&(G=v.test(G[0])?G.concat(["center"]):z.test(G[0])?["center"].concat(G):["center","center"]),G[0]=v.test(G[0])?G[0]:"center",G[1]=z.test(G[1])?G[1]:"center",e=B.exec(G[0]),a=B.exec(G[1]),c[this]=[e?e[0]:0,a?a[0]:0],o[this]=[y.exec(G[0])[0],y.exec(G[1])[0]]}),1===u.length&&(u[1]=u[0]),"right"===o.at[0]?F.left+=d:"center"===o.at[0]&&(F.left+=d/2),"bottom"===o.at[1]?F.top+=n:"center"===o.at[1]&&(F.top+=n/2),t=q(c.at,d,n),F.left+=t[0],F.top+=t[1],this.each(function(){var e,H,L=C(this),P=L.outerWidth(),K=L.outerHeight(),I=D(this,"marginLeft"),O=D(this,"marginTop"),N=P+I+D(this,"marginRight")+h.width,a=K+O+D(this,"marginBottom")+h.height,J=C.extend({},F),G=q(c.my,L.outerWidth(),L.outerHeight());"right"===o.my[0]?J.left-=P:"center"===o.my[0]&&(J.left-=P/2),"bottom"===o.my[1]?J.top-=K:"center"===o.my[1]&&(J.top-=K/2),J.left+=G[0],J.top+=G[1],C.support.offsetFractions||(J.left=m(J.left),J.top=m(J.top)),e={marginLeft:I,marginTop:O},C.each(["left","top"],function(M,Q){C.ui.position[u[M]]&&C.ui.position[u[M]][Q](J,{targetWidth:d,targetHeight:n,elemWidth:P,elemHeight:K,collisionPosition:e,collisionWidth:N,collisionHeight:a,offset:[t[0]+G[0],t[1]+G[1]],my:o.my,at:o.at,within:r,elem:L})}),o.using&&(H=function(S){var R=f.left-J.left,T=R+d-P,U=f.top-J.top,Q=U+n-K,M={target:{element:s,left:f.left,top:f.top,width:d,height:n},element:{element:L,left:J.left,top:J.top,width:P,height:K},horizontal:0>T?"left":R>0?"right":"center",vertical:0>Q?"top":U>0?"bottom":"middle"};P>d&&d>b(R+T)&&(M.horizontal="center"),K>n&&n>b(U+Q)&&(M.vertical="middle"),M.important=j(b(R),b(T))>j(b(U),b(Q))?"horizontal":"vertical",o.using.call(this,S,M)}),L.offset(C.extend(J,{using:H}))})},C.ui.position={fit:{left:function(G,E){var o,H=E.within,d=H.isWindow?H.scrollLeft:H.offset.left,F=H.width,c=G.left-E.collisionPosition.marginLeft,f=d-c,u=c+E.collisionWidth-F-d;E.collisionWidth>F?f>0&&0>=u?(o=G.left+f+E.collisionWidth-F-d,G.left+=f-o):G.left=u>0&&0>=f?d:f>u?d+F-E.collisionWidth:d:f>0?G.left+=f:u>0?G.left-=u:G.left=j(G.left-c,G.left)},top:function(G,E){var o,H=E.within,d=H.isWindow?H.scrollTop:H.offset.top,F=E.within.height,c=G.top-E.collisionPosition.marginTop,f=d-c,u=c+E.collisionHeight-F-d;E.collisionHeight>F?f>0&&0>=u?(o=G.top+f+E.collisionHeight-F-d,G.top+=f-o):G.top=u>0&&0>=f?d:f>u?d+F-E.collisionHeight:d:f>0?G.top+=f:u>0?G.top-=u:G.top=j(G.top-c,G.top)}},flip:{left:function(P,K){var H,Q,F=K.within,N=F.offset.left+F.scrollLeft,E=F.width,G=F.isWindow?F.scrollLeft:F.offset.left,I=P.left-K.collisionPosition.marginLeft,M=I-G,O=I+K.collisionWidth-E-G,L="left"===K.my[0]?-K.elemWidth:"right"===K.my[0]?K.elemWidth:0,r="left"===K.at[0]?K.targetWidth:"right"===K.at[0]?-K.targetWidth:0,J=-2*K.offset[0];0>M?(H=P.left+L+r+J+K.collisionWidth-E-N,(0>H||b(M)>H)&&(P.left+=L+r+J)):O>0&&(Q=P.left-K.collisionPosition.marginLeft+L+r+J-G,(Q>0||O>b(Q))&&(P.left+=L+r+J))},top:function(Q,L){var H,R,F=L.within,O=F.offset.top+F.scrollTop,E=F.height,G=F.isWindow?F.scrollTop:F.offset.top,I=Q.top-L.collisionPosition.marginTop,N=I-G,P=I+L.collisionHeight-E-G,M="top"===L.my[1],r=M?-L.elemHeight:"bottom"===L.my[1]?L.elemHeight:0,K="top"===L.at[1]?L.targetHeight:"bottom"===L.at[1]?-L.targetHeight:0,J=-2*L.offset[1];0>N?(R=Q.top+r+K+J+L.collisionHeight-E-O,Q.top+r+K+J>N&&(0>R||b(N)>R)&&(Q.top+=r+K+J)):P>0&&(H=Q.top-L.collisionPosition.marginTop+r+K+J-G,Q.top+r+K+J>P&&(H>0||P>b(H))&&(Q.top+=r+K+J))}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}},function(){var t,d,f,E,c,u=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(u?"div":"body"),f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&C.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in f){t.style[c]=f[c]}t.appendChild(h),d=u||document.documentElement,d.insertBefore(t,d.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",E=C(h).offset().left,C.support.offsetFractions=E>10&&11>E,t.innerHTML="",d.removeChild(t)}()})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(d,b){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",d,c)===!1){return this._mouseUp({}),!1}this.position=c.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var b=this,c=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,d)),this.dropped&&(c=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",d)!==!1&&b._clear()}):this._trigger("stop",d)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(d){var b=this.options,c=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[d])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,b,c,f=this.options;return f.containment?"window"===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===f.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):f.containment.constructor===Array?(this.containment=f.containment,undefined):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),b=a(f.containment),c=b[0],c&&(d="hidden"!==b.css("overflow"),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b),undefined):(this.containment=null,undefined)},_convertPositionTo:function(d,b){b||(b=this.position);var c="absolute"===d?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()}),{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*c}},_generatePosition:function(k){var g,q,d,m,c=this.options,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=k.pageX,j=k.pageY;return this.offset.scroll||(this.offset.scroll={top:b.scrollTop(),left:b.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(q=this.relative_container.offset(),g=[this.containment[0]+q.left,this.containment[1]+q.top,this.containment[2]+q.left,this.containment[3]+q.top]):g=this.containment,k.pageX-this.offset.click.left<g[0]&&(f=g[0]+this.offset.click.left),k.pageY-this.offset.click.top<g[1]&&(j=g[1]+this.offset.click.top),k.pageX-this.offset.click.left>g[2]&&(f=g[2]+this.offset.click.left),k.pageY-this.offset.click.top>g[3]&&(j=g[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,j=g?d-this.offset.click.top>=g[1]||d-this.offset.click.top>g[3]?d:d-this.offset.click.top>=g[1]?d-c.grid[1]:d+c.grid[1]:d,m=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,f=g?m-this.offset.click.left>=g[0]||m-this.offset.click.left>g[2]?m:m-this.offset.click.left>=g[0]?m-c.grid[0]:m+c.grid[0]:m)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(d,b,c){return c=c||this._uiHash(),a.ui.plugin.call(this,d,[b,c]),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(f,c){var d=a(this).data("ui-draggable"),g=d.options,b=a.extend({},c,{item:d.element});d.sortables=[],a(g.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",f,b))})},stop:function(d,b){var c=a(this).data("ui-draggable"),f=a.extend({},b,{item:c.element});a.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,f))})},drag:function(d,b){var c=a(this).data("ui-draggable"),f=this;a.each(c.sortables,function(){var e=!1,g=this;this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,a.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",d),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",d),c.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("ui-draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("opacity")&&(f._opacity=c.css("opacity")),c.css("opacity",f.opacity)},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._opacity&&a(b.helper).css("opacity",c._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(d){var b=a(this).data("ui-draggable"),c=b.options,f=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(c.axis&&"x"===c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed:d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed:d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(d.pageY-a(document).scrollTop()<c.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(d.pageX-a(document).scrollLeft()<c.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var d=a(this),e=d.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(F,B){var q,y,J,x,t,A,C,H,k,G,w=a(this).data("ui-draggable"),D=w.options,E=D.snapTolerance,z=B.offset.left,K=z+w.helperProportions.width,j=B.offset.top,I=j+w.helperProportions.height;for(k=w.snapElements.length-1;k>=0;k--){t=w.snapElements[k].left,A=t+w.snapElements[k].width,C=w.snapElements[k].top,H=C+w.snapElements[k].height,t-E>K||z>A+E||C-E>I||j>H+E||!a.contains(w.snapElements[k].item.ownerDocument,w.snapElements[k].item)?(w.snapElements[k].snapping&&w.options.snap.release&&w.options.snap.release.call(w.element,F,a.extend(w._uiHash(),{snapItem:w.snapElements[k].item})),w.snapElements[k].snapping=!1):("inner"!==D.snapMode&&(q=E>=Math.abs(C-I),y=E>=Math.abs(H-j),J=E>=Math.abs(t-K),x=E>=Math.abs(A-z),q&&(B.position.top=w._convertPositionTo("relative",{top:C-w.helperProportions.height,left:0}).top-w.margins.top),y&&(B.position.top=w._convertPositionTo("relative",{top:H,left:0}).top-w.margins.top),J&&(B.position.left=w._convertPositionTo("relative",{top:0,left:t-w.helperProportions.width}).left-w.margins.left),x&&(B.position.left=w._convertPositionTo("relative",{top:0,left:A}).left-w.margins.left)),G=q||y||J||x,"outer"!==D.snapMode&&(q=E>=Math.abs(C-j),y=E>=Math.abs(H-I),J=E>=Math.abs(t-z),x=E>=Math.abs(A-K),q&&(B.position.top=w._convertPositionTo("relative",{top:C,left:0}).top-w.margins.top),y&&(B.position.top=w._convertPositionTo("relative",{top:H-w.helperProportions.height,left:0}).top-w.margins.top),J&&(B.position.left=w._convertPositionTo("relative",{top:0,left:t}).left-w.margins.left),x&&(B.position.left=w._convertPositionTo("relative",{top:0,left:A-w.helperProportions.width}).left-w.margins.left)),!w.snapElements[k].snapping&&(q||y||J||x||G)&&w.options.snap.snap&&w.options.snap.snap.call(w.element,F,a.extend(w._uiHash(),{snapItem:w.snapElements[k].item})),w.snapElements[k].snapping=q||y||J||x||G)}}}),a.ui.plugin.add("draggable","stack",{start:function(){var d,b=this.data("ui-draggable").options,c=a.makeArray(a(b.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});c.length&&(d=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(e){a(this).css("zIndex",d+e)}),this.css("zIndex",d+c.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("zIndex")&&(f._zIndex=c.css("zIndex")),c.css("zIndex",f.zIndex)},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._zIndex&&a(b.helper).css("zIndex",c._zIndex)}})})(jQuery);(function(a){function b(d,f,c){return d>f&&f+c>d}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var f,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(e){return e.is(d)},this.proportions=function(){return arguments.length?(f=arguments[0],undefined):f?f:f={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var d=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>d;d++){c[d]===this&&c.splice(d,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,c){"accept"===d&&(this.accept=a.isFunction(c)?c:function(e){return e.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(c)))},_out:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(c)))},_drop:function(f,c){var d=c||a.ui.ddmanager.current,g=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=a.data(this,"ui-droppable");return h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(h,{offset:h.element.offset()}),h.options.tolerance)?(g=!0,!1):undefined}),g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(d)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),a.ui.intersect=function(z,m,A){if(!m.offset){return !1}var j,x,g=(z.positionAbs||z.position.absolute).left,e=(z.positionAbs||z.position.absolute).top,k=g+z.helperProportions.width,q=e+z.helperProportions.height,w=m.offset.left,y=m.offset.top,v=w+m.proportions().width,f=y+m.proportions().height;switch(A){case"fit":return g>=w&&v>=k&&e>=y&&f>=q;case"intersect":return g+z.helperProportions.width/2>w&&v>k-z.helperProportions.width/2&&e+z.helperProportions.height/2>y&&f>q-z.helperProportions.height/2;case"pointer":return j=(z.positionAbs||z.position.absolute).left+(z.clickOffset||z.offset.click).left,x=(z.positionAbs||z.position.absolute).top+(z.clickOffset||z.offset.click).top,b(x,y,m.proportions().height)&&b(j,w,m.proportions().width);case"touch":return(e>=y&&f>=e||q>=y&&f>=q||y>e&&q>f)&&(g>=w&&v>=g||k>=w&&v>=k||w>g&&k>v);default:return !1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,d){var f,k,c=a.ui.ddmanager.droppables[h.options.scope]||[],j=d?d.type:null,g=(h.currentItem||h.element).find(":data(ui-droppable)").addBack();a:for(f=0;c.length>f;f++){if(!(c[f].options.disabled||h&&!c[f].accept.call(c[f].element[0],h.currentItem||h.element))){for(k=0;g.length>k;k++){if(g[k]===c[f].element[0]){c[f].proportions().height=0;continue a}}c[f].visible="none"!==c[f].element.css("display"),c[f].visible&&("mousedown"===j&&c[f]._activate.call(c[f],d),c[f].offset=c[f].element.offset(),c[f].proportions({width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight}))}}},drop:function(f,c){var d=!1;return a.each((a.ui.ddmanager.droppables[f.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(f,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(d,c){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)})},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c),a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,j,e,h=a.ui.intersect(d,this,this.options.tolerance),g=!h&&this.isover?"isout":h&&!this.isover?"isover":null;g&&(this.options.greedy&&(j=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===j}),e.length&&(f=a.data(e[0],"ui-droppable"),f.greedyChild="isover"===g)),f&&"isover"===g&&(f.isover=!1,f.isout=!0,f._out.call(f,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),f&&"isout"===g&&(f.isout=!1,f.isover=!0,f._over.call(f,c)))}})},dragStop:function(d,c){d.element.parentsUntil("body").unbind("scroll.droppable"),d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)}}})(jQuery);(function(b){function c(d){return parseInt(d,10)||0}function a(d){return !isNaN(parseInt(d,10))}b.widget("ui.resizable",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var j,f,g,m,d,k=this,h=this.options;if(this.element.addClass("ui-resizable"),b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),j=this.handles.split(","),this.handles={},f=0;j.length>f;f++){g=b.trim(j[f]),d="ui-resizable-"+g,m=b("<div class='ui-resizable-handle "+d+"'></div>"),m.css({zIndex:h.zIndex}),"se"===g&&m.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(m)}}this._renderAxis=function(t){var q,r,u,o;t=t||this.element;for(q in this.handles){this.handles[q].constructor===String&&(this.handles[q]=b(this.handles[q],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=b(this.handles[q],this.element),o=/sw|ne|nw|se|n|s/.test(q)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),t.css(u,o),this._proportionallyResize()),b(this.handles[q]).length}},this._renderAxis(this.element),this._handles=b(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){k.resizing||(this.className&&(m=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=m&&m[1]?m[1]:"se")}),h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),k._handles.show())}).mouseleave(function(){h.disabled||k.resizing||(b(this).addClass("ui-resizable-autohide"),k._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,d=function(g){b(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),f=this.element,this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f),f.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this},_mouseCapture:function(g){var d,f,h=!1;for(d in this.handles){f=b(this.handles[d])[0],(f===g.target||b.contains(f,g.target))&&(h=!0)}return !this.options.disabled&&h},_mouseStart:function(e){var g,m,d,k=this.options,j=this.element.position(),f=this.element;return this.resizing=!0,/absolute/.test(f.css("position"))?f.css({position:"absolute",top:f.css("top"),left:f.css("left")}):f.is(".ui-draggable")&&f.css({position:"absolute",top:j.top,left:j.left}),this._renderProxy(),g=c(this.helper.css("left")),m=c(this.helper.css("top")),k.containment&&(g+=b(k.containment).scrollLeft()||0,m+=b(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:m},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:m},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===d?this.axis+"-resize":d),f.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(v){var q,A=this.helper,k={},y=this.originalMousePosition,j=this.axis,f=this.position.top,t=this.position.left,m=this.size.width,x=this.size.height,z=v.pageX-y.left||0,w=v.pageY-y.top||0,g=this._change[j];return g?(q=g.apply(this,[v,z,w]),this._updateVirtualBoundaries(v.shiftKey),(this._aspectRatio||v.shiftKey)&&(q=this._updateRatio(q,v)),q=this._respectSize(q,v),this._updateCache(q),this._propagate("resize",v),this.position.top!==f&&(k.top=this.position.top+"px"),this.position.left!==t&&(k.left=this.position.left+"px"),this.size.width!==m&&(k.width=this.size.width+"px"),this.size.height!==x&&(k.height=this.size.height+"px"),A.css(k),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(k)||this._trigger("resize",v,this.ui()),!1):!1},_mouseStop:function(q){this.resizing=!1;var k,v,g,u,f,d,m,j=this.options,t=this;return this._helper&&(k=this._proportionallyResizeElements,v=k.length&&/textarea/i.test(k[0].nodeName),g=v&&b.ui.hasScroll(k[0],"left")?0:t.sizeDiff.height,u=v?0:t.sizeDiff.width,f={width:t.helper.width()-u,height:t.helper.height()-g},d=parseInt(t.element.css("left"),10)+(t.position.left-t.originalPosition.left)||null,m=parseInt(t.element.css("top"),10)+(t.position.top-t.originalPosition.top)||null,j.animate||this.element.css(b.extend(f,{top:m,left:d})),t.helper.height(t.size.height),t.helper.width(t.size.width),this._helper&&!j.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",q),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(f){var j,g,m,d,k,h=this.options;k={minWidth:a(h.minWidth)?h.minWidth:0,maxWidth:a(h.maxWidth)?h.maxWidth:1/0,minHeight:a(h.minHeight)?h.minHeight:0,maxHeight:a(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||f)&&(j=k.minHeight*this.aspectRatio,m=k.minWidth/this.aspectRatio,g=k.maxHeight*this.aspectRatio,d=k.maxWidth/this.aspectRatio,j>k.minWidth&&(k.minWidth=j),m>k.minHeight&&(k.minHeight=m),k.maxWidth>g&&(k.maxWidth=g),k.maxHeight>d&&(k.maxHeight=d)),this._vBoundaries=k},_updateCache:function(d){this.offset=this.helper.offset(),a(d.left)&&(this.position.left=d.left),a(d.top)&&(this.position.top=d.top),a(d.height)&&(this.size.height=d.height),a(d.width)&&(this.size.width=d.width)},_updateRatio:function(d){var g=this.position,f=this.size,h=this.axis;return a(d.height)?d.width=d.height*this.aspectRatio:a(d.width)&&(d.height=d.width/this.aspectRatio),"sw"===h&&(d.left=g.left+(f.width-d.width),d.top=null),"nw"===h&&(d.top=g.top+(f.height-d.height),d.left=g.left+(f.width-d.width)),d},_respectSize:function(x){var m=this._vBoundaries,y=this.axis,g=a(x.width)&&m.maxWidth&&m.maxWidth<x.width,v=a(x.height)&&m.maxHeight&&m.maxHeight<x.height,f=a(x.width)&&m.minWidth&&m.minWidth>x.width,d=a(x.height)&&m.minHeight&&m.minHeight>x.height,k=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,q=/sw|nw|w/.test(y),w=/nw|ne|n/.test(y);return f&&(x.width=m.minWidth),d&&(x.height=m.minHeight),g&&(x.width=m.maxWidth),v&&(x.height=m.maxHeight),f&&q&&(x.left=k-m.minWidth),g&&q&&(x.left=k-m.maxWidth),d&&w&&(x.top=j-m.minHeight),v&&w&&(x.top=j-m.maxHeight),x.width||x.height||x.left||!x.top?x.width||x.height||x.top||!x.left||(x.left=null):x.top=null,x},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var g,j,f,h,k,d=this.helper||this.element;for(g=0;this._proportionallyResizeElements.length>g;g++){if(k=this._proportionallyResizeElements[g],!this.borderDif){for(this.borderDif=[],f=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],h=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")],j=0;f.length>j;j++){this.borderDif[j]=(parseInt(f[j],10)||0)+(parseInt(h[j],10)||0)}}k.css({height:d.height()-this.borderDif[0]-this.borderDif[2]||0,width:d.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var f=this.element,d=this.options;this.elementOffset=f.offset(),this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(d,f){return{width:this.originalSize.width+f}},w:function(f,h){var d=this.originalSize,g=this.originalPosition;return{left:g.left+h,width:d.width-h}},n:function(f,h,d){var g=this.originalSize,j=this.originalPosition;return{top:j.top+d,height:g.height-d}},s:function(f,g,d){return{height:this.originalSize.height+d}},se:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,d,f]))},sw:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,d,f]))},ne:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,d,f]))},nw:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,d,f]))}},_propagate:function(f,d){b.ui.plugin.call(this,f,[d,this.ui()]),"resize"!==f&&this._trigger(f,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),b.ui.plugin.add("resizable","animate",{stop:function(q){var k=b(this).data("ui-resizable"),v=k.options,g=k._proportionallyResizeElements,u=g.length&&/textarea/i.test(g[0].nodeName),f=u&&b.ui.hasScroll(g[0],"left")?0:k.sizeDiff.height,d=u?0:k.sizeDiff.width,m={width:k.size.width-d,height:k.size.height-f},j=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,t=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null;k.element.animate(b.extend(m,t&&j?{top:t,left:j}:{}),{duration:v.animateDuration,easing:v.animateEasing,step:function(){var e={width:parseInt(k.element.css("width"),10),height:parseInt(k.element.css("height"),10),top:parseInt(k.element.css("top"),10),left:parseInt(k.element.css("left"),10)};g&&g.length&&b(g[0]).css({width:e.width,height:e.height}),k._updateCache(e),k._propagate("resize",q)}})}}),b.ui.plugin.add("resizable","containment",{start:function(){var m,y,j,w,g,e,q,k=b(this).data("ui-resizable"),v=k.options,x=k.element,t=v.containment,f=t instanceof b?t.get(0):/parent/.test(t)?x.parent().get(0):t;f&&(k.containerElement=b(f),/document/.test(t)||t===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(m=b(f),y=[],b(["Top","Right","Left","Bottom"]).each(function(d,h){y[d]=c(m.css("padding"+h))}),k.containerOffset=m.offset(),k.containerPosition=m.position(),k.containerSize={height:m.innerHeight()-y[3],width:m.innerWidth()-y[1]},j=k.containerOffset,w=k.containerSize.height,g=k.containerSize.width,e=b.ui.hasScroll(f,"left")?f.scrollWidth:g,q=b.ui.hasScroll(f)?f.scrollHeight:w,k.parentData={element:f,left:j.left,top:j.top,width:e,height:q}))},resize:function(t){var m,z,j,x,g=b(this).data("ui-resizable"),f=g.options,q=g.containerOffset,k=g.position,w=g._aspectRatio||t.shiftKey,y={top:0,left:0},v=g.containerElement;v[0]!==document&&/static/.test(v.css("position"))&&(y=q),k.left<(g._helper?q.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-q.left:g.position.left-y.left),w&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=f.helper?q.left:0),k.top<(g._helper?q.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-q.top:g.position.top),w&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?q.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,m=Math.abs((g._helper?g.offset.left-y.left:g.offset.left-y.left)+g.sizeDiff.width),z=Math.abs((g._helper?g.offset.top-y.top:g.offset.top-q.top)+g.sizeDiff.height),j=g.containerElement.get(0)===g.element.parent().get(0),x=/relative|absolute/.test(g.containerElement.css("position")),j&&x&&(m-=Math.abs(g.parentData.left)),m+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-m,w&&(g.size.height=g.size.width/g.aspectRatio)),z+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-z,w&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var q=b(this).data("ui-resizable"),k=q.options,u=q.containerOffset,g=q.containerPosition,t=q.containerElement,f=b(q.helper),d=f.offset(),m=f.outerWidth()-q.sizeDiff.width,j=f.outerHeight()-q.sizeDiff.height;q._helper&&!k.animate&&/relative/.test(t.css("position"))&&b(this).css({left:d.left-g.left-u.left,width:m,height:j}),q._helper&&!k.animate&&/static/.test(t.css("position"))&&b(this).css({left:d.left-g.left-u.left,width:m,height:j})}}),b.ui.plugin.add("resizable","alsoResize",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=function(h){b(h).each(function(){var j=b(this);j.data("ui-resizable-alsoresize",{width:parseInt(j.width(),10),height:parseInt(j.height(),10),left:parseInt(j.css("left"),10),top:parseInt(j.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?f(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],f(d.alsoResize)):b.each(d.alsoResize,function(e){f(e)})},resize:function(m,f){var j=b(this).data("ui-resizable"),t=j.options,d=j.originalSize,q=j.originalPosition,k={height:j.size.height-d.height||0,width:j.size.width-d.width||0,top:j.position.top-q.top||0,left:j.position.left-q.left||0},g=function(n,h){b(n).each(function(){var s=b(this),v=b(this).data("ui-resizable-alsoresize"),r={},u=h&&h.length?h:s.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(u,function(w,x){var o=(v[x]||0)+(k[x]||0);o&&o>=0&&(r[x]=o||null)}),s.css(r)})};"object"!=typeof t.alsoResize||t.alsoResize.nodeType?g(t.alsoResize):b.each(t.alsoResize,function(h,n){g(h,n)})},stop:function(){b(this).removeData("resizable-alsoresize")}}),b.ui.plugin.add("resizable","ghost",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=g.size;g.ghost=g.originalElement.clone(),g.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),g.ghost.appendTo(g.helper)},resize:function(){var d=b(this).data("ui-resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=b(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),b.ui.plugin.add("resizable","grid",{resize:function(){var C=b(this).data("ui-resizable"),y=C.options,I=C.size,t=C.originalSize,F=C.originalPosition,q=C.axis,j="number"==typeof y.grid?[y.grid,y.grid]:y.grid,z=j[0]||1,x=j[1]||1,E=Math.round((I.width-t.width)/z)*z,H=Math.round((I.height-t.height)/x)*x,D=t.width+E,k=t.height+H,B=y.maxWidth&&D>y.maxWidth,A=y.maxHeight&&k>y.maxHeight,w=y.minWidth&&y.minWidth>D,G=y.minHeight&&y.minHeight>k;y.grid=j,w&&(D+=z),G&&(k+=x),B&&(D-=z),A&&(k-=x),/^(se|s|e)$/.test(q)?(C.size.width=D,C.size.height=k):/^(ne)$/.test(q)?(C.size.width=D,C.size.height=k,C.position.top=F.top-H):/^(sw)$/.test(q)?(C.size.width=D,C.size.height=k,C.position.left=F.left-E):(k-x>0?(C.size.height=k,C.position.top=F.top-H):(C.size.height=x,C.position.top=F.top+t.height-x),D-z>0?(C.size.width=D,C.position.left=F.left-E):(C.size.width=z,C.position.left=F.left+t.width-z))}})})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,b=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var f=a(this),d=f.offset();a.data(this,"selectable-item",{element:this,$element:f,left:d.left,top:d.top,right:d.left+f.outerWidth(),bottom:d.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(d){var b=this,c=this.options;this.opos=[d.pageX,d.pageY],this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",d),a(c.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0,d.metaKey||d.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,b._trigger("unselecting",d,{unselecting:e.element}))}),a(d.target).parents().addBack().each(function(){var e,f=a.data(this,"selectable-item");return f?(e=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?b._trigger("selecting",d,{selecting:f.element}):b._trigger("unselecting",d,{unselecting:f.element}),!1):undefined}))},_mouseDrag:function(h){if(this.dragged=!0,!this.options.disabled){var d,f=this,k=this.options,c=this.opos[0],j=this.opos[1],g=h.pageX,b=h.pageY;return c>g&&(d=g,g=c,c=d),j>b&&(d=b,b=j,j=d),this.helper.css({left:c,top:j,width:g-c,height:b-j}),this.selectees.each(function(){var e=a.data(this,"selectable-item"),m=!1;e&&e.element!==f.element[0]&&("touch"===k.tolerance?m=!(e.left>g||c>e.right||e.top>b||j>e.bottom):"fit"===k.tolerance&&(m=e.left>c&&g>e.right&&e.top>j&&b>e.bottom),m?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,f._trigger("selecting",h,{selecting:e.element}))):(e.selecting&&((h.metaKey||h.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),f._trigger("unselecting",h,{unselecting:e.element}))),e.selected&&(h.metaKey||h.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,f._trigger("unselecting",h,{unselecting:e.element})))))}),!1}},_mouseStop:function(c){var b=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,b._trigger("unselected",c,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,b._trigger("selected",c,{selected:d.element})}),this._trigger("stop",c),this.helper.remove(),!1}})})(jQuery);(function(b){function c(f,g,d){return f>g&&g+d>f}function a(d){return/left|right/.test(d.css("float"))||/inline|table-cell/.test(d.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var d=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===d.axis||a(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData(this.widgetName+"-item")}return this},_setOption:function(f,d){"disabled"===f?(this.options[f]=d,this.widget().toggleClass("ui-sortable-disabled",!!d)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(g,d){var f=null,j=!1,h=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(g),b(g.target).parents().each(function(){return b.data(this,h.widgetName+"-item")===h?(f=b(this),!1):undefined}),b.data(g.target,h.widgetName+"-item")===h&&(f=b(g.target)),f?!this.options.handle||d||(b(this.options.handle,f).find("*").addBack().each(function(){this===g.target&&(j=!0)}),j)?(this.currentItem=f,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(h,f,g){var k,j,d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(h),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(h),this.originalPageX=h.pageX,this.originalPageY=h.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&"auto"!==d.cursor&&(j=this.document.find("body"),this.storedCursor=j.css("cursor"),j.css("cursor",d.cursor),this.storedStylesheet=b("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(j)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",h,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g){for(k=this.containers.length-1;k>=0;k--){this.containers[k]._trigger("activate",h,this._uiHash(this))}}return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,h),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(h),!0},_mouseDrag:function(j){var f,g,m,k,d=this.options,h=!1;for(this.position=this._generatePosition(j),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-j.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+d.scrollSpeed:j.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-j.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+d.scrollSpeed:j.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(j.pageY-b(document).scrollTop()<d.scrollSensitivity?h=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(j.pageY-b(document).scrollTop())<d.scrollSensitivity&&(h=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed)),j.pageX-b(document).scrollLeft()<d.scrollSensitivity?h=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(j.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(h=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))),h!==!1&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,j)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;f>=0;f--){if(g=this.items[f],m=g.item[0],k=this._intersectsWithPointer(g),k&&g.instance===this.currentContainer&&m!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==m&&!b.contains(this.placeholder[0],m)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],m):!0)){if(this.direction=1===k?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(g)){break}this._rearrange(j,g),this._trigger("change",j,this._uiHash());break}}return this._contactContainers(j),b.ui.ddmanager&&b.ui.ddmanager.drag(this,j),this._trigger("sort",j,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(h,f){if(h){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,h),this.options.revert){var g=this,k=this.placeholder.offset(),j=this.options.axis,d={};j&&"x"!==j||(d.left=k.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),j&&"y"!==j||(d.top=k.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,b(this.helper).animate(d,parseInt(this.options.revert,10)||500,function(){g._clear(h)})}else{this._clear(h,f)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,this._uiHash(this)),this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},b(d).each(function(){var e=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||/(.+)[\-=_](.+)/);e&&f.push((g.key||e[1]+"[]")+"="+(g.key&&g.expression?e[1]:e[2]))}),!f.length&&g.key&&f.push(g.key+"="),f.join("&")},toArray:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},d.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"")}),f},_intersectsWith:function(B){var w=this.positionAbs.left,q=w+this.helperProportions.width,C=this.positionAbs.top,k=C+this.helperProportions.height,j=B.left,z=j+B.width,f=B.top,v=f+B.height,m=this.offset.click.top,y=this.offset.click.left,A="x"===this.options.axis||C+m>f&&v>C+m,x="y"===this.options.axis||w+y>j&&z>w+y,g=A&&x;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>B[this.floating?"width":"height"]?g:w+this.helperProportions.width/2>j&&z>q-this.helperProportions.width/2&&C+this.helperProportions.height/2>f&&v>k-this.helperProportions.height/2},_intersectsWithPointer:function(f){var e="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,f.top,f.height),g="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,f.left,f.width),j=e&&g,h=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return j?this.floating?d&&"right"===d||"down"===h?2:1:h&&("down"===h?2:1):!1},_intersectsWithSides:function(e){var d=c(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),f=c(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"===g&&f||"left"===g&&!f:h&&("down"===h&&d||"up"===h&&!d)},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return 0!==d&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return 0!==d&&(d>0?"right":"left")},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this},_connectWith:function(){var d=this.options;return d.connectWith.constructor===String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(q){function k(){d.push(this)}var u,g,f,t,d=[],m=[],j=this._connectWith();if(j&&q){for(u=j.length-1;u>=0;u--){for(f=b(j[u]),g=f.length-1;g>=0;g--){t=b.data(f[g],this.widgetFullName),t&&t!==this&&!t.options.disabled&&m.push([b.isFunction(t.options.items)?t.options.items.call(t.element):b(t.options.items,t.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),t])}}}for(m.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),u=m.length-1;u>=0;u--){m[u][0].each(k)}return b(d)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(f){for(var e=0;d.length>e;e++){if(d[e]===f.item[0]){return !1}}return !0})},_refreshItems:function(t){this.items=[],this.containers=[this];var m,z,j,g,x,f,q,k,w=this.items,y=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):b(this.options.items,this.element),this]],v=this._connectWith();if(v&&this.ready){for(m=v.length-1;m>=0;m--){for(j=b(v[m]),z=j.length-1;z>=0;z--){g=b.data(j[z],this.widgetFullName),g&&g!==this&&!g.options.disabled&&(y.push([b.isFunction(g.options.items)?g.options.items.call(g.element[0],t,{item:this.currentItem}):b(g.options.items,g.element),g]),this.containers.push(g))}}}for(m=y.length-1;m>=0;m--){for(x=y[m][1],f=y[m][0],z=0,k=f.length;k>z;z++){q=b(f[z]),q.data(this.widgetName+"-item",x),w.push({item:q,instance:x,width:0,height:0,left:0,top:0})}}},refreshPositions:function(g){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,f,j,h;for(d=this.items.length-1;d>=0;d--){f=this.items[d],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(j=this.options.toleranceElement?b(this.options.toleranceElement,f.item):f.item,g||(f.width=j.outerWidth(),f.height=j.outerHeight()),h=j.offset(),f.left=h.left,f.top=h.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){h=this.containers[d].element.offset(),this.containers[d].containerCache.left=h.left,this.containers[d].containerCache.top=h.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(g){g=g||this;var d,f=g.options;f.placeholder&&f.placeholder.constructor!==String||(d=f.placeholder,f.placeholder={element:function(){var e=g.currentItem[0].nodeName.toLowerCase(),h=b("<"+e+">",g.document[0]).addClass(d||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?g.currentItem.children().each(function(){b("<td>&#160;</td>",g.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(h)}):"img"===e&&h.attr("src",g.currentItem.attr("src")),d||h.css("visibility","hidden"),h},update:function(e,h){(!d||f.forcePlaceholderSize)&&(h.height()||h.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10)))}}),g.placeholder=b(f.placeholder.element.call(g.element,g.currentItem)),g.currentItem.after(g.placeholder),f.placeholder.update(g,g.placeholder)},_contactContainers:function(B){var m,k,z,e,t,q,y,A,x,j,w=null,v=null;for(m=this.containers.length-1;m>=0;m--){if(!b.contains(this.currentItem[0],this.containers[m].element[0])){if(this._intersectsWith(this.containers[m].containerCache)){if(w&&b.contains(this.containers[m].element[0],w.element[0])){continue}w=this.containers[m],v=m}else{this.containers[m].containerCache.over&&(this.containers[m]._trigger("out",B,this._uiHash(this)),this.containers[m].containerCache.over=0)}}}if(w){if(1===this.containers.length){this.containers[v].containerCache.over||(this.containers[v]._trigger("over",B,this._uiHash(this)),this.containers[v].containerCache.over=1)}else{for(z=10000,e=null,j=w.floating||a(this.currentItem),t=j?"left":"top",q=j?"width":"height",y=this.positionAbs[t]+this.offset.click[t],k=this.items.length-1;k>=0;k--){b.contains(this.containers[v].element[0],this.items[k].item[0])&&this.items[k].item[0]!==this.currentItem[0]&&(!j||c(this.positionAbs.top+this.offset.click.top,this.items[k].top,this.items[k].height))&&(A=this.items[k].item.offset()[t],x=!1,Math.abs(A-y)>Math.abs(A+this.items[k][q]-y)&&(x=!0,A+=this.items[k][q]),z>Math.abs(A-y)&&(z=Math.abs(A-y),e=this.items[k],this.direction=x?"up":"down"))}if(!e&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[v]){return}e?this._rearrange(B,e,null,!0):this._rearrange(B,null,this.containers[v].element,!0),this._trigger("change",B,this._uiHash()),this.containers[v]._trigger("change",B,this._uiHash(this)),this.currentContainer=this.containers[v],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",B,this._uiHash(this)),this.containers[v].containerCache.over=1}}},_createHelper:function(g){var d=this.options,f=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[g,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;return f.parents("body").length||b("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0]),f[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!f[0].style.width||d.forceHelperSize)&&f.width(this.currentItem.width()),(!f[0].style.height||d.forceHelperSize)&&f.height(this.currentItem.height()),f},_adjustOffsetFromHelper:function(d){"string"==typeof d&&(d=d.split(" ")),b.isArray(d)&&(d={left:+d[0],top:+d[1]||0}),"left" in d&&(this.offset.click.left=d.left+this.margins.left),"right" in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left),"top" in d&&(this.offset.click.top=d.top+this.margins.top),"bottom" in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(d={top:0,left:0}),{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,d,f,h=this.options;"parent"===h.containment&&(h.containment=this.helper[0].parentNode),("document"===h.containment||"window"===h.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"===h.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"===h.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(h.containment)||(g=b(h.containment)[0],d=b(h.containment).offset(),f="hidden"!==b(g).css("overflow"),this.containment=[d.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,d.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(g,d){d||(d=this.position);var f="absolute"===g?1:-1,j="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(j[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:j.scrollTop())*f,left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:j.scrollLeft())*f}},_generatePosition:function(m){var f,j,t=this.options,q=m.pageX,d=m.pageY,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(k[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(m.pageX-this.offset.click.left<this.containment[0]&&(q=this.containment[0]+this.offset.click.left),m.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),m.pageX-this.offset.click.left>this.containment[2]&&(q=this.containment[2]+this.offset.click.left),m.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),t.grid&&(f=this.originalPageY+Math.round((d-this.originalPageY)/t.grid[1])*t.grid[1],d=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-t.grid[1]:f+t.grid[1]:f,j=this.originalPageX+Math.round((q-this.originalPageX)/t.grid[0])*t.grid[0],q=this.containment?j-this.offset.click.left>=this.containment[0]&&j-this.offset.click.left<=this.containment[2]?j:j-this.offset.click.left>=this.containment[0]?j-t.grid[0]:j+t.grid[0]:j)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:k.scrollTop()),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:k.scrollLeft())}},_rearrange:function(f,h,d,g){d?d[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var j=this.counter;this._delay(function(){j===this.counter&&this.refreshPositions(!g)})},_clear:function(f,h){function d(m,n,k){return function(e){k._trigger(m,e,n._uiHash(n))}}this.reverting=!1;var g,j=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(g in this._storedCSS){("auto"===this._storedCSS[g]||"static"===this._storedCSS[g])&&(this._storedCSS[g]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!h&&j.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||j.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(h||(j.push(function(e){this._trigger("remove",e,this._uiHash())}),j.push(function(e){return function(k){e._trigger("receive",k,this._uiHash(this))}}.call(this,this.currentContainer)),j.push(function(e){return function(k){e._trigger("update",k,this._uiHash(this))}}.call(this,this.currentContainer)))),g=this.containers.length-1;g>=0;g--){h||j.push(d("deactivate",this,this.containers[g])),this.containers[g].containerCache.over&&(j.push(d("out",this,this.containers[g])),this.containers[g].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",f,this._uiHash()),g=0;j.length>g;g++){j[g].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!1}if(h||this._trigger("beforeStop",f,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(g=0;j.length>g;g++){j[g].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){b.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(f){var d=f||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:f?f.element:null}}})})(jQuery);(function(f){var d=0,c={},b={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show",f.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var a=this.options;this.prevShow=this.prevHide=f(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():f(),content:this.active.length?this.active.next():f()}},_createIcons:function(){var a=this.options.icons;a&&(f("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(g,a){return"active"===g?(this._activate(a),undefined):("event"===g&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(g,a),"collapsible"!==g||a||this.options.active!==!1||this._activate(0),"icons"===g&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===g&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a),undefined)},_keydown:function(h){if(!h.altKey&&!h.ctrlKey){var g=f.ui.keyCode,e=this.headers.length,j=this.headers.index(h.target),k=!1;switch(h.keyCode){case g.RIGHT:case g.DOWN:k=this.headers[(j+1)%e];break;case g.LEFT:case g.UP:k=this.headers[(j-1+e)%e];break;case g.SPACE:case g.ENTER:this._eventHandler(h);break;case g.HOME:k=this.headers[0];break;case g.END:k=this.headers[e-1]}k&&(f(h.target).attr("tabIndex",-1),f(k).attr("tabIndex",0),k.focus(),h.preventDefault())}},_panelKeyDown:function(a){a.keyCode===f.ui.keyCode.UP&&a.ctrlKey&&f(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=f()):a.active===!1?this._activate(0):this.active.length&&!f.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=f()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var g,e=this.options,h=e.heightStyle,k=this.element.parent(),j=this.accordionId="ui-accordion-"+(this.element.attr("id")||++d);this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(q){var o=f(this),m=o.attr("id"),r=o.next(),u=r.attr("id");m||(m=j+"-header-"+q,o.attr("id",m)),u||(u=j+"-panel-"+q,r.attr("id",u)),o.attr("aria-controls",u),r.attr("aria-labelledby",m)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===h?(g=k.height(),this.element.siblings(":visible").each(function(){var n=f(this),m=n.css("position");"absolute"!==m&&"fixed"!==m&&(g-=n.outerHeight(!0))}),this.headers.each(function(){g-=f(this).outerHeight(!0)}),this.headers.next().each(function(){f(this).height(Math.max(0,g-f(this).innerHeight()+f(this).height()))}).css("overflow","auto")):"auto"===h&&(g=0,this.headers.next().each(function(){g=Math.max(g,f(this).css("height","").height())}).height(g))},_activate:function(e){var a=this._findActive(e)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:f.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):f()},_setupEvents:function(e){var a={keydown:"_keydown"};e&&f.each(e.split(" "),function(h,g){a[g]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(v){var k=this.options,u=this.active,w=f(v.currentTarget),j=w[0]===u[0],e=j&&k.collapsible,g=e?f():w.next(),m=u.next(),q={oldHeader:u,oldPanel:m,newHeader:e?f():w,newPanel:g};v.preventDefault(),j&&!k.collapsible||this._trigger("beforeActivate",v,q)===!1||(k.active=e?!1:this.headers.index(w),this.active=j?f():w,this._toggle(q),u.removeClass("ui-accordion-header-active ui-state-active"),k.icons&&u.children(".ui-accordion-header-icon").removeClass(k.icons.activeHeader).addClass(k.icons.header),j||(w.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),k.icons&&w.children(".ui-accordion-header-icon").removeClass(k.icons.header).addClass(k.icons.activeHeader),w.next().addClass("ui-accordion-content-active")))},_toggle:function(h){var g=h.newPanel,e=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=g,this.prevHide=e,this.options.animate?this._animate(g,e,h):(e.hide(),g.show(),this._toggleComplete(h)),e.attr({"aria-hidden":"true"}),e.prev().attr("aria-selected","false"),g.length&&e.length?e.prev().attr({tabIndex:-1,"aria-expanded":"false"}):g.length&&this.headers.filter(function(){return 0===f(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(q,A,B){var j,a,g,m=this,w=0,x=q.length&&(!A.length||q.index()<A.index()),k=this.options.animate||{},z=x&&k.down||k,y=function(){m._toggleComplete(B)};return"number"==typeof z&&(g=z),"string"==typeof z&&(a=z),a=a||z.easing||k.easing,g=g||z.duration||k.duration,A.length?q.length?(j=q.show().outerHeight(),A.animate(c,{duration:g,easing:a,step:function(n,h){h.now=Math.round(n)}}),q.hide().animate(b,{duration:g,easing:a,complete:y,step:function(n,h){h.now=Math.round(n),"height"!==h.prop?w+=h.now:"content"!==m.options.heightStyle&&(h.now=Math.round(j-A.outerHeight()-w),w=0)}}),undefined):A.animate(c,g,a,y):q.animate(b,g,a,y)},_toggleComplete:function(g){var a=g.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),a.length&&(a.parent()[0].className=a.parent()[0].className),this._trigger("activate",null,g)}})})(jQuery);(function(a){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var d,c,e,g=this.element[0].nodeName.toLowerCase(),b="textarea"===g,f="input"===g;this.isMultiLine=b?!0:f?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[b||f?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(j){if(this.element.prop("readOnly")){return d=!0,e=!0,c=!0,undefined}d=!1,e=!1,c=!1;var h=a.ui.keyCode;switch(j.keyCode){case h.PAGE_UP:d=!0,this._move("previousPage",j);break;case h.PAGE_DOWN:d=!0,this._move("nextPage",j);break;case h.UP:d=!0,this._keyEvent("previous",j);break;case h.DOWN:d=!0,this._keyEvent("next",j);break;case h.ENTER:case h.NUMPAD_ENTER:this.menu.active&&(d=!0,j.preventDefault(),this.menu.select(j));break;case h.TAB:this.menu.active&&this.menu.select(j);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(j),j.preventDefault());break;default:c=!0,this._searchTimeout(j)}},keypress:function(h){if(d){return d=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&h.preventDefault(),undefined}if(!c){var j=a.ui.keyCode;switch(h.keyCode){case j.PAGE_UP:this._move("previousPage",h);break;case j.PAGE_DOWN:this._move("nextPage",h);break;case j.UP:this._keyEvent("previous",h);break;case j.DOWN:this._keyEvent("next",h)}}},input:function(h){return e?(e=!1,h.preventDefault(),undefined):(this._searchTimeout(h),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(h),this._change(h),undefined)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(j){j.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var h=this.menu.element[0];a(j.target).closest(".ui-menu-item").length||this._delay(function(){var k=this;this.document.one("mousedown",function(m){m.target===k.element[0]||m.target===h||a.contains(h,m.target)||k.close()})})},menufocus:function(j,h){if(this.isNewMenu&&(this.isNewMenu=!1,j.originalEvent&&/^mouse/.test(j.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){a(j.target).trigger(j.originalEvent)}),undefined}var k=h.item.data("ui-autocomplete-item");!1!==this._trigger("focus",j,{item:k})?j.originalEvent&&/^key/.test(j.originalEvent.type)&&this._value(k.value):this.liveRegion.text(k.value)},menuselect:function(m,j){var h=j.item.data("ui-autocomplete-item"),k=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=k,this._delay(function(){this.previous=k,this.selectedItem=h})),!1!==this._trigger("select",m,{item:h})&&this._value(h.value),this.term=this._value(),this.close(m),this.selectedItem=h}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(c,b){this._super(c,b),"source"===c&&this._initSource(),"appendTo"===c&&this.menu.element.appendTo(this._appendTo()),"disabled"===c&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var c,b,d=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(e,f){f(a.ui.autocomplete.filter(c,e.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(e,f){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:b,data:e,dataType:"json",success:function(g){f(g)},error:function(){f([])}})}):this.source=this.options.source},_searchTimeout:function(b){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,b))},this.options.delay)},search:function(c,b){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(c):undefined},_search:function(b){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:b},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(c){b===this.requestIndex&&this.__response(c),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(b){b&&(b=this._normalize(b)),this._trigger("response",null,{content:b}),!this.options.disabled&&b&&b.length&&!this.cancelSearch?(this._suggest(b),this._trigger("open")):this._close()},close:function(b){this.cancelSearch=!0,this._close(b)},_close:function(b){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",b))},_change:function(b){this.previous!==this._value()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(c){return"string"==typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var b=this.menu.element.empty();this._renderMenu(b,c),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,b){var d=this;a.each(b,function(g,f){d._renderItemData(c,f)})},_renderItemData:function(c,b){return this._renderItem(c,b).data("ui-autocomplete-item",b)},_renderItem:function(c,b){return a("<li>").append(a("<a>").text(b.label)).appendTo(c)},_move:function(c,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[c](b),undefined):(this.search(null,b),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(c,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,b){var d=RegExp(a.ui.autocomplete.escapeRegex(b),"i");return a.grep(c,function(f){return d.test(f.label||f.value||f)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(b){return b+(b>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);(function(g){var d,c="ui-button ui-widget ui-state-default ui-corner-all",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var a=g(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},b=function(e){var a=e.name,k=e.form,j=g([]);return a&&(a=a.replace(/'/g,"\\'"),j=k?g(k).find("[name='"+a+"']"):g("[name='"+a+"']",e.ownerDocument).filter(function(){return !this.form})),j};g.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var k=this,j=this.options,e="checkbox"===this.type||"radio"===this.type,a=e?"":"ui-state-active";null===j.label&&(j.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){j.disabled||this===d&&g(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){j.disabled||g(this).removeClass(a)}).bind("click"+this.eventNamespace,function(m){j.disabled&&(m.preventDefault(),m.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),e&&this.element.bind("change"+this.eventNamespace,function(){k.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return j.disabled?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(j.disabled){return !1}g(this).addClass("ui-state-active"),k.buttonElement.attr("aria-pressed","true");var m=k.element[0];b(m).not(m).map(function(){return g(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return j.disabled?!1:(g(this).addClass("ui-state-active"),d=this,k.document.one("mouseup",function(){d=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return j.disabled?!1:(g(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(m){return j.disabled?!1:((m.keyCode===g.ui.keyCode.SPACE||m.keyCode===g.ui.keyCode.ENTER)&&g(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){g(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(m){m.keyCode===g.ui.keyCode.SPACE&&g(this).click()})),this._setOption("disabled",j.disabled),this._resetButton()},_determineButtonType:function(){var k,j,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(k=this.element.parents().last(),j="label[for='"+this.element.attr("id")+"']",this.buttonElement=k.find(j),this.buttonElement.length||(k=k.length?k.siblings():this.element.siblings(),this.buttonElement=k.filter(j),this.buttonElement.length||(this.buttonElement=k.find(j))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(j,a){return this._super(j,a),"disabled"===j?(this.element.prop("disabled",!!a),a&&this.buttonElement.removeClass("ui-state-focus"),undefined):(this._resetButton(),undefined)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?b(this.element[0]).each(function(){g(this).is(":checked")?g(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):g(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined}var k=this.buttonElement.removeClass(h),j=g("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(k.empty()).text(),m=this.options.icons,e=m.primary&&m.secondary,n=[];m.primary||m.secondary?(this.options.text&&n.push("ui-button-text-icon"+(e?"s":m.primary?"-primary":"-secondary")),m.primary&&k.prepend("<span class='ui-button-icon-primary ui-icon "+m.primary+"'></span>"),m.secondary&&k.append("<span class='ui-button-icon-secondary ui-icon "+m.secondary+"'></span>"),this.options.text||(n.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||k.attr("title",g.trim(j)))):n.push("ui-button-text-only"),k.addClass(n.join(" "))}}),g.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(j,a){"disabled"===j&&this.buttons.button("option",j,a),this._super(j,a)},refresh:function(){var a="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return g(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return g(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(h,d){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},h.extend(this._defaults,this.regional[""]),this.dpDiv=b(h("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function b(e){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){h(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&h(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&h(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){h.datepicker._isDisabledDatepicker(j.inline?e.parent()[0]:j.input[0])||(h(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),h(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&h(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&h(this).addClass("ui-datepicker-next-hover"))})}function f(m,k){h.extend(m,k);for(var e in k){null==k[e]&&(m[e]=k[e])}return m}h.extend(h.ui,{datepicker:{version:"1.10.4"}});var j,g="datepicker";h.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(m,k){var e,o,q;e=m.nodeName.toLowerCase(),o="div"===e||"span"===e,m.id||(this.uuid+=1,m.id="dp"+this.uuid),q=this._newInst(h(m),o),q.settings=h.extend({},k||{}),"input"===e?this._connectDatepicker(m,q):o&&this._inlineDatepicker(m,q)},_newInst:function(e,a){var k=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:k,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?b(h("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(m,k){var e=h(m);k.append=h([]),k.trigger=h([]),e.hasClass(this.markerClassName)||(this._attachments(e,k),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(k),h.data(m,g,k),k.settings.disabled&&this._disableDatepicker(m))},_attachments:function(m,k){var e,q,w,u=this._get(k,"appendText"),v=this._get(k,"isRTL");k.append&&k.append.remove(),u&&(k.append=h("<span class='"+this._appendClass+"'>"+u+"</span>"),m[v?"before":"after"](k.append)),m.unbind("focus",this._showDatepicker),k.trigger&&k.trigger.remove(),e=this._get(k,"showOn"),("focus"===e||"both"===e)&&m.focus(this._showDatepicker),("button"===e||"both"===e)&&(q=this._get(k,"buttonText"),w=this._get(k,"buttonImage"),k.trigger=h(this._get(k,"buttonImageOnly")?h("<img/>").addClass(this._triggerClass).attr({src:w,alt:q,title:q}):h("<button type='button'></button>").addClass(this._triggerClass).html(w?h("<img/>").attr({src:w,alt:q,title:q}):q)),m[v?"before":"after"](k.trigger),k.trigger.click(function(){return h.datepicker._datepickerShowing&&h.datepicker._lastInput===m[0]?h.datepicker._hideDatepicker():h.datepicker._datepickerShowing&&h.datepicker._lastInput!==m[0]?(h.datepicker._hideDatepicker(),h.datepicker._showDatepicker(m[0])):h.datepicker._showDatepicker(m[0]),!1}))},_autoSize:function(v){if(this._get(v,"autoSize")&&!v.inline){var o,m,k,q,w=new Date(2009,11,20),u=this._get(v,"dateFormat");u.match(/[DM]/)&&(o=function(a){for(m=0,k=0,q=0;a.length>q;q++){a[q].length>m&&(m=a[q].length,k=q)}return k},w.setMonth(o(this._get(v,u.match(/MM/)?"monthNames":"monthNamesShort"))),w.setDate(o(this._get(v,u.match(/DD/)?"dayNames":"dayNamesShort"))+20-w.getDay())),v.input.attr("size",this._formatDate(v,w).length)}},_inlineDatepicker:function(m,k){var e=h(m);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(k.dpDiv),h.data(m,g,k),this._setDate(k,this._getDefaultDate(k),!0),this._updateDatepicker(k),this._updateAlternate(k),k.settings.disabled&&this._disableDatepicker(m),k.dpDiv.css("display","block"))},_dialogDatepicker:function(z,r,x,m,k){var y,w,s,q,v,e=this._dialogInst;return e||(this.uuid+=1,y="dp"+this.uuid,this._dialogInput=h("<input type='text' id='"+y+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),h("body").append(this._dialogInput),e=this._dialogInst=this._newInst(this._dialogInput,!1),e.settings={},h.data(this._dialogInput[0],g,e)),f(e.settings,m||{}),r=r&&r.constructor===Date?this._formatDate(e,r):r,this._dialogInput.val(r),this._pos=k?k.length?k:[k.pageX,k.pageY]:null,this._pos||(w=document.documentElement.clientWidth,s=document.documentElement.clientHeight,q=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[w/2-100+q,s/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=x,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),h.blockUI&&h.blockUI(this.dpDiv),h.data(this._dialogInput[0],g,e),this},_destroyDatepicker:function(m){var k,e=h(m),n=h.data(m,g);e.hasClass(this.markerClassName)&&(k=m.nodeName.toLowerCase(),h.removeData(m,g),"input"===k?(n.append.remove(),n.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===k||"span"===k)&&e.removeClass(this.markerClassName).empty())},_enableDatepicker:function(m){var k,e,o=h(m),q=h.data(m,g);o.hasClass(this.markerClassName)&&(k=m.nodeName.toLowerCase(),"input"===k?(m.disabled=!1,q.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===k||"span"===k)&&(e=o.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=h.map(this._disabledInputs,function(a){return a===m?null:a}))},_disableDatepicker:function(m){var k,e,o=h(m),q=h.data(m,g);o.hasClass(this.markerClassName)&&(k=m.nodeName.toLowerCase(),"input"===k?(m.disabled=!0,q.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===k||"span"===k)&&(e=o.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=h.map(this._disabledInputs,function(a){return a===m?null:a}),this._disabledInputs[this._disabledInputs.length]=m)},_isDisabledDatepicker:function(k){if(!k){return !1}for(var a=0;this._disabledInputs.length>a;a++){if(this._disabledInputs[a]===k){return !0}}return !1},_getInst:function(e){try{return h.data(e,g)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(m,e,w){var s,t,k,v,q=this._getInst(m);return 2===arguments.length&&"string"==typeof e?"defaults"===e?h.extend({},h.datepicker._defaults):q?"all"===e?h.extend({},q.settings):this._get(q,e):null:(s=e||{},"string"==typeof e&&(s={},s[e]=w),q&&(this._curInst===q&&this._hideDatepicker(),t=this._getDateDatepicker(m,!0),k=this._getMinMaxDate(q,"min"),v=this._getMinMaxDate(q,"max"),f(q.settings,s),null!==k&&s.dateFormat!==d&&s.minDate===d&&(q.settings.minDate=this._formatDate(q,k)),null!==v&&s.dateFormat!==d&&s.maxDate===d&&(q.settings.maxDate=this._formatDate(q,v)),"disabled" in s&&(s.disabled?this._disableDatepicker(m):this._enableDatepicker(m)),this._attachments(h(m),q),this._autoSize(q),this._setDate(q,t),this._updateAlternate(q),this._updateDatepicker(q)),d)},_changeDatepicker:function(m,k,a){this._optionDatepicker(m,k,a)},_refreshDatepicker:function(k){var a=this._getInst(k);a&&this._updateDatepicker(a)},_setDateDatepicker:function(m,k){var a=this._getInst(m);a&&(this._setDate(a,k),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(m,k){var a=this._getInst(m);return a&&!a.inline&&this._setDateFromField(a,k),a?this._getDate(a):null},_doKeyDown:function(m){var k,e,q,w=h.datepicker._getInst(m.target),u=!0,v=w.dpDiv.is(".ui-datepicker-rtl");if(w._keyEvent=!0,h.datepicker._datepickerShowing){switch(m.keyCode){case 9:h.datepicker._hideDatepicker(),u=!1;break;case 13:return q=h("td."+h.datepicker._dayOverClass+":not(."+h.datepicker._currentClass+")",w.dpDiv),q[0]&&h.datepicker._selectDay(m.target,w.selectedMonth,w.selectedYear,q[0]),k=h.datepicker._get(w,"onSelect"),k?(e=h.datepicker._formatDate(w),k.apply(w.input?w.input[0]:null,[e,w])):h.datepicker._hideDatepicker(),!1;case 27:h.datepicker._hideDatepicker();break;case 33:h.datepicker._adjustDate(m.target,m.ctrlKey?-h.datepicker._get(w,"stepBigMonths"):-h.datepicker._get(w,"stepMonths"),"M");break;case 34:h.datepicker._adjustDate(m.target,m.ctrlKey?+h.datepicker._get(w,"stepBigMonths"):+h.datepicker._get(w,"stepMonths"),"M");break;case 35:(m.ctrlKey||m.metaKey)&&h.datepicker._clearDate(m.target),u=m.ctrlKey||m.metaKey;break;case 36:(m.ctrlKey||m.metaKey)&&h.datepicker._gotoToday(m.target),u=m.ctrlKey||m.metaKey;break;case 37:(m.ctrlKey||m.metaKey)&&h.datepicker._adjustDate(m.target,v?1:-1,"D"),u=m.ctrlKey||m.metaKey,m.originalEvent.altKey&&h.datepicker._adjustDate(m.target,m.ctrlKey?-h.datepicker._get(w,"stepBigMonths"):-h.datepicker._get(w,"stepMonths"),"M");break;case 38:(m.ctrlKey||m.metaKey)&&h.datepicker._adjustDate(m.target,-7,"D"),u=m.ctrlKey||m.metaKey;break;case 39:(m.ctrlKey||m.metaKey)&&h.datepicker._adjustDate(m.target,v?-1:1,"D"),u=m.ctrlKey||m.metaKey,m.originalEvent.altKey&&h.datepicker._adjustDate(m.target,m.ctrlKey?+h.datepicker._get(w,"stepBigMonths"):+h.datepicker._get(w,"stepMonths"),"M");break;case 40:(m.ctrlKey||m.metaKey)&&h.datepicker._adjustDate(m.target,7,"D"),u=m.ctrlKey||m.metaKey;break;default:u=!1}}else{36===m.keyCode&&m.ctrlKey?h.datepicker._showDatepicker(this):u=!1}u&&(m.preventDefault(),m.stopPropagation())},_doKeyPress:function(k){var e,m,o=h.datepicker._getInst(k.target);return h.datepicker._get(o,"constrainInput")?(e=h.datepicker._possibleChars(h.datepicker._get(o,"dateFormat")),m=String.fromCharCode(null==k.charCode?k.keyCode:k.charCode),k.ctrlKey||k.metaKey||" ">m||!e||e.indexOf(m)>-1):d},_doKeyUp:function(m){var k,e=h.datepicker._getInst(m.target);if(e.input.val()!==e.lastVal){try{k=h.datepicker.parseDate(h.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,h.datepicker._getFormatConfig(e)),k&&(h.datepicker._setDateFromField(e),h.datepicker._updateAlternate(e),h.datepicker._updateDatepicker(e))}catch(n){}}return !0},_showDatepicker:function(q){if(q=q.target||q,"input"!==q.nodeName.toLowerCase()&&(q=h("input",q.parentNode)[0]),!h.datepicker._isDisabledDatepicker(q)&&h.datepicker._lastInput!==q){var m,e,x,s,v,k,w;m=h.datepicker._getInst(q),h.datepicker._curInst&&h.datepicker._curInst!==m&&(h.datepicker._curInst.dpDiv.stop(!0,!0),m&&h.datepicker._datepickerShowing&&h.datepicker._hideDatepicker(h.datepicker._curInst.input[0])),e=h.datepicker._get(m,"beforeShow"),x=e?e.apply(q,[q,m]):{},x!==!1&&(f(m.settings,x),m.lastVal=null,h.datepicker._lastInput=q,h.datepicker._setDateFromField(m),h.datepicker._inDialog&&(q.value=""),h.datepicker._pos||(h.datepicker._pos=h.datepicker._findPos(q),h.datepicker._pos[1]+=q.offsetHeight),s=!1,h(q).parents().each(function(){return s|="fixed"===h(this).css("position"),!s}),v={left:h.datepicker._pos[0],top:h.datepicker._pos[1]},h.datepicker._pos=null,m.dpDiv.empty(),m.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),h.datepicker._updateDatepicker(m),v=h.datepicker._checkOffset(m,v,s),m.dpDiv.css({position:h.datepicker._inDialog&&h.blockUI?"static":s?"fixed":"absolute",display:"none",left:v.left+"px",top:v.top+"px"}),m.inline||(k=h.datepicker._get(m,"showAnim"),w=h.datepicker._get(m,"duration"),m.dpDiv.zIndex(h(q).zIndex()+1),h.datepicker._datepickerShowing=!0,h.effects&&h.effects.effect[k]?m.dpDiv.show(k,h.datepicker._get(m,"showOptions"),w):m.dpDiv[k||"show"](k?w:null),h.datepicker._shouldFocusInput(m)&&m.input.focus(),h.datepicker._curInst=m))}},_updateDatepicker:function(m){this.maxRows=4,j=m,m.dpDiv.empty().append(this._generateHTML(m)),this._attachHandlers(m),m.dpDiv.find("."+this._dayOverClass+" a").mouseover();var k,e=this._getNumberOfMonths(m),n=e[1],o=17;m.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&m.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",o*n+"em"),m.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),m.dpDiv[(this._get(m,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),m===h.datepicker._curInst&&h.datepicker._datepickerShowing&&h.datepicker._shouldFocusInput(m)&&m.input.focus(),m.yearshtml&&(k=m.yearshtml,setTimeout(function(){k===m.yearshtml&&m.yearshtml&&m.dpDiv.find("select.ui-datepicker-year:first").replaceWith(m.yearshtml),k=m.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(y,q,w){var z=y.dpDiv.outerWidth(),m=y.dpDiv.outerHeight(),e=y.input?y.input.outerWidth():0,k=y.input?y.input.outerHeight():0,x=document.documentElement.clientWidth+(w?0:h(document).scrollLeft()),v=document.documentElement.clientHeight+(w?0:h(document).scrollTop());return q.left-=this._get(y,"isRTL")?z-e:0,q.left-=w&&q.left===y.input.offset().left?h(document).scrollLeft():0,q.top-=w&&q.top===y.input.offset().top+k?h(document).scrollTop():0,q.left-=Math.min(q.left,q.left+z>x&&x>z?Math.abs(q.left+z-x):0),q.top-=Math.min(q.top,q.top+m>v&&v>m?Math.abs(m+k):0),q},_findPos:function(m){for(var k,e=this._getInst(m),n=this._get(e,"isRTL");m&&("hidden"===m.type||1!==m.nodeType||h.expr.filters.hidden(m));){m=m[n?"previousSibling":"nextSibling"]}return k=h(m).offset(),[k.left,k.top]},_hideDatepicker:function(m){var k,e,q,u,r=this._curInst;!r||m&&r!==h.data(m,g)||this._datepickerShowing&&(k=this._get(r,"showAnim"),e=this._get(r,"duration"),q=function(){h.datepicker._tidyDialog(r)},h.effects&&(h.effects.effect[k]||h.effects[k])?r.dpDiv.hide(k,h.datepicker._get(r,"showOptions"),e,q):r.dpDiv["slideDown"===k?"slideUp":"fadeIn"===k?"fadeOut":"hide"](k?e:null,q),k||q(),this._datepickerShowing=!1,u=this._get(r,"onClose"),u&&u.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),h.blockUI&&(h.unblockUI(),h("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(m){if(h.datepicker._curInst){var k=h(m.target),e=h.datepicker._getInst(k[0]);(k[0].id!==h.datepicker._mainDivId&&0===k.parents("#"+h.datepicker._mainDivId).length&&!k.hasClass(h.datepicker.markerClassName)&&!k.closest("."+h.datepicker._triggerClass).length&&h.datepicker._datepickerShowing&&(!h.datepicker._inDialog||!h.blockUI)||k.hasClass(h.datepicker.markerClassName)&&h.datepicker._curInst!==e)&&h.datepicker._hideDatepicker()}},_adjustDate:function(m,k,e){var o=h(m),q=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(q,k+("M"===e?this._get(q,"showCurrentAtPos"):0),e),this._updateDatepicker(q))},_gotoToday:function(m){var k,e=h(m),n=this._getInst(e[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(k=new Date,n.selectedDay=k.getDate(),n.drawMonth=n.selectedMonth=k.getMonth(),n.drawYear=n.selectedYear=k.getFullYear()),this._notifyChange(n),this._adjustDate(e)},_selectMonthYear:function(m,k,e){var o=h(m),q=this._getInst(o[0]);q["selected"+("M"===e?"Month":"Year")]=q["draw"+("M"===e?"Month":"Year")]=parseInt(k.options[k.selectedIndex].value,10),this._notifyChange(q),this._adjustDate(o)},_selectDay:function(m,k,e,o){var u,q=h(m);h(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(q[0])||(u=this._getInst(q[0]),u.selectedDay=u.currentDay=h("a",o).html(),u.selectedMonth=u.currentMonth=k,u.selectedYear=u.currentYear=e,this._selectDate(m,this._formatDate(u,u.currentDay,u.currentMonth,u.currentYear)))},_clearDate:function(e){var a=h(e);this._selectDate(a,"")},_selectDate:function(m,k){var e,o=h(m),q=this._getInst(o[0]);k=null!=k?k:this._formatDate(q),q.input&&q.input.val(k),this._updateAlternate(q),e=this._get(q,"onSelect"),e?e.apply(q.input?q.input[0]:null,[k,q]):q.input&&q.input.trigger("change"),q.inline?this._updateDatepicker(q):(this._hideDatepicker(),this._lastInput=q.input[0],"object"!=typeof q.input[0]&&q.input.focus(),this._lastInput=null)},_updateAlternate:function(m){var k,e,o,q=this._get(m,"altField");q&&(k=this._get(m,"altFormat")||this._get(m,"dateFormat"),e=this._getDate(m),o=this.formatDate(k,e,this._getFormatConfig(m)),h(q).each(function(){h(this).val(o)}))},noWeekends:function(k){var a=k.getDay();return[a>0&&6>a,""]},iso8601Week:function(m){var k,a=new Date(m.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),k=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((k-a)/86400000)/7)+1},parseDate:function(K,S,B){if(null==K||null==S){throw"Invalid arguments"}if(S="object"==typeof S?""+S:S+"",""===S){return null}var G,C,F,z,Q=0,L=(B?B.shortYearCutoff:null)||this._defaults.shortYearCutoff,I="string"!=typeof L?L:(new Date).getFullYear()%100+parseInt(L,10),P=(B?B.dayNamesShort:null)||this._defaults.dayNamesShort,E=(B?B.dayNames:null)||this._defaults.dayNames,N=(B?B.monthNamesShort:null)||this._defaults.monthNamesShort,H=(B?B.monthNames:null)||this._defaults.monthNames,O=-1,T=-1,x=-1,J=-1,q=!1,R=function(k){var a=K.length>G+1&&K.charAt(G+1)===k;return a&&G++,a},A=function(o){var k=R(o),a="@"===o?14:"!"===o?20:"y"===o&&k?4:"o"===o?3:2,m=RegExp("^\\d{1,"+a+"}"),r=S.substring(Q).match(m);if(!r){throw"Missing number at position "+Q}return Q+=r[0].length,parseInt(r[0],10)},t=function(a,k,v){var m=-1,u=h.map(R(a)?v:k,function(o,n){return[[n,o]]}).sort(function(o,n){return -(o[1].length-n[1].length)});if(h.each(u,function(r,n){var o=n[1];return S.substr(Q,o.length).toLowerCase()===o.toLowerCase()?(m=n[0],Q+=o.length,!1):d}),-1!==m){return m+1}throw"Unknown name at position "+Q},e=function(){if(S.charAt(Q)!==K.charAt(G)){throw"Unexpected literal at position "+Q}Q++};for(G=0;K.length>G;G++){if(q){"'"!==K.charAt(G)||R("'")?e():q=!1}else{switch(K.charAt(G)){case"d":x=A("d");break;case"D":t("D",P,E);break;case"o":J=A("o");break;case"m":T=A("m");break;case"M":T=t("M",N,H);break;case"y":O=A("y");break;case"@":z=new Date(A("@")),O=z.getFullYear(),T=z.getMonth()+1,x=z.getDate();break;case"!":z=new Date((A("!")-this._ticksTo1970)/10000),O=z.getFullYear(),T=z.getMonth()+1,x=z.getDate();break;case"'":R("'")?e():q=!0;break;default:e()}}}if(S.length>Q&&(F=S.substr(Q),!/^\s+/.test(F))){throw"Extra/unparsed characters found in date: "+F}if(-1===O?O=(new Date).getFullYear():100>O&&(O+=(new Date).getFullYear()-(new Date).getFullYear()%100+(I>=O?0:-100)),J>-1){for(T=1,x=J;;){if(C=this._getDaysInMonth(O,T-1),C>=x){break}T++,x-=C}}if(z=this._daylightSavingAdjust(new Date(O,T-1,x)),z.getFullYear()!==O||z.getMonth()+1!==T||z.getDate()!==x){throw"Invalid date"}return z},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(y,D,w){if(!D){return""}var B,E=(w?w.dayNamesShort:null)||this._defaults.dayNamesShort,q=(w?w.dayNames:null)||this._defaults.dayNames,k=(w?w.monthNamesShort:null)||this._defaults.monthNamesShort,m=(w?w.monthNames:null)||this._defaults.monthNames,C=function(e){var a=y.length>B+1&&y.charAt(B+1)===e;return a&&B++,a},A=function(s,r,o){var n=""+r;if(C(s)){for(;o>n.length;){n="0"+n}}return n},x=function(s,r,o,n){return C(s)?n[r]:o[r]},v="",z=!1;if(D){for(B=0;y.length>B;B++){if(z){"'"!==y.charAt(B)||C("'")?v+=y.charAt(B):z=!1}else{switch(y.charAt(B)){case"d":v+=A("d",D.getDate(),2);break;case"D":v+=x("D",D.getDay(),E,q);break;case"o":v+=A("o",Math.round((new Date(D.getFullYear(),D.getMonth(),D.getDate()).getTime()-new Date(D.getFullYear(),0,0).getTime())/86400000),3);break;case"m":v+=A("m",D.getMonth()+1,2);break;case"M":v+=x("M",D.getMonth(),k,m);break;case"y":v+=C("y")?D.getFullYear():(10>D.getYear()%100?"0":"")+D.getYear()%100;break;case"@":v+=D.getTime();break;case"!":v+=10000*D.getTime()+this._ticksTo1970;break;case"'":C("'")?v+="'":z=!0;break;default:v+=y.charAt(B)}}}}return v},_possibleChars:function(q){var n,m="",k=!1,o=function(r){var e=q.length>n+1&&q.charAt(n+1)===r;return e&&n++,e};for(n=0;q.length>n;n++){if(k){"'"!==q.charAt(n)||o("'")?m+=q.charAt(n):k=!1}else{switch(q.charAt(n)){case"d":case"m":case"y":case"@":m+="0123456789";break;case"D":case"M":return null;case"'":o("'")?m+="'":k=!0;break;default:m+=q.charAt(n)}}}return m},_get:function(k,a){return k.settings[a]!==d?k.settings[a]:this._defaults[a]},_setDateFromField:function(w,q){if(w.input.val()!==w.lastVal){var m=this._get(w,"dateFormat"),k=w.lastVal=w.input?w.input.val():null,u=this._getDefaultDate(w),y=u,v=this._getFormatConfig(w);try{y=this.parseDate(m,k,v)||u}catch(x){k=q?"":k}w.selectedDay=y.getDate(),w.drawMonth=w.selectedMonth=y.getMonth(),w.drawYear=w.selectedYear=y.getFullYear(),w.currentDay=k?y.getDate():0,w.currentMonth=k?y.getMonth():0,w.currentYear=k?y.getFullYear():0,this._adjustInstDate(w)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(m,k,e){var o=function(n){var a=new Date;return a.setDate(a.getDate()+n),a},u=function(w){try{return h.datepicker.parseDate(h.datepicker._get(m,"dateFormat"),w,h.datepicker._getFormatConfig(m))}catch(t){}for(var x=(w.toLowerCase().match(/^c/)?h.datepicker._getDate(m):null)||new Date,B=x.getFullYear(),y=x.getMonth(),z=x.getDate(),v=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,A=v.exec(w);A;){switch(A[2]||"d"){case"d":case"D":z+=parseInt(A[1],10);break;case"w":case"W":z+=7*parseInt(A[1],10);break;case"m":case"M":y+=parseInt(A[1],10),z=Math.min(z,h.datepicker._getDaysInMonth(B,y));break;case"y":case"Y":B+=parseInt(A[1],10),z=Math.min(z,h.datepicker._getDaysInMonth(B,y))}A=v.exec(w)}return new Date(B,y,z)},q=null==k||""===k?e:"string"==typeof k?u(k):"number"==typeof k?isNaN(k)?e:o(k):new Date(k.getTime());return q=q&&"Invalid Date"==""+q?e:q,q&&(q.setHours(0),q.setMinutes(0),q.setSeconds(0),q.setMilliseconds(0)),this._daylightSavingAdjust(q)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(v,o,m){var k=!o,q=v.selectedMonth,w=v.selectedYear,u=this._restrictMinMax(v,this._determineDate(v,o,new Date));v.selectedDay=v.currentDay=u.getDate(),v.drawMonth=v.selectedMonth=v.currentMonth=u.getMonth(),v.drawYear=v.selectedYear=v.currentYear=u.getFullYear(),q===v.selectedMonth&&w===v.selectedYear||m||this._notifyChange(v),this._adjustInstDate(v),v.input&&v.input.val(k?"":this._formatDate(v))},_getDate:function(k){var a=!k.currentYear||k.input&&""===k.input.val()?null:this._daylightSavingAdjust(new Date(k.currentYear,k.currentMonth,k.currentDay));return a},_attachHandlers:function(m){var k=this._get(m,"stepMonths"),e="#"+m.id.replace(/\\\\/g,"\\");m.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){h.datepicker._adjustDate(e,-k,"M")},next:function(){h.datepicker._adjustDate(e,+k,"M")},hide:function(){h.datepicker._hideDatepicker()},today:function(){h.datepicker._gotoToday(e)},selectDay:function(){return h.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return h.datepicker._selectMonthYear(e,this,"M"),!1},selectYear:function(){return h.datepicker._selectMonthYear(e,this,"Y"),!1}};h(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(aY){var aI,aU,a2,aJ,aP,aK,aO,aH,a0,aV,aR,aZ,aN,aW,aQ,aX,a3,aG,aS,aD,a1,ax,aF,an,ay,aE,ar,am,ag,aA,aw,ah,ab,av,ak,al,aT,ap,ai,at=new Date,ad=this._daylightSavingAdjust(new Date(at.getFullYear(),at.getMonth(),at.getDate())),ao=this._get(aY,"isRTL"),af=this._get(aY,"showButtonPanel"),az=this._get(aY,"hideIfNoPrevNext"),aC=this._get(aY,"navigationAsDateFormat"),aL=this._getNumberOfMonths(aY),au=this._get(aY,"showCurrentAtPos"),aq=this._get(aY,"stepMonths"),aj=1!==aL[0]||1!==aL[1],ae=this._daylightSavingAdjust(aY.currentDay?new Date(aY.currentYear,aY.currentMonth,aY.currentDay):new Date(9999,9,9)),aB=this._getMinMaxDate(aY,"min"),ac=this._getMinMaxDate(aY,"max"),aa=aY.drawMonth-au,aM=aY.drawYear;if(0>aa&&(aa+=12,aM--),ac){for(aI=this._daylightSavingAdjust(new Date(ac.getFullYear(),ac.getMonth()-aL[0]*aL[1]+1,ac.getDate())),aI=aB&&aB>aI?aB:aI;this._daylightSavingAdjust(new Date(aM,aa,1))>aI;){aa--,0>aa&&(aa=11,aM--)}}for(aY.drawMonth=aa,aY.drawYear=aM,aU=this._get(aY,"prevText"),aU=aC?this.formatDate(aU,this._daylightSavingAdjust(new Date(aM,aa-aq,1)),this._getFormatConfig(aY)):aU,a2=this._canAdjustMonth(aY,-1,aM,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"e":"w")+"'>"+aU+"</span></a>":az?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"e":"w")+"'>"+aU+"</span></a>",aJ=this._get(aY,"nextText"),aJ=aC?this.formatDate(aJ,this._daylightSavingAdjust(new Date(aM,aa+aq,1)),this._getFormatConfig(aY)):aJ,aP=this._canAdjustMonth(aY,1,aM,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aJ+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"w":"e")+"'>"+aJ+"</span></a>":az?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aJ+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"w":"e")+"'>"+aJ+"</span></a>",aK=this._get(aY,"currentText"),aO=this._get(aY,"gotoCurrent")&&aY.currentDay?ae:ad,aK=aC?this.formatDate(aK,aO,this._getFormatConfig(aY)):aK,aH=aY.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aY,"closeText")+"</button>",a0=af?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ao?aH:"")+(this._isInRange(aY,aO)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aK+"</button>":"")+(ao?"":aH)+"</div>":"",aV=parseInt(this._get(aY,"firstDay"),10),aV=isNaN(aV)?0:aV,aR=this._get(aY,"showWeek"),aZ=this._get(aY,"dayNames"),aN=this._get(aY,"dayNamesMin"),aW=this._get(aY,"monthNames"),aQ=this._get(aY,"monthNamesShort"),aX=this._get(aY,"beforeShowDay"),a3=this._get(aY,"showOtherMonths"),aG=this._get(aY,"selectOtherMonths"),aS=this._getDefaultDate(aY),aD="",ax=0;aL[0]>ax;ax++){for(aF="",this.maxRows=4,an=0;aL[1]>an;an++){if(ay=this._daylightSavingAdjust(new Date(aM,aa,aY.selectedDay)),aE=" ui-corner-all",ar="",aj){if(ar+="<div class='ui-datepicker-group",aL[1]>1){switch(an){case 0:ar+=" ui-datepicker-group-first",aE=" ui-corner-"+(ao?"right":"left");break;case aL[1]-1:ar+=" ui-datepicker-group-last",aE=" ui-corner-"+(ao?"left":"right");break;default:ar+=" ui-datepicker-group-middle",aE=""}}ar+="'>"}for(ar+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+aE+"'>"+(/all|left/.test(aE)&&0===ax?ao?aP:a2:"")+(/all|right/.test(aE)&&0===ax?ao?a2:aP:"")+this._generateMonthYearHeader(aY,aa,aM,aB,ac,ax>0||an>0,aW,aQ)+"</div><table class='ui-datepicker-calendar'><thead><tr>",am=aR?"<th class='ui-datepicker-week-col'>"+this._get(aY,"weekHeader")+"</th>":"",a1=0;7>a1;a1++){ag=(a1+aV)%7,am+="<th"+((a1+aV+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+aZ[ag]+"'>"+aN[ag]+"</span></th>"}for(ar+=am+"</tr></thead><tbody>",aA=this._getDaysInMonth(aM,aa),aM===aY.selectedYear&&aa===aY.selectedMonth&&(aY.selectedDay=Math.min(aY.selectedDay,aA)),aw=(this._getFirstDayOfMonth(aM,aa)-aV+7)%7,ah=Math.ceil((aw+aA)/7),ab=aj?this.maxRows>ah?this.maxRows:ah:ah,this.maxRows=ab,av=this._daylightSavingAdjust(new Date(aM,aa,1-aw)),ak=0;ab>ak;ak++){for(ar+="<tr>",al=aR?"<td class='ui-datepicker-week-col'>"+this._get(aY,"calculateWeek")(av)+"</td>":"",a1=0;7>a1;a1++){aT=aX?aX.apply(aY.input?aY.input[0]:null,[av]):[!0,""],ap=av.getMonth()!==aa,ai=ap&&!aG||!aT[0]||aB&&aB>av||ac&&av>ac,al+="<td class='"+((a1+aV+6)%7>=5?" ui-datepicker-week-end":"")+(ap?" ui-datepicker-other-month":"")+(av.getTime()===ay.getTime()&&aa===aY.selectedMonth&&aY._keyEvent||aS.getTime()===av.getTime()&&aS.getTime()===ay.getTime()?" "+this._dayOverClass:"")+(ai?" "+this._unselectableClass+" ui-state-disabled":"")+(ap&&!a3?"":" "+aT[1]+(av.getTime()===ae.getTime()?" "+this._currentClass:"")+(av.getTime()===ad.getTime()?" ui-datepicker-today":""))+"'"+(ap&&!a3||!aT[2]?"":" title='"+aT[2].replace(/'/g,"&#39;")+"'")+(ai?"":" data-handler='selectDay' data-event='click' data-month='"+av.getMonth()+"' data-year='"+av.getFullYear()+"'")+">"+(ap&&!a3?"&#xa0;":ai?"<span class='ui-state-default'>"+av.getDate()+"</span>":"<a class='ui-state-default"+(av.getTime()===ad.getTime()?" ui-state-highlight":"")+(av.getTime()===ae.getTime()?" ui-state-active":"")+(ap?" ui-priority-secondary":"")+"' href='#'>"+av.getDate()+"</a>")+"</td>",av.setDate(av.getDate()+1),av=this._daylightSavingAdjust(av)}ar+=al+"</tr>"}aa++,aa>11&&(aa=0,aM++),ar+="</tbody></table>"+(aj?"</div>"+(aL[0]>0&&an===aL[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aF+=ar}aD+=aF}return aD+=a0,aY._keyEvent=!1,aD},_generateMonthYearHeader:function(M,z,I,P,A,E,B,D){var x,O,J,G,N,C,K,F,L=this._get(M,"changeMonth"),Q=this._get(M,"changeYear"),w=this._get(M,"showMonthAfterYear"),H="<div class='ui-datepicker-title'>",q="";if(E||!L){q+="<span class='ui-datepicker-month'>"+B[z]+"</span>"}else{for(x=P&&P.getFullYear()===I,O=A&&A.getFullYear()===I,q+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",J=0;12>J;J++){(!x||J>=P.getMonth())&&(!O||A.getMonth()>=J)&&(q+="<option value='"+J+"'"+(J===z?" selected='selected'":"")+">"+D[J]+"</option>")}q+="</select>"}if(w||(H+=q+(!E&&L&&Q?"":"&#xa0;")),!M.yearshtml){if(M.yearshtml="",E||!Q){H+="<span class='ui-datepicker-year'>"+I+"</span>"}else{for(G=this._get(M,"yearRange").split(":"),N=(new Date).getFullYear(),C=function(k){var a=k.match(/c[+\-].*/)?I+parseInt(k.substring(1),10):k.match(/[+\-].*/)?N+parseInt(k,10):parseInt(k,10);return isNaN(a)?N:a},K=C(G[0]),F=Math.max(K,C(G[1]||"")),K=P?Math.max(K,P.getFullYear()):K,F=A?Math.min(F,A.getFullYear()):F,M.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";F>=K;K++){M.yearshtml+="<option value='"+K+"'"+(K===I?" selected='selected'":"")+">"+K+"</option>"}M.yearshtml+="</select>",H+=M.yearshtml,M.yearshtml=null}}return H+=this._get(M,"yearSuffix"),w&&(H+=(!E&&L&&Q?"":"&#xa0;")+q),H+="</div>"},_adjustInstDate:function(v,o,m){var k=v.drawYear+("Y"===m?o:0),q=v.drawMonth+("M"===m?o:0),w=Math.min(v.selectedDay,this._getDaysInMonth(k,q))+("D"===m?o:0),u=this._restrictMinMax(v,this._daylightSavingAdjust(new Date(k,q,w)));v.selectedDay=u.getDate(),v.drawMonth=v.selectedMonth=u.getMonth(),v.drawYear=v.selectedYear=u.getFullYear(),("M"===m||"Y"===m)&&this._notifyChange(v)},_restrictMinMax:function(q,n){var m=this._getMinMaxDate(q,"min"),k=this._getMinMaxDate(q,"max"),o=m&&m>n?m:n;return k&&o>k?k:o},_notifyChange:function(k){var a=this._get(k,"onChangeMonthYear");a&&a.apply(k.input?k.input[0]:null,[k.selectedYear,k.selectedMonth+1,k])},_getNumberOfMonths:function(k){var a=this._get(k,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(k,a){return this._determineDate(k,this._get(k,a+"Date"),null)},_getDaysInMonth:function(k,a){return 32-this._daylightSavingAdjust(new Date(k,a,32)).getDate()},_getFirstDayOfMonth:function(k,a){return new Date(k,a,1).getDay()},_canAdjustMonth:function(r,o,m,k){var q=this._getNumberOfMonths(r),u=this._daylightSavingAdjust(new Date(m,k+(0>o?o:q[0]*q[1]),1));return 0>o&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(r,u)},_isInRange:function(w,z){var v,x,A=this._getMinMaxDate(w,"min"),q=this._getMinMaxDate(w,"max"),k=null,m=null,y=this._get(w,"yearRange");return y&&(v=y.split(":"),x=(new Date).getFullYear(),k=parseInt(v[0],10),m=parseInt(v[1],10),v[0].match(/[+\-].*/)&&(k+=x),v[1].match(/[+\-].*/)&&(m+=x)),(!A||z.getTime()>=A.getTime())&&(!q||z.getTime()<=q.getTime())&&(!k||z.getFullYear()>=k)&&(!m||m>=z.getFullYear())},_getFormatConfig:function(k){var a=this._get(k,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(k,"dayNamesShort"),dayNames:this._get(k,"dayNames"),monthNamesShort:this._get(k,"monthNamesShort"),monthNames:this._get(k,"monthNames")}},_formatDate:function(q,n,m,k){n||(q.currentDay=q.selectedDay,q.currentMonth=q.selectedMonth,q.currentYear=q.selectedYear);var o=n?"object"==typeof n?n:this._daylightSavingAdjust(new Date(k,m,n)):this._daylightSavingAdjust(new Date(q.currentYear,q.currentMonth,q.currentDay));return this.formatDate(this._get(q,"dateFormat"),o,this._getFormatConfig(q))}}),h.fn.datepicker=function(e){if(!this.length){return this}h.datepicker.initialized||(h(document).mousedown(h.datepicker._checkExternalClick),h.datepicker.initialized=!0),0===h("#"+h.datepicker._mainDivId).length&&h("body").append(h.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this].concat(a)):h.datepicker._attachDatepicker(this,e)}):h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this[0]].concat(a))},h.datepicker=new c,h.datepicker.initialized=!1,h.datepicker.uuid=(new Date).getTime(),h.datepicker.version="1.10.4"})(jQuery);(function(c){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};c.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var d=c(this).css(e).offset().top;0>d&&c(this).css("top",e.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&c.fn.draggable&&this._makeDraggable(),this.options.resizable&&c.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var d=this.options.appendTo;return d&&(d.jquery||d.nodeType)?c(d):this.document.find(d||"body").eq(0)},_destroy:function(){var f,d=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),f=d.parent.children().eq(d.index),f.length&&f[0]!==this.element[0]?f.before(this.element):d.parent.append(this.element)},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(f){var e,d=this;if(this._isOpen&&this._trigger("beforeClose",f)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length){try{e=this.document[0].activeElement,e&&"body"!==e.nodeName.toLowerCase()&&c(e).blur()}catch(g){}}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",f)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(g,f){var d=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return d&&!f&&this._trigger("focus",g),d},open:function(){var d=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=c(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){d._focusTabbable(),d._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var d=this.element.find("[autofocus]");d.length||(d=this.element.find(":tabbable")),d.length||(d=this.uiDialogButtonPane.find(":tabbable")),d.length||(d=this.uiDialogTitlebarClose.filter(":tabbable")),d.length||(d=this.uiDialog),d.eq(0).focus()},_keepFocus:function(e){function d(){var g=this.document[0].activeElement,f=this.uiDialog[0]===g||c.contains(this.uiDialog[0],g);f||this._focusTabbable()}e.preventDefault(),d.call(this),this._delay(d)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(f){if(this.options.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===c.ui.keyCode.ESCAPE){return f.preventDefault(),this.close(f),undefined}if(f.keyCode===c.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),d=e.filter(":first"),g=e.filter(":last");f.target!==g[0]&&f.target!==this.uiDialog[0]||f.shiftKey?f.target!==d[0]&&f.target!==this.uiDialog[0]||!f.shiftKey||(g.focus(1),f.preventDefault()):(d.focus(1),f.preventDefault())}},mousedown:function(d){this._moveToTop(d)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var d;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){c(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=c("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault(),this.close(f)}}),d=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(d),this.uiDialog.attr({"aria-labelledby":d.attr("id")})},_title:function(d){this.options.title||d.html("&#160;"),d.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,d=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),c.isEmptyObject(d)||c.isArray(d)&&!d.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(c.each(d,function(g,f){var h,j;f=c.isFunction(f)?{click:f,text:g}:f,f=c.extend({type:"button"},f),h=f.click,f.click=function(){h.apply(e.element[0],arguments)},j={icons:f.icons,text:f.showText},delete f.icons,delete f.showText,c("<button></button>",f).button(j).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function f(g){return{position:g.position,offset:g.offset}}var e=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(g,h){c(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",g,f(h))},drag:function(h,g){e._trigger("drag",h,f(g))},stop:function(g,h){d.position=[h.position.left-e.document.scrollLeft(),h.position.top-e.document.scrollTop()],c(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",g,f(h))}})},_makeResizable:function(){function f(k){return{originalPosition:k.originalPosition,originalSize:k.originalSize,position:k.position,size:k.size}}var e=this,d=this.options,g=d.resizable,j=this.uiDialog.css("position"),h="string"==typeof g?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:h,start:function(k,m){c(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",k,f(m))},resize:function(m,k){e._trigger("resize",m,f(k))},stop:function(k,m){d.height=c(this).height(),d.width=c(this).width(),c(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",k,f(m))}}).css("position",j)},_minHeight:function(){var d=this.options;return"auto"===d.height?d.minHeight:Math.min(d.minHeight,d.height)},_position:function(){var d=this.uiDialog.is(":visible");d||this.uiDialog.show(),this.uiDialog.position(this.options.position),d||this.uiDialog.hide()},_setOptions:function(d){var e=this,g=!1,f={};c.each(d,function(j,h){e._setOption(j,h),j in b&&(g=!0),j in a&&(f[j]=h)}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(j,g){var f,d,h=this.uiDialog;"dialogClass"===j&&h.removeClass(this.options.dialogClass).addClass(g),"disabled"!==j&&(this._super(j,g),"appendTo"===j&&this.uiDialog.appendTo(this._appendTo()),"buttons"===j&&this._createButtons(),"closeText"===j&&this.uiDialogTitlebarClose.button({label:""+g}),"draggable"===j&&(f=h.is(":data(ui-draggable)"),f&&!g&&h.draggable("destroy"),!f&&g&&this._makeDraggable()),"position"===j&&this._position(),"resizable"===j&&(d=h.is(":data(ui-resizable)"),d&&!g&&h.resizable("destroy"),d&&"string"==typeof g&&h.resizable("option","handles",g),d||g===!1||this._makeResizable()),"title"===j&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var h,g,f,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),h=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),g=Math.max(0,d.minHeight-h),f="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-h):"none","auto"===d.height?this.element.css({minHeight:g,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,d.height-h)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var d=c(this);return c("<div>").css({position:"absolute",width:d.outerWidth(),height:d.outerHeight()}).appendTo(d.parent()).offset(d.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(d){return c(d.target).closest(".ui-dialog").length?!0:!!c(d.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,d=this.widgetFullName;c.ui.dialog.overlayInstances||this._delay(function(){c.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(f){e._allowInteraction(f)||(f.preventDefault(),c(".ui-dialog:visible:last .ui-dialog-content").data(d)._focusTabbable())})}),this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),c.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(c.ui.dialog.overlayInstances--,c.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),c.ui.dialog.overlayInstances=0,c.uiBackCompat!==!1&&c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f,e=this.options.position,d=[],g=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0" in e)&&(d=e.split?e.split(" "):[e[0],e[1]],1===d.length&&(d[1]=d[0]),c.each(["left","top"],function(j,h){+d[j]===d[j]&&(g[j]=d[j],d[j]=h)}),e={my:d[0]+(0>g[0]?g[0]:"+"+g[0])+" "+d[1]+(0>g[1]?g[1]:"+"+g[1]),at:d.join(" ")}),e=c.extend({},c.ui.dialog.prototype.options.position,e)):e=c.ui.dialog.prototype.options.position,f=this.uiDialog.is(":visible"),f||this.uiDialog.show(),this.uiDialog.position(e),f||this.uiDialog.hide()}})})(jQuery);(function(a){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(b){this.options.disabled&&b.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(c){var b=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var b=a(c.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(c,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(c,b)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(h){function d(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var f,k,c,j,g,b=!0;switch(h.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(h);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(h);break;case a.ui.keyCode.HOME:this._move("first","first",h);break;case a.ui.keyCode.END:this._move("last","last",h);break;case a.ui.keyCode.UP:this.previous(h);break;case a.ui.keyCode.DOWN:this.next(h);break;case a.ui.keyCode.LEFT:this.collapse(h);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(h);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(h);break;case a.ui.keyCode.ESCAPE:this.collapse(h);break;default:b=!1,k=this.previousFilter||"",c=String.fromCharCode(h.keyCode),j=!1,clearTimeout(this.filterTimer),c===k?j=!0:c=k+c,g=RegExp("^"+d(c),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),f=j&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(c=String.fromCharCode(h.keyCode),g=RegExp("^"+d(c),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),f.length?(this.focus(h,f),f.length>1?(this.previousFilter=c,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}b&&h.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var d,b=this.options.icons.submenu,c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=a(this),f=g.prev("a"),h=a("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(h),g.attr("aria-labelledby",f.attr("id"))}),d=c.add(this.element),d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),d.children(":not(.ui-menu-item)").each(function(){var f=a(this);/[^\-\u2014\u2013\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider")}),d.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu),this._super(b,c)},focus:function(c,f){var b,d;this.blur(c,c&&"focus"===c.type),this._scrollIntoView(f),this.active=f.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),b=f.children(".ui-menu"),b.length&&c&&/^mouse/.test(c.type)&&this._startOpening(b),this.activeMenu=f.parent(),this._trigger("focus",c,{item:f})},_scrollIntoView:function(g){var c,d,j,b,h,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,j=g.offset().top-this.activeMenu.offset().top-c-d,b=this.activeMenu.scrollTop(),h=this.activeMenu.height(),f=g.height(),0>j?this.activeMenu.scrollTop(b+j):j+f>h&&this.activeMenu.scrollTop(b+j-h+f))},blur:function(b,c){c||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer),"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(b)},this.delay))},_open:function(c){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(c,b){clearTimeout(this.timer),this.timer=this._delay(function(){var d=b?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(c),this.activeMenu=d},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element),b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,f,b){var d;this.active&&(d="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[f]()),this.focus(b,d)},nextPage:function(d){var b,c,f;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-c-f}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(d),undefined)},previousPage:function(d){var b,c,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),b.offset().top-c+f>0}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(d),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,b)}})})(jQuery);(function(a,b){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(c){return c===b?this.options.value:(this.options.value=this._constrainedValue(c),this._refreshValue(),b)},_constrainedValue:function(c){return c===b&&(c=this.options.value),this.indeterminate=c===!1,"number"!=typeof c&&(c=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value,this._super(c),this.options.value=this._constrainedValue(d),this._refreshValue()},_setOption:function(c,d){"max"===c&&(d=Math.max(this.min,d)),this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==d&&(this.oldValue=d,this._trigger("change")),d===this.options.max&&this._trigger("complete")}})})(jQuery);(function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var g,d,f=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(d=f.values&&f.values.length||1,j.length>d&&(j.slice(d).remove(),j=j.slice(0,d)),g=j.length;d>g;g++){h.push(c)}this.handles=j.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(k){a(this).data("ui-slider-handle-index",k)})},_createRange:function(){var d=this.options,c="";d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(q){var k,x,g,v,f,d,j,m,w=this,t=this.options;return t.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:q.pageX,y:q.pageY},x=this._normValueFromMouse(k),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(x-w.values(h));(g>c||g===c&&(h===w._lastChangedValue||w.values(h)===t.min))&&(g=c,v=a(this),f=h)}),d=this._start(q,f),d===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,v.addClass("ui-state-active").focus(),j=v.offset(),m=!a(q.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=m?{left:0,top:0}:{left:q.pageX-j.left-v.width()/2,top:q.pageY-j.top-v.height()/2-(parseInt(v.css("borderTopWidth"),10)||0)-(parseInt(v.css("borderBottomWidth"),10)||0)+(parseInt(v.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(q,f,x),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(d){var f={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(f);return this._slide(d,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(f){var h,d,g,j,c;return"horizontal"===this.orientation?(h=this.elementSize.width,d=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,d=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/h,g>1&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),j=this._valueMax()-this._valueMin(),c=this._valueMin()+g*j,this._trimAlignValue(c)},_start:function(d,f){var c={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("start",d,c)},_slide:function(f,h,d){var g,j,c;this.options.values&&this.options.values.length?(g=this.values(h?0:1),2===this.options.values.length&&this.options.range===!0&&(0===h&&d>g||1===h&&g>d)&&(d=g),d!==this.values(h)&&(j=this.values(),j[h]=d,c=this._trigger("slide",f,{handle:this.handles[h],value:d,values:j}),g=this.values(h?0:1),c!==!1&&this.values(h,d))):d!==this.value()&&(c=this._trigger("slide",f,{handle:this.handles[h],value:d}),c!==!1&&this.value(d))},_stop:function(d,f){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("stop",d,c)},_change:function(d,f){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._lastChangedValue=f,this._trigger("change",d,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(g,d){var f,h,c;if(arguments.length>1){return this.options.values[g]=this._trimAlignValue(d),this._refreshValue(),this._change(null,g),undefined}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(g):this.value()}for(f=this.options.values,h=arguments[0],c=0;f.length>c;c+=1){f[c]=this._trimAlignValue(h[c]),this._change(null,c)}this._refreshValue()},_setOption:function(f,c){var d,g=0;switch("range"===f&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(g=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;g>d;d+=1){this._change(null,d)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var g,c,f;if(arguments.length){return g=this.options.values[d],g=this._trimAlignValue(g)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;c.length>f;f+=1){c[f]=this._trimAlignValue(c[f])}return c}return[]},_trimAlignValue:function(d){if(this._valueMin()>=d){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,c=(d-this._valueMin())%g,f=d-c;return 2*Math.abs(c)>=g&&(f+=c>0?g:-g),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var m,j,v,f,q,d=this.options.range,c=this.options,g=this,k=this._animateOff?!1:c.animate,t={};this.options.values&&this.options.values.length?this.handles.each(function(e){j=100*((g.values(e)-g._valueMin())/(g._valueMax()-g._valueMin())),t["horizontal"===g.orientation?"left":"bottom"]=j+"%",a(this).stop(1,1)[k?"animate":"css"](t,c.animate),g.options.range===!0&&("horizontal"===g.orientation?(0===e&&g.range.stop(1,1)[k?"animate":"css"]({left:j+"%"},c.animate),1===e&&g.range[k?"animate":"css"]({width:j-m+"%"},{queue:!1,duration:c.animate})):(0===e&&g.range.stop(1,1)[k?"animate":"css"]({bottom:j+"%"},c.animate),1===e&&g.range[k?"animate":"css"]({height:j-m+"%"},{queue:!1,duration:c.animate}))),m=j}):(v=this.value(),f=this._valueMin(),q=this._valueMax(),j=q!==f?100*((v-f)/(q-f)):0,t["horizontal"===this.orientation?"left":"bottom"]=j+"%",this.handle.stop(1,1)[k?"animate":"css"](t,c.animate),"min"===d&&"horizontal"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({width:j+"%"},c.animate),"max"===d&&"horizontal"===this.orientation&&this.range[k?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:c.animate}),"min"===d&&"vertical"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({height:j+"%"},c.animate),"max"===d&&"vertical"===this.orientation&&this.range[k?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:c.animate}))},_handleEvents:{keydown:function(d){var e,h,c,g,f=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(d.target).addClass("ui-state-active"),e=this._start(d,f),e===!1)){return}}switch(g=this.options.step,h=c=this.options.values&&this.options.values.length?this.values(f):this.value(),d.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===this._valueMax()){return}c=this._trimAlignValue(h+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===this._valueMin()){return}c=this._trimAlignValue(h-g)}this._slide(d,f,c)},click:function(c){c.preventDefault()},keyup:function(d){var c=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),a(d.target).removeClass("ui-state-active"))}}})})(jQuery);(function(a){function b(c){return function(){var d=this.element.val();c.apply(this,arguments),this._refresh(),d!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var d={},c=this.element;return a.each(["min","max","step"],function(e,f){var g=c.attr(f);void 0!==g&&g.length&&(d[f]=g)}),d},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c),void 0)},mousewheel:function(c,d){if(d){if(!this.spinning&&!this._start(c)){return !1}this._spin((d>0?1:-1)*this.options.step,c),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100),c.preventDefault()}},"mousedown .ui-spinner-button":function(f){function c(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),f.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(f)!==!1&&this._repeat(null,a(f.currentTarget).hasClass("ui-spinner-up")?1:-1,f)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){return a(c.currentTarget).hasClass("ui-state-active")?this._start(c)===!1?!1:(this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*c.height())&&c.height()>0&&c.height(c.height()),this.options.disabled&&this.disable()},_keydown:function(f){var c=this.options,d=a.ui.keyCode;switch(f.keyCode){case d.UP:return this._repeat(null,1,f),!0;case d.DOWN:return this._repeat(null,-1,f),!0;case d.PAGE_UP:return this._repeat(null,c.page,f),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,f),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){return this.spinning||this._trigger("start",c)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(d,f,c){d=d||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,f,c)},d),this._spin(f*this.options.step,c)},_spin:function(d,f){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+d*this._increment(this.counter)),this.spinning&&this._trigger("spin",f,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(d){var c=this.options.incremental;return c?a.isFunction(c)?c(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);return null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(d){var f=""+d,c=f.indexOf(".");return -1===c?0:f.length-c-1},_adjustValue:function(d){var g,c,f=this.options;return g=null!==f.min?f.min:0,c=d-g,c=Math.round(c/f.step)*f.step,d=g+c,d=parseFloat(d.toFixed(this._precision())),null!==f.max&&d>f.max?f.max:null!==f.min&&f.min>d?f.min:d},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c))},_setOption:function(d,f){if("culture"===d||"numberFormat"===d){var c=this._parse(this.element.val());return this.options[d]=f,this.element.val(this._format(c)),void 0}("max"===d||"min"===d||"step"===d)&&"string"==typeof f&&(f=this._parse(f)),"icons"===d&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(d,f),"disabled"===d&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(c){this._super(c),this._value(this.element.val())}),_parse:function(c){return"string"==typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c),""===c||isNaN(c)?null:c},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(d,f){var c;""!==d&&(c=this._parse(d),null!==c&&(f||(c=this._adjustValue(c)),d=this._format(c))),this.element.val(d),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(c){this._stepUp(c)}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),this._stop())},stepDown:b(function(c){this._stepDown(c)}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop())},pageUp:b(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:b(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){return arguments.length?(b(this._value).call(this,c),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(d,g){function c(){return ++h}function f(a){return a=a.cloneNode(!1),a.hash.length>1&&decodeURIComponent(a.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""))}var h=0,b=/#.*$/;d.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var j=this,a=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(k){d(this).is(".ui-state-disabled")&&k.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),a.active=this._initialActive(),d.isArray(a.disabled)&&(a.disabled=d.unique(a.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(e){return j.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):d(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var a=this.options.active,e=this.options.collapsible,j=location.hash.substring(1);return null===a&&(j&&this.tabs.each(function(m,k){return d(k).attr("aria-controls")===j?(a=m,!1):g}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=e?!1:0)),!e&&a===!1&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):d()}},_tabKeydown:function(j){var k=d(this.document[0].activeElement).closest("li"),m=this.tabs.index(k),e=!0;if(!this._handlePageNav(j)){switch(j.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:m++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:e=!1,m--;break;case d.ui.keyCode.END:m=this.anchors.length-1;break;case d.ui.keyCode.HOME:m=0;break;case d.ui.keyCode.SPACE:return j.preventDefault(),clearTimeout(this.activating),this._activate(m),g;case d.ui.keyCode.ENTER:return j.preventDefault(),clearTimeout(this.activating),this._activate(m===this.options.active?!1:m),g;default:return}j.preventDefault(),clearTimeout(this.activating),m=this._focusNextTab(m,e),j.ctrlKey||(k.attr("aria-selected","false"),this.tabs.eq(m).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",m)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===d.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===d.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===d.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):g},_findNextTab:function(k,a){function j(){return k>m&&(k=0),0>k&&(k=m),k}for(var m=this.tabs.length-1;-1!==d.inArray(j(),this.options.disabled);){k=a?k+1:k-1}return k},_focusNextTab:function(a,j){return a=this._findNextTab(a,j),this.tabs.eq(a).focus(),a},_setOption:function(e,a){return"active"===e?(this._activate(a),g):"disabled"===e?(this._setupDisabled(a),g):(this._super(e,a),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",a),a||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(a),"heightStyle"===e&&this._setupHeightStyle(a),g)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var j=this.options,a=this.tablist.children(":has(a[href])");j.disabled=d.map(a.filter(".ui-state-disabled"),function(e){return a.index(e)}),this._processTabs(),j.active!==!1&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===j.disabled.length?(j.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,j.active-1),!1)):j.active=this.tabs.index(this.active):(j.active=!1,this.active=d()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=d(),this.anchors.each(function(k,u){var j,s,q,m=d(u).uniqueId().attr("id"),e=d(u).closest("li"),t=e.attr("aria-controls");f(u)?(j=u.hash,s=a.element.find(a._sanitizeSelector(j))):(q=a._tabId(e),j="#"+q,s=a.element.find(j),s.length||(s=a._createPanel(q),s.insertAfter(a.panels[k-1]||a.tablist)),s.attr("aria-live","polite")),s.length&&(a.panels=a.panels.add(s)),t&&e.data("ui-tabs-aria-controls",t),e.attr({"aria-controls":j.substring(1),"aria-labelledby":m}),s.attr("aria-labelledby",m)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return d("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(k){d.isArray(k)&&(k.length?k.length===this.anchors.length&&(k=!0):k=!1);for(var a,j=0;a=this.tabs[j];j++){k===!0||-1!==d.inArray(j,k)?d(a).addClass("ui-state-disabled").attr("aria-disabled","true"):d(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=k},_setupEvents:function(j){var a={click:function(e){e.preventDefault()}};j&&d.each(j.split(" "),function(k,m){a[m]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(k){var a,j=this.element.parent();"fill"===k?(a=j.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var n=d(this),m=n.css("position");"absolute"!==m&&"fixed"!==m&&(a-=n.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=d(this).outerHeight(!0)}),this.panels.each(function(){d(this).height(Math.max(0,a-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===k&&(a=0,this.panels.each(function(){a=Math.max(a,d(this).height("").height())}).height(a))},_eventHandler:function(v){var t=this.options,y=this.active,m=d(v.currentTarget),x=m.closest("li"),k=x[0]===y[0],j=k&&t.collapsible,u=j?d():this._getPanelForTab(x),q=y.length?this._getPanelForTab(y):d(),w={oldTab:y,oldPanel:q,newTab:j?d():x,newPanel:u};v.preventDefault(),x.hasClass("ui-state-disabled")||x.hasClass("ui-tabs-loading")||this.running||k&&!t.collapsible||this._trigger("beforeActivate",v,w)===!1||(t.active=j?!1:this.tabs.index(x),this.active=k?d():x,this.xhr&&this.xhr.abort(),q.length||u.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),u.length&&this.load(this.tabs.index(x),v),this._toggle(v,w))},_toggle:function(t,k){function m(){j.running=!1,j._trigger("activate",t,k)}function v(){k.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),u.length&&j.options.show?j._show(u,j.options.show,m):(u.show(),m())}var j=this,u=k.newPanel,q=k.oldPanel;this.running=!0,q.length&&this.options.hide?this._hide(q,this.options.hide,function(){k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),v()}):(k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),q.hide(),v()),q.attr({"aria-expanded":"false","aria-hidden":"true"}),k.oldTab.attr("aria-selected","false"),u.length&&q.length?k.oldTab.attr("tabIndex",-1):u.length&&this.tabs.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1),u.attr({"aria-expanded":"true","aria-hidden":"false"}),k.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(k){var a,j=this._findActive(k);j[0]!==this.active[0]&&(j.length||(j=this.active),a=j.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop}))},_findActive:function(a){return a===!1?d():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var j=d(this),a=j.data("ui-tabs-aria-controls");a?j.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):j.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var e=this.options.disabled;e!==!1&&(a===g?e=!1:(a=this._getIndex(a),e=d.isArray(e)?d.map(e,function(j){return j!==a?j:null}):d.map(this.tabs,function(j,k){return k!==a?k:null})),this._setupDisabled(e))},disable:function(a){var e=this.options.disabled;if(e!==!0){if(a===g){e=!0}else{if(a=this._getIndex(a),-1!==d.inArray(a,e)){return}e=d.isArray(e)?d.merge([a],e).sort():[a]}this._setupDisabled(e)}},load:function(s,k){s=this._getIndex(s);var u=this,j=this.tabs.eq(s),t=j.find(".ui-tabs-anchor"),q=this._getPanelForTab(j),m={tab:j,panel:q};f(t[0])||(this.xhr=d.ajax(this._ajaxSettings(t,k,m)),this.xhr&&"canceled"!==this.xhr.statusText&&(j.addClass("ui-tabs-loading"),q.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){q.html(a),u._trigger("load",k,m)},1)}).complete(function(a,n){setTimeout(function(){"abort"===n&&u.panels.stop(!1,!0),j.removeClass("ui-tabs-loading"),q.removeAttr("aria-busy"),a===u.xhr&&delete u.xhr},1)})))},_ajaxSettings:function(k,a,j){var m=this;return{url:k.attr("href"),beforeSend:function(o,n){return m._trigger("beforeLoad",a,d.extend({jqXHR:o,ajaxSettings:n},j))}}},_getPanelForTab:function(j){var a=d(j).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}})})(jQuery);(function(b){function d(h,f){var g=(h.attr("aria-describedby")||"").split(/\s+/);g.push(f),h.data("ui-tooltip-id",f).attr("aria-describedby",b.trim(g.join(" ")))}function a(h){var f=h.data("ui-tooltip-id"),g=(h.attr("aria-describedby")||"").split(/\s+/),j=b.inArray(f,g);-1!==j&&g.splice(j,1),h.removeData("ui-tooltip-id"),g=b.trim(g.join(" ")),g?h.attr("aria-describedby",g):h.removeAttr("aria-describedby")}var c=0;b.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var f=b(this).attr("title")||"";return b("<a>").text(f).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(h,f){var g=this;return"disabled"===h?(this[f?"_disable":"_enable"](),this.options[h]=f,void 0):(this._super(h,f),"content"===h&&b.each(this.tooltips,function(j,k){g._updateContent(k)}),void 0)},_disable:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0)}),this.element.find(this.options.items).addBack().each(function(){var g=b(this);g.is("[title]")&&g.data("ui-tooltip-title",g.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var f=b(this);f.data("ui-tooltip-title")&&f.attr("title",f.data("ui-tooltip-title"))})},open:function(h){var f=this,g=b(h?h.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),h&&"mouseover"===h.type&&g.parents().each(function(){var k,j=b(this);j.data("ui-tooltip-open")&&(k=b.Event("blur"),k.target=k.currentTarget=this,f.close(k,!0)),j.attr("title")&&(j.uniqueId(),f.parents[this.id]={element:this,title:j.attr("title")},j.attr("title",""))}),this._updateContent(g,h))},_updateContent:function(g,j){var f,h=this.options.content,m=this,k=j?j.type:null;return"string"==typeof h?this._open(j,g,h):(f=h.call(g[0],function(e){g.data("ui-tooltip-open")&&m._delay(function(){j&&(j.type=k),this._open(j,g,e)})}),f&&this._open(j,g,f),void 0)},_open:function(g,k,t){function q(h){e.of=h,f.is(":hidden")||f.position(e)}var f,m,j,e=b.extend({},this.options.position);if(t){if(f=this._find(k),f.length){return f.find(".ui-tooltip-content").html(t),void 0}k.is("[title]")&&(g&&"mouseover"===g.type?k.attr("title",""):k.removeAttr("title")),f=this._tooltip(k),d(k,f.attr("id")),f.find(".ui-tooltip-content").html(t),this.options.track&&g&&/^mouse/.test(g.type)?(this._on(this.document,{mousemove:q}),q(g)):f.position(b.extend({of:k},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(j=this.delayedShow=setInterval(function(){f.is(":visible")&&(q(e.of),clearInterval(j))},b.fx.interval)),this._trigger("open",g,{tooltip:f}),m={keyup:function(n){if(n.keyCode===b.ui.keyCode.ESCAPE){var h=b.Event(n);h.currentTarget=k[0],this.close(h,!0)}},remove:function(){this._removeTooltip(f)}},g&&"mouseover"!==g.type||(m.mouseleave="close"),g&&"focusin"!==g.type||(m.focusout="close"),this._on(!0,k,m)}},close:function(g){var f=this,j=b(g?g.currentTarget:this.element),h=this._find(j);this.closing||(clearInterval(this.delayedShow),j.data("ui-tooltip-title")&&j.attr("title",j.data("ui-tooltip-title")),a(j),h.stop(!0),this._hide(h,this.options.hide,function(){f._removeTooltip(b(this))}),j.removeData("ui-tooltip-open"),this._off(j,"mouseleave focusout keyup"),j[0]!==this.element[0]&&this._off(j,"remove"),this._off(this.document,"mousemove"),g&&"mouseleave"===g.type&&b.each(this.parents,function(m,k){b(k.element).attr("title",k.title),delete f.parents[m]}),this.closing=!0,this._trigger("close",g,{tooltip:h}),this.closing=!1)},_tooltip:function(g){var f="ui-tooltip-"+c++,h=b("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return b("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[f]=g,h},_find:function(g){var f=g.data("ui-tooltip-id");return f?b("#"+f):b()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0),b("#"+e).remove(),g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))})}})})(jQuery);(function(b,c){var a="ui-effects-";b.effects={effect:{}},function(D,y){function v(f,n,d){var h=C[n.type]||{};return null==f?d||!n.def?null:n.def:(f=h.floor?~~f:parseFloat(f),isNaN(f)?n.def:h.mod?(f+h.mod)%h.mod:0>f?0:f>h.max?h.max:f)}function E(d){var e=w(),f=e._rgba=[];return d=d.toLowerCase(),x(q,function(u,s){var H,G=s.re.exec(d),n=G&&s.parse(G),F=s.space||"rgba";return n?(H=e[F](n),e[A[F].cache]=H[A[F].cache],f=e._rgba=H._rgba,!1):y}),f.length?("0,0,0,0"===f.join()&&D.extend(f,B.transparent),e):B[d]}function m(f,h,d){return d=(d+1)%1,1>6*d?f+6*(h-f)*d:1>2*d?h:2>3*d?f+6*(h-f)*(2/3-d):f}var B,k="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[d[1],d[2],d[3],d[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[2.55*d[1],2.55*d[2],2.55*d[3],d[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(d){return[d[1],d[2]/100,d[3]/100,d[4]]}}],w=D.Color=function(h,d,f,o){return new D.Color.fn.parse(h,d,f,o)},A={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},C={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},z=w.support={},j=D("<p>")[0],x=D.each;j.style.cssText="background-color:rgba(1,1,1,.5)",z.rgba=j.style.backgroundColor.indexOf("rgba")>-1,x(A,function(d,f){f.cache="_"+d,f.props.alpha={idx:3,type:"percent",def:1}}),w.fn=D.extend(w.prototype,{parse:function(G,F,h,e){if(G===y){return this._rgba=[null,null,null,null],this}(G.jquery||G.nodeType)&&(G=D(G).css(F),F=y);var f=this,t=D.type(G),s=this._rgba=[];return F!==y&&(G=[G,F,h,e],t="array"),"string"===t?this.parse(E(G)||B._default):"array"===t?(x(A.rgba.props,function(d,n){s[n.idx]=v(G[n.idx],n)}),this):"object"===t?(G instanceof w?x(A,function(d,n){G[n.cache]&&(f[n.cache]=G[n.cache].slice())}):x(A,function(o,n){var d=n.cache;x(n.props,function(r,u){if(!f[d]&&n.to){if("alpha"===r||null==G[r]){return}f[d]=n.to(f._rgba)}f[d][u.idx]=v(G[r],u,!0)}),f[d]&&0>D.inArray(null,f[d].slice(0,3))&&(f[d][3]=1,n.from&&(f._rgba=n.from(f[d])))}),this):y},is:function(e){var d=w(e),f=!0,h=this;return x(A,function(s,n){var F,u=d[n.cache];return u&&(F=h[n.cache]||n.to&&n.to(h._rgba)||[],x(n.props,function(r,o){return null!=u[o.idx]?f=u[o.idx]===F[o.idx]:y})),f}),f},_space:function(){var d=[],f=this;return x(A,function(e,h){f[h.cache]&&d.push(e)}),d.pop()},transition:function(h,G){var u=w(h),I=u._space(),f=A[I],H=0===this.alpha()?w("transparent"):this,F=H[f.cache]||f.to(H._rgba),d=F.slice();return u=u[f.cache],x(f.props,function(r,L){var e=L.idx,J=F[e],s=u[e],K=C[L.type]||{};null!==s&&(null===J?d[e]=s:(K.mod&&(s-J>K.mod/2?J+=K.mod:J-s>K.mod/2&&(J-=K.mod)),d[e]=v((s-J)*G+J,L)))}),this[I](d)},blend:function(h){if(1===this._rgba[3]){return this}var d=this._rgba.slice(),f=d.pop(),o=w(h)._rgba;return w(D.map(d,function(n,r){return(1-f)*o[r]+f*n}))},toRgbaString:function(){var f="rgba(",d=D.map(this._rgba,function(h,n){return null==h?n>2?1:0:h});return 1===d[3]&&(d.pop(),f="rgb("),f+d.join()+")"},toHslaString:function(){var f="hsla(",d=D.map(this.hsla(),function(h,n){return null==h&&(h=n>2?1:0),n&&3>n&&(h=Math.round(100*h)+"%"),h});return 1===d[3]&&(d.pop(),f="hsl("),f+d.join()+")"},toHexString:function(h){var d=this._rgba.slice(),f=d.pop();return h&&d.push(~~(255*f)),"#"+D.map(d,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),w.fn.parse.prototype=w.fn,A.hsla.to=function(N){if(null==N[0]||null==N[1]||null==N[2]){return[null,null,null,N[3]]}var J,H,O=N[0]/255,F=N[1]/255,L=N[2]/255,f=N[3],d=Math.max(O,F,L),G=Math.min(O,F,L),I=d-G,K=d+G,M=0.5*K;return J=G===d?0:O===d?60*(F-L)/I+360:F===d?60*(L-O)/I+120:60*(O-F)/I+240,H=0===I?0:0.5>=M?I/K:I/(2-K),[Math.round(J)%360,H,M,null==f?1:f]},A.hsla.from=function(h){if(null==h[0]||null==h[1]||null==h[2]){return[null,null,null,h[3]]}var F=h[0]/360,f=h[1],n=h[2],d=h[3],G=0.5>=n?n*(1+f):n+f-n*f,u=2*n-G;return[Math.round(255*m(u,G,F+1/3)),Math.round(255*m(u,G,F)),Math.round(255*m(u,G,F-1/3)),d]},x(A,function(f,t){var e=t.props,h=t.cache,d=t.to,r=t.from;w.fn[f]=function(F){if(d&&!this[h]&&(this[h]=d(this._rgba)),F===y){return this[h].slice()}var I,G=D.type(F),o="array"===G||"object"===G?F:arguments,H=this[h].slice();return x(e,function(n,J){var u=o["object"===G?n:J.idx];null==u&&(u=H[J.idx]),H[J.idx]=v(u,J)}),r?(I=w(r(H)),I[h]=H,I):w(H)},x(e,function(o,n){w.fn[o]||(w.fn[o]=function(I){var u,G=D.type(I),s="alpha"===o?this._hsla?"hsla":"rgba":f,F=this[s](),H=F[n.idx];return"undefined"===G?H:("function"===G&&(I=I.call(this,H),G=D.type(I)),null==I&&n.empty?this:("string"===G&&(u=g.exec(I),u&&(I=H+parseFloat(u[2])*("+"===u[1]?1:-1))),F[n.idx]=I,this[s](F)))})})}),w.hook=function(f){var d=f.split(" ");x(d,function(n,h){D.cssHooks[h]={set:function(F,H){var t,G,u="";if("transparent"!==H&&("string"!==D.type(H)||(t=E(H)))){if(H=w(t||H),!z.rgba&&1!==H._rgba[3]){for(G="backgroundColor"===h?F.parentNode:F;(""===u||"transparent"===u)&&G&&G.style;){try{u=D.css(G,"backgroundColor"),G=G.parentNode}catch(s){}}H=H.blend(u&&"transparent"!==u?u:"_default")}H=H.toRgbaString()}try{F.style[h]=H}catch(s){}}},D.fx.step[h]=function(o){o.colorInit||(o.start=w(o.elem,h),o.end=w(o.end),o.colorInit=!0),D.cssHooks[h].set(o.elem,o.start.transition(o.end,o.pos))}})},w.hook(k),D.cssHooks.borderColor={expand:function(d){var f={};return x(["Top","Right","Bottom","Left"],function(e,h){f["border"+h+"Color"]=d}),f}},B=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(m){var j,k,o=m.ownerDocument.defaultView?m.ownerDocument.defaultView.getComputedStyle(m,null):m.currentStyle,h={};if(o&&o.length&&o[0]&&o[o[0]]){for(k=o.length;k--;){j=o[k],"string"==typeof o[j]&&(h[b.camelCase(j)]=o[j])}}else{for(j in o){"string"==typeof o[j]&&(h[j]=o[j])}}return h}function f(k,h){var j,q,m={};for(j in h){q=h[j],k[j]!==q&&(d[j]||(b.fx.step[j]||!isNaN(parseFloat(q)))&&(m[j]=q))}return m}var g=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(j,h){b.fx.step[h]=function(k){("none"!==k.end&&!k.setAttr||1===k.pos&&!k.setAttr)&&(jQuery.style(k.elem,h,k.end),k.setAttr=!0)}}),b.fn.addBack||(b.fn.addBack=function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h))}),b.effects.animateClass=function(m,j,n,k){var h=b.speed(j,n,k);return this.queue(function(){var q,u=b(this),t=u.attr("class")||"",s=h.children?u.find("*").addBack():u;s=s.map(function(){var o=b(this);return{el:o,start:e(this)}}),q=function(){b.each(g,function(r,o){m[o]&&u[o+"Class"](m[o])})},q(),s=s.map(function(){return this.end=e(this.el[0]),this.diff=f(this.start,this.end),this}),u.attr("class",t),s=s.map(function(){var v=this,o=b.Deferred(),r=b.extend({},h,{queue:!1,complete:function(){o.resolve(v)}});return this.el.animate(this.diff,r),o.promise()}),b.when.apply(b,s.get()).done(function(){q(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"")})}),h.complete.call(u[0])})})},b.fn.extend({addClass:function(h){return function(k,m,o,j){return m?b.effects.animateClass.call(this,{add:k},m,o,j):h.apply(this,arguments)}}(b.fn.addClass),removeClass:function(h){return function(k,m,o,j){return arguments.length>1?b.effects.animateClass.call(this,{remove:k},m,o,j):h.apply(this,arguments)}}(b.fn.removeClass),toggleClass:function(h){return function(k,t,j,q,m){return"boolean"==typeof t||t===c?j?b.effects.animateClass.call(this,t?{add:k}:{remove:k},j,q,m):h.apply(this,arguments):b.effects.animateClass.call(this,{toggle:k},t,j,q)}}(b.fn.toggleClass),switchClass:function(m,j,k,o,h){return b.effects.animateClass.call(this,{add:j,remove:m},k,o,h)}})}(),function(){function d(h,f,g,j){return b.isPlainObject(h)&&(f=h,h=h.effect),h={effect:h},null==f&&(f={}),b.isFunction(f)&&(j=f,g=null,f={}),("number"==typeof f||b.fx.speeds[f])&&(j=g,g=f,f={}),b.isFunction(g)&&(j=g,g=null),f&&b.extend(h,f),g=g||f.duration,h.duration=b.fx.off?0:"number"==typeof g?g:g in b.fx.speeds?b.fx.speeds[g]:b.fx.speeds._default,h.complete=j||f.complete,h}function e(f){return !f||"number"==typeof f||b.fx.speeds[f]?!0:"string"!=typeof f||b.effects.effect[f]?b.isFunction(f)?!0:"object"!=typeof f||f.effect?!1:!0:!0}b.extend(b.effects,{version:"1.10.4",save:function(f,h){for(var g=0;h.length>g;g++){null!==h[g]&&f.data(a+h[g],f[0].style[h[g]])}},restore:function(g,h){var j,f;for(f=0;h.length>f;f++){null!==h[f]&&(j=g.data(a+h[f]),j===c&&(j=""),g.css(h[f],j))}},setMode:function(f,g){return"toggle"===g&&(g=f.is(":hidden")?"show":"hide"),g},getBaseline:function(g,j){var f,h;switch(g[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=g[0]/j.height}switch(g[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=g[1]/j.width}return{x:h,y:f}},createWrapper:function(j){if(j.parent().is(".ui-effects-wrapper")){return j.parent()}var g={width:j.outerWidth(!0),height:j.outerHeight(!0),"float":j.css("float")},h=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),m={width:j.width(),height:j.height()},f=document.activeElement;try{f.id}catch(k){f=document.body}return j.wrap(h),(j[0]===f||b.contains(j[0],f))&&b(f).focus(),h=j.parent(),"static"===j.css("position")?(h.css({position:"relative"}),j.css({position:"relative"})):(b.extend(g,{position:j.css("position"),zIndex:j.css("z-index")}),b.each(["top","left","bottom","right"],function(n,o){g[o]=j.css(o),isNaN(parseInt(g[o],10))&&(g[o]="auto")}),j.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),j.css(m),h.css(g).show()},removeWrapper:function(g){var f=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===f||b.contains(g[0],f))&&b(f).focus()),g},setTransition:function(h,f,g,j){return j=j||{},b.each(f,function(n,m){var k=h.cssUnit(m);k[0]>0&&(j[m]=k[0]*g+k[1])}),j}}),b.fn.extend({effect:function(){function h(t){function o(){b.isFunction(m)&&m.call(u[0]),b.isFunction(t)&&t()}var u=b(this),m=g.complete,q=g.mode;(u.is(":hidden")?"hide"===q:"show"===q)?(u[q](),o()):j.call(u[0],g,o)}var g=d.apply(this,arguments),k=g.mode,f=g.queue,j=b.effects.effect[g.effect];return b.fx.off||!j?k?this[k](g.duration,g.complete):this.each(function(){g.complete&&g.complete.call(this)}):f===!1?this.each(h):this.queue(f||"fx",h)},show:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="show",this.effect.call(this,g)}}(b.fn.show),hide:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="hide",this.effect.call(this,g)}}(b.fn.hide),toggle:function(f){return function(h){if(e(h)||"boolean"==typeof h){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="toggle",this.effect.call(this,g)}}(b.fn.toggle),cssUnit:function(h){var f=this.css(h),g=[];return b.each(["em","px","%","pt"],function(j,k){f.indexOf(k)>0&&(g=[parseFloat(f),k])}),g}})}(),function(){var d={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}}),b.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){for(var h,f=4;((h=Math.pow(2,--f))-1)/11>g;){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*h-2)/22-g,2)}}),b.each(d,function(g,f){b.easing["easeIn"+g]=f,b.easing["easeOut"+g]=function(e){return 1-f(1-e)},b.easing["easeInOut"+g]=function(e){return 0.5>e?f(2*e)/2:1-f(-2*e+2)/2}})}()})(jQuery);(function(b){var c=/up|down|vertical/,a=/up|left|vertical|horizontal/;b.effects.effect.blind=function(F,q){var C,k,e,w=b(this),x=["position","top","bottom","left","right","height","width"],B=b.effects.setMode(w,F.mode||"hide"),E=F.direction||"up",A=c.test(E),j=A?"height":"width",z=A?"top":"left",y=a.test(E),t={},D="show"===B;w.parent().is(".ui-effects-wrapper")?b.effects.save(w.parent(),x):b.effects.save(w,x),w.show(),C=b.effects.createWrapper(w).css({overflow:"hidden"}),k=C[j](),e=parseFloat(C.css(z))||0,t[j]=D?k:0,y||(w.css(A?"bottom":"right",0).css(A?"top":"left","auto").css({position:"absolute"}),t[z]=D?e:k+e),D&&(C.css(j,0),y||C.css(z,e+k)),C.animate(t,{duration:F.duration,easing:F.easing,queue:!1,complete:function(){"hide"===B&&w.hide(),b.effects.restore(w,x),b.effects.removeWrapper(w),q()}})}})(jQuery);(function(a){a.effects.effect.bounce=function(H,D){var t,A,L,z=a(this),w=["position","top","bottom","left","right","height","width"],C=a.effects.setMode(z,H.mode||"effect"),E="hide"===C,J="show"===C,q=H.direction||"up",I=H.distance,x=H.times||5,G=2*x+(J||E?1:0),F=H.duration/G,B=H.easing,k="up"===q||"down"===q?"top":"left",M="up"===q||"left"===q,K=z.queue(),j=K.length;for((J||E)&&w.push("opacity"),a.effects.save(z,w),z.show(),a.effects.createWrapper(z),I||(I=z["top"===k?"outerHeight":"outerWidth"]()/3),J&&(L={opacity:1},L[k]=0,z.css("opacity",0).css(k,M?2*-I:2*I).animate(L,F,B)),E&&(I/=Math.pow(2,x-1)),L={},L[k]=0,t=0;x>t;t++){A={},A[k]=(M?"-=":"+=")+I,z.animate(A,F,B).animate(L,F,B),I=E?2*I:I/2}E&&(A={opacity:0},A[k]=(M?"-=":"+=")+I,z.animate(A,F,B)),z.queue(function(){E&&z.hide(),a.effects.restore(z,w),a.effects.removeWrapper(z),D()}),j>1&&K.splice.apply(K,[1,0].concat(K.splice(j,G+1))),z.dequeue()}})(jQuery);(function(a){a.effects.effect.clip=function(w,q){var B,k,z,j=a(this),b=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(j,w.mode||"hide"),t="show"===m,y=w.direction||"vertical",A="vertical"===y,x=A?"height":"width",g=A?"top":"left",v={};a.effects.save(j,b),j.show(),B=a.effects.createWrapper(j).css({overflow:"hidden"}),k="IMG"===j[0].tagName?B:j,z=k[x](),t&&(k.css(x,0),k.css(g,z/2)),v[x]=t?z:0,v[g]=t?0:z/2,k.animate(v,{queue:!1,duration:w.duration,easing:w.easing,complete:function(){t||j.hide(),a.effects.restore(j,b),a.effects.removeWrapper(j),q()}})}})(jQuery);(function(a){a.effects.effect.drop=function(m,j){var w,f=a(this),t=["position","top","bottom","left","right","opacity","height","width"],d=a.effects.setMode(f,m.mode||"hide"),b="show"===d,g=m.direction||"left",k="up"===g||"down"===g?"top":"left",q="up"===g||"left"===g?"pos":"neg",v={opacity:b?1:0};a.effects.save(f,t),f.show(),a.effects.createWrapper(f),w=m.distance||f["top"===k?"outerHeight":"outerWidth"](!0)/2,b&&f.css("opacity",0).css(k,"pos"===q?-w:w),v[k]=(b?"pos"===q?"+=":"-=":"pos"===q?"-=":"+=")+w,f.animate(v,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,t),a.effects.removeWrapper(f),j()}})}})(jQuery);(function(a){a.effects.effect.explode=function(F,B){function q(){I.push(this),I.length===k*G&&y()}function y(){w.css({visibility:"visible"}),a(I).remove(),D||w.hide(),B()}var J,x,t,A,C,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=a(this),E=a.effects.setMode(w,F.mode||"hide"),D="show"===E,z=w.show().css("visibility","hidden").offset(),j=Math.ceil(w.outerWidth()/G),K=Math.ceil(w.outerHeight()/k),I=[];for(J=0;k>J;J++){for(A=z.top+J*K,H=J-(k-1)/2,x=0;G>x;x++){t=z.left+x*j,C=x-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-x*j,top:-J*K}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:j,height:K,left:t+(D?C*j:0),top:A+(D?H*K:0),opacity:D?0:1}).animate({left:t+(D?0:C*j),top:A+(D?0:H*K),opacity:D?1:0},F.duration||500,F.easing,q)}}}})(jQuery);(function(a){a.effects.effect.fade=function(d,b){var c=a(this),f=a.effects.setMode(c,d.mode||"toggle");c.animate({opacity:f},{queue:!1,duration:d.duration,easing:d.easing,complete:b})}})(jQuery);(function(a){a.effects.effect.fold=function(B,x){var H,q,E=a(this),k=["position","top","bottom","left","right","height","width"],b=a.effects.setMode(E,B.mode||"hide"),w="show"===b,y="hide"===b,D=B.size||15,G=/([0-9]+)%/.exec(D),C=!!B.horizFirst,j=w!==C,A=j?["width","height"]:["height","width"],z=B.duration/2,t={},F={};a.effects.save(E,k),E.show(),H=a.effects.createWrapper(E).css({overflow:"hidden"}),q=j?[H.width(),H.height()]:[H.height(),H.width()],G&&(D=parseInt(G[1],10)/100*q[y?0:1]),w&&H.css(C?{height:0,width:D}:{height:D,width:0}),t[A[0]]=w?q[0]:D,F[A[1]]=w?q[1]:0,H.animate(t,z,B.easing).animate(F,z,B.easing,function(){y&&E.hide(),a.effects.restore(E,k),a.effects.removeWrapper(E),x()})}})(jQuery);(function(a){a.effects.effect.highlight=function(f,c){var d=a(this),h=["backgroundImage","backgroundColor","opacity"],b=a.effects.setMode(d,f.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===b&&(g.opacity=0),a.effects.save(d,h),d.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(g,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===b&&d.hide(),a.effects.restore(d,h),c()}})}})(jQuery);(function(a){a.effects.effect.pulsate=function(t,m){var z,j=a(this),x=a.effects.setMode(j,t.mode||"show"),g="show"===x,b="hide"===x,k=g||"hide"===x,q=2*(t.times||5)+(k?1:0),w=t.duration/q,y=0,v=j.queue(),f=v.length;for((g||!j.is(":visible"))&&(j.css("opacity",0).show(),y=1),z=1;q>z;z++){j.animate({opacity:y},w,t.easing),y=1-y}j.animate({opacity:y},w,t.easing),j.queue(function(){b&&j.hide(),m()}),f>1&&v.splice.apply(v,[1,0].concat(v.splice(f,q+1))),j.dequeue()}})(jQuery);(function(a){a.effects.effect.puff=function(h,d){var f=a(this),k=a.effects.setMode(f,h.mode||"hide"),c="hide"===k,j=parseInt(h.percent,10)||150,g=j/100,b={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};a.extend(h,{effect:"scale",queue:!1,fade:!0,mode:k,complete:d,percent:c?j:100,from:c?b:{height:b.height*g,width:b.width*g,outerHeight:b.outerHeight*g,outerWidth:b.outerWidth*g}}),f.effect(h)},a.effects.effect.scale=function(m,j){var u=a(this),f=a.extend(!0,{},m),t=a.effects.setMode(u,m.mode||"effect"),d=parseInt(m.percent,10)||(0===parseInt(m.percent,10)?0:"hide"===t?0:100),b=m.direction||"both",g=m.origin,k={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},q={y:"horizontal"!==b?d/100:1,x:"vertical"!==b?d/100:1};f.effect="size",f.queue=!1,f.complete=j,"effect"!==t&&(f.origin=g||["middle","center"],f.restore=!0),f.from=m.from||("show"===t?{height:0,width:0,outerHeight:0,outerWidth:0}:k),f.to={height:k.height*q.y,width:k.width*q.x,outerHeight:k.outerHeight*q.y,outerWidth:k.outerWidth*q.x},f.fade&&("show"===t&&(f.from.opacity=0,f.to.opacity=1),"hide"===t&&(f.from.opacity=1,f.to.opacity=0)),u.effect(f)},a.effects.effect.size=function(F,B){var q,y,J,x=a(this),t=["position","top","bottom","left","right","width","height","overflow","opacity"],A=["position","top","bottom","left","right","overflow","opacity"],C=["width","height","overflow"],H=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],G=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=a.effects.setMode(x,F.mode||"effect"),E=F.restore||"effect"!==w,D=F.scale||"both",z=F.origin||["middle","center"],j=x.css("position"),K=E?t:A,I={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&x.show(),q={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()},"toggle"===F.mode&&"show"===w?(x.from=F.to||I,x.to=F.from||q):(x.from=F.from||("show"===w?I:q),x.to=F.to||("hide"===w?I:q)),J={from:{y:x.from.height/q.height,x:x.from.width/q.width},to:{y:x.to.height/q.height,x:x.to.width/q.width}},("box"===D||"both"===D)&&(J.from.y!==J.to.y&&(K=K.concat(k),x.from=a.effects.setTransition(x,k,J.from.y,x.from),x.to=a.effects.setTransition(x,k,J.to.y,x.to)),J.from.x!==J.to.x&&(K=K.concat(G),x.from=a.effects.setTransition(x,G,J.from.x,x.from),x.to=a.effects.setTransition(x,G,J.to.x,x.to))),("content"===D||"both"===D)&&J.from.y!==J.to.y&&(K=K.concat(H).concat(C),x.from=a.effects.setTransition(x,H,J.from.y,x.from),x.to=a.effects.setTransition(x,H,J.to.y,x.to)),a.effects.save(x,K),x.show(),a.effects.createWrapper(x),x.css("overflow","hidden").css(x.from),z&&(y=a.effects.getBaseline(z,q),x.from.top=(q.outerHeight-x.outerHeight())*y.y,x.from.left=(q.outerWidth-x.outerWidth())*y.x,x.to.top=(q.outerHeight-x.to.outerHeight)*y.y,x.to.left=(q.outerWidth-x.to.outerWidth)*y.x),x.css(x.from),("content"===D||"both"===D)&&(k=k.concat(["marginTop","marginBottom"]).concat(H),G=G.concat(["marginLeft","marginRight"]),C=t.concat(k).concat(G),x.find("*[width]").each(function(){var b=a(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};E&&a.effects.save(b,C),b.from={height:c.height*J.from.y,width:c.width*J.from.x,outerHeight:c.outerHeight*J.from.y,outerWidth:c.outerWidth*J.from.x},b.to={height:c.height*J.to.y,width:c.width*J.to.x,outerHeight:c.height*J.to.y,outerWidth:c.width*J.to.x},J.from.y!==J.to.y&&(b.from=a.effects.setTransition(b,k,J.from.y,b.from),b.to=a.effects.setTransition(b,k,J.to.y,b.to)),J.from.x!==J.to.x&&(b.from=a.effects.setTransition(b,G,J.from.x,b.from),b.to=a.effects.setTransition(b,G,J.to.x,b.to)),b.css(b.from),b.animate(b.to,F.duration,F.easing,function(){E&&a.effects.restore(b,C)})})),x.animate(x.to,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){0===x.to.opacity&&x.css("opacity",x.from.opacity),"hide"===w&&x.hide(),a.effects.restore(x,K),E||("static"===j?x.css({position:"relative",top:x.to.top,left:x.to.left}):a.each(["top","left"],function(b,c){x.css(c,function(g,d){var f=parseInt(d,10),h=b?x.to.left:x.to.top;return"auto"===d?h+"px":f+h+"px"})})),a.effects.removeWrapper(x),B()}})}})(jQuery);(function(a){a.effects.effect.shake=function(E,A){var k,x=a(this),H=["position","top","bottom","left","right","height","width"],w=a.effects.setMode(x,E.mode||"effect"),q=E.direction||"left",z=E.distance||20,B=E.times||3,G=2*B+1,j=Math.round(E.duration/G),F="up"===q||"down"===q?"top":"left",t="up"===q||"left"===q,D={},C={},y={},b=x.queue(),I=b.length;for(a.effects.save(x,H),x.show(),a.effects.createWrapper(x),D[F]=(t?"-=":"+=")+z,C[F]=(t?"+=":"-=")+2*z,y[F]=(t?"-=":"+=")+2*z,x.animate(D,j,E.easing),k=1;B>k;k++){x.animate(C,j,E.easing).animate(y,j,E.easing)}x.animate(C,j,E.easing).animate(D,j/2,E.easing).queue(function(){"hide"===w&&x.hide(),a.effects.restore(x,H),a.effects.removeWrapper(x),A()}),I>1&&b.splice.apply(b,[1,0].concat(b.splice(I,G+1))),x.dequeue()}})(jQuery);(function(a){a.effects.effect.slide=function(m,j){var w,f=a(this),t=["position","top","bottom","left","right","width","height"],d=a.effects.setMode(f,m.mode||"show"),b="show"===d,g=m.direction||"left",k="up"===g||"down"===g?"top":"left",q="up"===g||"left"===g,v={};a.effects.save(f,t),f.show(),w=m.distance||f["top"===k?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(f).css({overflow:"hidden"}),b&&f.css(k,q?isNaN(w)?"-"+w:-w:w),v[k]=(b?q?"+=":"-=":q?"-=":"+=")+w,f.animate(v,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,t),a.effects.removeWrapper(f),j()}})}})(jQuery);(function(a){a.effects.effect.transfer=function(q,k){var y=a(this),g=a(q.to),w="fixed"===g.css("position"),f=a("body"),b=w?f.scrollTop():0,j=w?f.scrollLeft():0,m=g.offset(),v={top:m.top-b,left:m.left-j,height:g.innerHeight(),width:g.innerWidth()},x=y.offset(),t=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(q.className).css({top:x.top-b,left:x.left-j,height:y.innerHeight(),width:y.innerWidth(),position:w?"fixed":"absolute"}).animate(v,q.duration,q.easing,function(){t.remove(),k()})}})(jQuery);
/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(f){var a=/\+/g;function d(j){return b.raw?j:encodeURIComponent(j)}function g(j){return b.raw?j:decodeURIComponent(j)}function h(j){return d(b.json?JSON.stringify(j):String(j))}function c(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(a," "));return b.json?JSON.parse(j):j}catch(k){}}function e(k,j){var m=b.raw?k:c(k);return f.isFunction(j)?j(m):m}var b=f.cookie=function(r,q,w){if(q!==undefined&&!f.isFunction(q)){w=f.extend({},b.defaults,w);if(typeof w.expires==="number"){var s=w.expires,v=w.expires=new Date();v.setDate(v.getDate()+s)}return(document.cookie=[d(r),"=",h(q),w.expires?"; expires="+w.expires.toUTCString():"",w.path?"; path="+w.path:"",w.domain?"; domain="+w.domain:"",w.secure?"; secure":""].join(""))}var x=r?undefined:{};var u=document.cookie?document.cookie.split("; "):[];for(var o=0,m=u.length;o<m;o++){var n=u[o].split("=");var j=g(n.shift());var k=n.join("=");if(r&&r===j){x=e(k,q);break}if(!r&&(k=e(k))!==undefined){x[j]=k}}return x};b.defaults={};f.removeCookie=function(k,j){if(f.cookie(k)===undefined){return false}f.cookie(k,"",f.extend({},j,{expires:-1}));return !f.cookie(k)}}));!function(){var ak=this,ae=ak._,ag={},au=Array.prototype,ad=Object.prototype,ap=Function.prototype,ay=au.push,aj=au.slice,aw=au.concat,am=ad.toString,at=ad.hasOwnProperty,af=au.forEach,ai=au.map,ac=au.reduce,aq=au.reduceRight,av=au.filter,ar=au.every,al=au.some,Z=au.indexOf,ax=au.lastIndexOf,aa=Array.isArray,az=Object.keys,ab=ap.bind,ao=function(a){return a instanceof ao?a:this instanceof ao?(this._wrapped=a,void 0):new ao(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ao),exports._=ao):ak._=ao,ao.VERSION="1.5.1";var X=ao.each=ao.forEach=function(h,f,g){if(null!=h){if(af&&h.forEach===af){h.forEach(f,g)}else{if(h.length===+h.length){for(var c=0,d=h.length;d>c;c++){if(f.call(g,h[c],c,h)===ag){return}}}else{for(var b in h){if(ao.has(h,b)&&f.call(g,h[b],b,h)===ag){return}}}}}};ao.map=ao.collect=function(d,a,b){var c=[];return null==d?c:ai&&d.map===ai?d.map(a,b):(X(d,function(g,e,f){c.push(a.call(b,g,e,f))}),c)};var U="Reduce of empty array with no initial value";ao.reduce=ao.foldl=ao.inject=function(f,b,c,d){var a=arguments.length>2;if(null==f&&(f=[]),ac&&f.reduce===ac){return d&&(b=ao.bind(b,d)),a?f.reduce(b,c):f.reduce(b)}if(X(f,function(h,g,e){a?c=b.call(d,c,h,g,e):(c=h,a=!0)}),!a){throw new TypeError(U)}return c},ao.reduceRight=ao.foldr=function(j,f,g,h){var c=arguments.length>2;if(null==j&&(j=[]),aq&&j.reduceRight===aq){return h&&(f=ao.bind(f,h)),c?j.reduceRight(f,g):j.reduceRight(f)}var d=j.length;if(d!==+d){var b=ao.keys(j);d=b.length}if(X(j,function(e,k,a){k=b?b[--d]:--d,c?g=f.call(h,g,j[k],k,a):(g=j[k],c=!0)}),!c){throw new TypeError(U)}return g},ao.find=ao.detect=function(d,a,b){var c;return J(d,function(g,e,f){return a.call(b,g,e,f)?(c=g,!0):void 0}),c},ao.filter=ao.select=function(d,a,b){var c=[];return null==d?c:av&&d.filter===av?d.filter(a,b):(X(d,function(g,e,f){a.call(b,g,e,f)&&c.push(g)}),c)},ao.reject=function(c,a,b){return ao.filter(c,function(g,f,d){return !a.call(b,g,f,d)},b)},ao.every=ao.all=function(d,b,c){b||(b=ao.identity);var a=!0;return null==d?a:ar&&d.every===ar?d.every(b,c):(X(d,function(g,f,e){return(a=a&&b.call(c,g,f,e))?void 0:ag}),!!a)};var J=ao.some=ao.any=function(d,b,c){b||(b=ao.identity);var a=!1;return null==d?a:al&&d.some===al?d.some(b,c):(X(d,function(g,f,e){return a||(a=b.call(c,g,f,e))?ag:void 0}),!!a)};ao.contains=ao.include=function(b,a){return null==b?!1:Z&&b.indexOf===Z?b.indexOf(a)!=-1:J(b,function(c){return c===a})},ao.invoke=function(d,a){var b=aj.call(arguments,2),c=ao.isFunction(a);return ao.map(d,function(e){return(c?a:e[a]).apply(e,b)})},ao.pluck=function(b,a){return ao.map(b,function(c){return c[a]})},ao.where=function(c,a,b){return ao.isEmpty(a)?b?void 0:[]:ao[b?"find":"filter"](c,function(e){for(var d in a){if(a[d]!==e[d]){return !1}}return !0})},ao.findWhere=function(b,a){return ao.where(b,a,!0)},ao.max=function(d,a,b){if(!a&&ao.isArray(d)&&d[0]===+d[0]&&d.length<65535){return Math.max.apply(Math,d)}if(!a&&ao.isEmpty(d)){return -1/0}var c={computed:-1/0,value:-1/0};return X(d,function(h,f,g){var e=a?a.call(b,h,f,g):h;e>c.computed&&(c={value:h,computed:e})}),c.value},ao.min=function(d,a,b){if(!a&&ao.isArray(d)&&d[0]===+d[0]&&d.length<65535){return Math.min.apply(Math,d)}if(!a&&ao.isEmpty(d)){return 1/0}var c={computed:1/0,value:1/0};return X(d,function(h,f,g){var e=a?a.call(b,h,f,g):h;e<c.computed&&(c={value:h,computed:e})}),c.value},ao.shuffle=function(d){var a,b=0,c=[];return X(d,function(e){a=ao.random(b++),c[b-1]=c[a],c[a]=e}),c};var Q=function(a){return ao.isFunction(a)?a:function(b){return b[a]}};ao.sortBy=function(d,a,b){var c=Q(a);return ao.pluck(ao.map(d,function(g,f,e){return{value:g,index:f,criteria:c.call(b,g,f,e)}}).sort(function(j,f){var g=j.criteria,h=f.criteria;if(g!==h){if(g>h||g===void 0){return 1}if(h>g||h===void 0){return -1}}return j.index<f.index?-1:1}),"value")};var an=function(g,c,d,f){var a={},b=Q(null==c?ao.identity:c);return X(g,function(h,e){var j=b.call(d,h,e,g);f(a,j,h)}),a};ao.groupBy=function(c,a,b){return an(c,a,b,function(f,d,e){(ao.has(f,d)?f[d]:f[d]=[]).push(e)})},ao.countBy=function(c,a,b){return an(c,a,b,function(e,d){ao.has(e,d)||(e[d]=0),e[d]++})},ao.sortedIndex=function(k,f,g,h){g=null==g?ao.identity:Q(g);for(var c=g.call(h,f),d=0,b=k.length;b>d;){var j=d+b>>>1;g.call(h,k[j])<c?d=j+1:b=j}return d},ao.toArray=function(a){return a?ao.isArray(a)?aj.call(a):a.length===+a.length?ao.map(a,ao.identity):ao.values(a):[]},ao.size=function(a){return null==a?0:a.length===+a.length?a.length:ao.keys(a).length},ao.first=ao.head=ao.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:aj.call(c,0,a)},ao.initial=function(c,a,b){return aj.call(c,0,c.length-(null==a||b?1:a))},ao.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:aj.call(c,Math.max(c.length-a,0))},ao.rest=ao.tail=ao.drop=function(c,a,b){return aj.call(c,null==a||b?1:a)},ao.compact=function(a){return ao.filter(a,ao.identity)};var H=function(c,a,b){return a&&ao.every(c,ao.isArray)?aw.apply(b,c):(X(c,function(d){ao.isArray(d)||ao.isArguments(d)?a?ay.apply(b,d):H(d,a,b):b.push(d)}),b)};ao.flatten=function(b,a){return H(b,a,[])},ao.without=function(a){return ao.difference(a,aj.call(arguments,1))},ao.uniq=ao.unique=function(j,f,g,h){ao.isFunction(f)&&(h=g,g=f,f=!1);var c=g?ao.map(j,g,h):j,d=[],b=[];return X(c,function(a,k){(f?k&&b[b.length-1]===a:ao.contains(b,a))||(b.push(a),d.push(j[k]))}),d},ao.union=function(){return ao.uniq(ao.flatten(arguments,!0))},ao.intersection=function(b){var a=aj.call(arguments,1);return ao.filter(ao.uniq(b),function(c){return ao.every(a,function(d){return ao.indexOf(d,c)>=0})})},ao.difference=function(b){var a=aw.apply(au,aj.call(arguments,1));return ao.filter(b,function(c){return !ao.contains(a,c)})},ao.zip=function(){for(var c=ao.max(ao.pluck(arguments,"length").concat(0)),a=new Array(c),b=0;c>b;b++){a[b]=ao.pluck(arguments,""+b)}return a},ao.object=function(f,b){if(null==f){return{}}for(var c={},d=0,a=f.length;a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ao.indexOf=function(f,b,c){if(null==f){return -1}var d=0,a=f.length;if(c){if("number"!=typeof c){return d=ao.sortedIndex(f,b),f[d]===b?d:-1}d=0>c?Math.max(0,a+c):c}if(Z&&f.indexOf===Z){return f.indexOf(b,c)}for(;a>d;d++){if(f[d]===b){return d}}return -1},ao.lastIndexOf=function(f,b,c){if(null==f){return -1}var d=null!=c;if(ax&&f.lastIndexOf===ax){return d?f.lastIndexOf(b,c):f.lastIndexOf(b)}for(var a=d?c:f.length;a--;){if(f[a]===b){return a}}return -1},ao.range=function(g,c,d){arguments.length<=1&&(c=g||0,g=0),d=arguments[2]||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=0,b=new Array(f);f>a;){b[a++]=g,g+=d}return b};var L=function(){};ao.bind=function(d,a){var b,c;if(ab&&d.bind===ab){return ab.apply(d,aj.call(arguments,1))}if(!ao.isFunction(d)){throw new TypeError}return b=aj.call(arguments,2),c=function(){if(!(this instanceof c)){return d.apply(a,b.concat(aj.call(arguments)))}L.prototype=d.prototype;var e=new L;L.prototype=null;var f=d.apply(e,b.concat(aj.call(arguments)));return Object(f)===f?f:e}},ao.partial=function(b){var a=aj.call(arguments,1);return function(){return b.apply(this,a.concat(aj.call(arguments)))}},ao.bindAll=function(b){var a=aj.call(arguments,1);if(0===a.length){throw new Error("bindAll must be passed function names")}return X(a,function(c){b[c]=ao.bind(b[c],b)}),b},ao.memoize=function(c,a){var b={};return a||(a=ao.identity),function(){var d=a.apply(this,arguments);return ao.has(b,d)?b[d]:b[d]=c.apply(this,arguments)}},ao.delay=function(c,a){var b=aj.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ao.defer=function(a){return ao.delay.apply(ao,[a,1].concat(aj.call(arguments,1)))},ao.throttle=function(f,q,b){var h,m,g,k=null,d=0;b||(b={});var j=function(){d=b.leading===!1?0:new Date,k=null,g=f.apply(h,m)};return function(){var a=new Date;d||b.leading!==!1||(d=a);var c=q-(a-d);return h=this,m=arguments,0>=c?(clearTimeout(k),k=null,d=a,g=f.apply(h,m)):k||b.trailing===!1||(k=setTimeout(j,c)),g}},ao.debounce=function(f,b,c){var d,a=null;return function(){var g=this,e=arguments,h=function(){a=null,c||(d=f.apply(g,e))},j=c&&!a;return clearTimeout(a),a=setTimeout(h,b),j&&(d=f.apply(g,e)),d}},ao.once=function(c){var a,b=!1;return function(){return b?a:(b=!0,a=c.apply(this,arguments),c=null,a)}},ao.wrap=function(b,a){return function(){var c=[b];return ay.apply(c,arguments),a.apply(this,c)}},ao.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--){b=[a[c].apply(this,b)]}return b[0]}},ao.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0}},ao.keys=az||function(c){if(c!==Object(c)){throw new TypeError("Invalid object")}var a=[];for(var b in c){ao.has(c,b)&&a.push(b)}return a},ao.values=function(c){var a=[];for(var b in c){ao.has(c,b)&&a.push(c[b])}return a},ao.pairs=function(c){var a=[];for(var b in c){ao.has(c,b)&&a.push([b,c[b]])}return a},ao.invert=function(c){var a={};for(var b in c){ao.has(c,b)&&(a[c[b]]=b)}return a},ao.functions=ao.methods=function(c){var a=[];for(var b in c){ao.isFunction(c[b])&&a.push(b)}return a.sort()},ao.extend=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]=b[c]}}}),a},ao.pick=function(c){var a={},b=aw.apply(au,aj.call(arguments,1));return X(b,function(d){d in c&&(a[d]=c[d])}),a},ao.omit=function(d){var b={},c=aw.apply(au,aj.call(arguments,1));for(var a in d){ao.contains(c,a)||(b[a]=d[a])}return b},ao.defaults=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]===void 0&&(a[c]=b[c])}}}),a},ao.clone=function(a){return ao.isObject(a)?ao.isArray(a)?a.slice():ao.extend({},a):a},ao.tap=function(b,a){return a(b),b};var G=function(g,w,b,k){if(g===w){return 0!==g||1/g==1/w}if(null==g||null==w){return g===w}g instanceof ao&&(g=g._wrapped),w instanceof ao&&(w=w._wrapped);var v=am.call(g);if(v!=am.call(w)){return !1}switch(v){case"[object String]":return g==String(w);case"[object Number]":return g!=+g?w!=+w:0==g?1/g==1/w:g==+w;case"[object Date]":case"[object Boolean]":return +g==+w;case"[object RegExp]":return g.source==w.source&&g.global==w.global&&g.multiline==w.multiline&&g.ignoreCase==w.ignoreCase}if("object"!=typeof g||"object"!=typeof w){return !1}for(var h=b.length;h--;){if(b[h]==g){return k[h]==w}}var q=g.constructor,d=w.constructor;if(q!==d&&!(ao.isFunction(q)&&q instanceof q&&ao.isFunction(d)&&d instanceof d)){return !1}b.push(g),k.push(w);var m=0,j=!0;if("[object Array]"==v){if(m=g.length,j=m==w.length){for(;m--&&(j=G(g[m],w[m],b,k));){}}}else{for(var x in g){if(ao.has(g,x)&&(m++,!(j=ao.has(w,x)&&G(g[x],w[x],b,k)))){break}}if(j){for(x in w){if(ao.has(w,x)&&!m--){break}}j=!m}}return b.pop(),k.pop(),j};ao.isEqual=function(b,a){return G(b,a,[],[])},ao.isEmpty=function(b){if(null==b){return !0}if(ao.isArray(b)||ao.isString(b)){return 0===b.length}for(var a in b){if(ao.has(b,a)){return !1}}return !0},ao.isElement=function(a){return !(!a||1!==a.nodeType)},ao.isArray=aa||function(a){return"[object Array]"==am.call(a)},ao.isObject=function(a){return a===Object(a)},X(["Arguments","Function","String","Number","Date","RegExp"],function(a){ao["is"+a]=function(b){return am.call(b)=="[object "+a+"]"}}),ao.isArguments(arguments)||(ao.isArguments=function(a){return !(!a||!ao.has(a,"callee"))}),"function"!=typeof/./&&(ao.isFunction=function(a){return"function"==typeof a}),ao.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ao.isNaN=function(a){return ao.isNumber(a)&&a!=+a},ao.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==am.call(a)},ao.isNull=function(a){return null===a},ao.isUndefined=function(a){return a===void 0},ao.has=function(b,a){return at.call(b,a)},ao.noConflict=function(){return ak._=ae,this},ao.identity=function(a){return a},ao.times=function(f,b,c){for(var d=Array(Math.max(0,f)),a=0;f>a;a++){d[a]=b.call(c,a)}return d},ao.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=ao.invert(P.escape);var C={escape:new RegExp("["+ao.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+ao.keys(P.unescape).join("|")+")","g")};ao.each(["escape","unescape"],function(a){ao[a]=function(b){return null==b?"":(""+b).replace(C[a],function(c){return P[a][c]})}}),ao.result=function(c,a){if(null==c){return void 0}var b=c[a];return ao.isFunction(b)?b.call(c):b},ao.mixin=function(a){X(ao.functions(a),function(b){var c=ao[b]=a[b];ao.prototype[b]=function(){var d=[this._wrapped];return ay.apply(d,arguments),Y.call(this,c.apply(ao,d))}})};var K=0;ao.uniqueId=function(b){var a=++K+"";return b?b+a:a},ao.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ah=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;ao.template=function(f,q,b){var h;b=ao.defaults({},b,ao.templateSettings);var m=new RegExp([(b.escape||ah).source,(b.interpolate||ah).source,(b.evaluate||ah).source].join("|")+"|$","g"),g=0,k="__p+='";f.replace(m,function(c,n,s,a,v){return k+=f.slice(g,v).replace(V,function(e){return"\\"+W[e]}),n&&(k+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),s&&(k+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),a&&(k+="';\n"+a+"\n__p+='"),g=v+c.length,c}),k+="';\n",b.variable||(k="with(obj||{}){\n"+k+"}\n"),k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";try{h=new Function(b.variable||"obj","_",k)}catch(d){throw d.source=k,d}if(q){return h(q,ao)}var j=function(a){return h.call(this,a,ao)};return j.source="function("+(b.variable||"obj")+"){\n"+k+"}",j},ao.chain=function(a){return ao(a).chain()};var Y=function(a){return this._chain?ao(a).chain():a};ao.mixin(ao),X(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=au[b];ao.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],Y.call(this,c)}}),X(["concat","join","slice"],function(b){var a=au[b];ao.prototype[b]=function(){return Y.call(this,a.apply(this._wrapped,arguments))}}),ao.extend(ao.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);(function(){var x=this;var E=x.Backbone;var g=[];var G=g.push;var q=g.slice;var w=g.splice;var C;if(typeof exports!=="undefined"){C=exports}else{C=x.Backbone={}}C.VERSION="1.0.0";var O=x._;if(!O&&typeof require!=="undefined"){O=require("underscore")}C.$=x.jQuery||x.Zepto||x.ender||x.$;C.noConflict=function(){x.Backbone=E;return this};C.emulateHTTP=false;C.emulateJSON=false;var M=C.Events={on:function(P,S,R){if(!A(this,"on",P,[S,R])||!S){return this}this._events||(this._events={});var Q=this._events[P]||(this._events[P]=[]);Q.push({callback:S,context:R,ctx:R||this});return this},once:function(Q,T,R){if(!A(this,"once",Q,[T,R])||!T){return this}var P=this;var S=O.once(function(){P.off(Q,S);T.apply(this,arguments)});S._callback=T;return this.on(Q,S,R)},off:function(P,Y,Q){var W,X,Z,V,U,R,T,S;if(!this._events||!A(this,"off",P,[Y,Q])){return this}if(!P&&!Y&&!Q){this._events={};return this}V=P?[P]:O.keys(this._events);for(U=0,R=V.length;U<R;U++){P=V[U];if(Z=this._events[P]){this._events[P]=W=[];if(Y||Q){for(T=0,S=Z.length;T<S;T++){X=Z[T];if(Y&&Y!==X.callback&&Y!==X.callback._callback||Q&&Q!==X.context){W.push(X)}}}if(!W.length){delete this._events[P]}}}return this},trigger:function(R){if(!this._events){return this}var Q=q.call(arguments,1);if(!A(this,"trigger",R,Q)){return this}var S=this._events[R];var P=this._events.all;if(S){b(S,Q)}if(P){b(P,arguments)}return this},stopListening:function(S,P,U){var Q=this._listeners;if(!Q){return this}var R=!P&&!U;if(typeof P==="object"){U=this}if(S){(Q={})[S._listenerId]=S}for(var T in Q){Q[T].off(P,U,this);if(R){delete this._listeners[T]}}return this}};var z=/\s+/;var A=function(W,U,Q,T){if(!Q){return true}if(typeof Q==="object"){for(var S in Q){W[U].apply(W,[S,Q[S]].concat(T))}return false}if(z.test(Q)){var V=Q.split(z);for(var R=0,P=V.length;R<P;R++){W[U].apply(W,[V[R]].concat(T))}return false}return true};var b=function(U,S){var V,T=-1,R=U.length,Q=S[0],P=S[1],W=S[2];switch(S.length){case 0:while(++T<R){(V=U[T]).callback.call(V.ctx)}return;case 1:while(++T<R){(V=U[T]).callback.call(V.ctx,Q)}return;case 2:while(++T<R){(V=U[T]).callback.call(V.ctx,Q,P)}return;case 3:while(++T<R){(V=U[T]).callback.call(V.ctx,Q,P,W)}return;default:while(++T<R){(V=U[T]).callback.apply(V.ctx,S)}}};var F={listenTo:"on",listenToOnce:"once"};O.each(F,function(P,Q){M[Q]=function(T,R,V){var S=this._listeners||(this._listeners={});var U=T._listenerId||(T._listenerId=O.uniqueId("l"));S[U]=T;if(typeof R==="object"){V=this}T[P](R,V,this);return this}});M.bind=M.on;M.unbind=M.off;O.extend(C,M);var H=C.Model=function(P,R){var S;var Q=P||{};R||(R={});this.cid=O.uniqueId("c");this.attributes={};O.extend(this,O.pick(R,I));if(R.parse){Q=this.parse(Q,R)||{}}if(S=O.result(this,"defaults")){Q=O.defaults({},Q,S)}this.set(Q,R);this.changed={};this.initialize.apply(this,arguments)};var I=["url","urlRoot","collection"];O.extend(H.prototype,M,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(P){return O.clone(this.attributes)},sync:function(){return C.sync.apply(this,arguments)},get:function(P){return this.attributes[P]},escape:function(P){return O.escape(this.get(P))},has:function(P){return this.get(P)!=null},set:function(X,P,ab){var V,Y,Z,W,U,aa,R,T;if(X==null){return this}if(typeof X==="object"){Y=X;ab=P}else{(Y={})[X]=P}ab||(ab={});if(!this._validate(Y,ab)){return false}Z=ab.unset;U=ab.silent;W=[];aa=this._changing;this._changing=true;if(!aa){this._previousAttributes=O.clone(this.attributes);this.changed={}}T=this.attributes,R=this._previousAttributes;if(this.idAttribute in Y){this.id=Y[this.idAttribute]}for(V in Y){P=Y[V];if(!O.isEqual(T[V],P)){W.push(V)}if(!O.isEqual(R[V],P)){this.changed[V]=P}else{delete this.changed[V]}Z?delete T[V]:T[V]=P}if(!U){if(W.length){this._pending=true}for(var S=0,Q=W.length;S<Q;S++){this.trigger("change:"+W[S],this,T[W[S]],ab)}}if(aa){return this}if(!U){while(this._pending){this._pending=false;this.trigger("change",this,ab)}}this._pending=false;this._changing=false;return this},unset:function(P,Q){return this.set(P,void 0,O.extend({},Q,{unset:true}))},clear:function(Q){var P={};for(var R in this.attributes){P[R]=void 0}return this.set(P,O.extend({},Q,{unset:true}))},hasChanged:function(P){if(P==null){return !O.isEmpty(this.changed)}return O.has(this.changed,P)},changedAttributes:function(R){if(!R){return this.hasChanged()?O.clone(this.changed):false}var T,S=false;var Q=this._changing?this._previousAttributes:this.attributes;for(var P in R){if(O.isEqual(Q[P],T=R[P])){continue}(S||(S={}))[P]=T}return S},previous:function(P){if(P==null||!this._previousAttributes){return null}return this._previousAttributes[P]},previousAttributes:function(){return O.clone(this._previousAttributes)},fetch:function(Q){Q=Q?O.clone(Q):{};if(Q.parse===void 0){Q.parse=true}var P=this;var R=Q.success;Q.success=function(S){if(!P.set(P.parse(S,Q),Q)){return false}if(R){R(P,S,Q)}P.trigger("sync",P,S,Q)};K(this,Q);return this.sync("read",this,Q)},save:function(T,Q,X){var U,P,W,R=this.attributes;if(T==null||typeof T==="object"){U=T;X=Q}else{(U={})[T]=Q}if(U&&(!X||!X.wait)&&!this.set(U,X)){return false}X=O.extend({validate:true},X);if(!this._validate(U,X)){return false}if(U&&X.wait){this.attributes=O.extend({},R,U)}if(X.parse===void 0){X.parse=true}var S=this;var V=X.success;X.success=function(Z){S.attributes=R;var Y=S.parse(Z,X);if(X.wait){Y=O.extend(U||{},Y)}if(O.isObject(Y)&&!S.set(Y,X)){return false}if(V){V(S,Z,X)}S.trigger("sync",S,Z,X)};K(this,X);P=this.isNew()?"create":X.patch?"patch":"update";if(P==="patch"){X.attrs=U}W=this.sync(P,this,X);if(U&&X.wait){this.attributes=R}return W},destroy:function(Q){Q=Q?O.clone(Q):{};var P=this;var T=Q.success;var R=function(){P.trigger("destroy",P,P.collection,Q)};Q.success=function(U){if(Q.wait||P.isNew()){R()}if(T){T(P,U,Q)}if(!P.isNew()){P.trigger("sync",P,U,Q)}};if(this.isNew()){Q.success();return false}K(this,Q);var S=this.sync("delete",this,Q);if(!Q.wait){R()}return S},url:function(){var P=O.result(this,"urlRoot")||O.result(this.collection,"url")||u();if(this.isNew()){return P}return P+(P.charAt(P.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(Q,P){return Q},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(P){return this._validate({},O.extend(P||{},{validate:true}))},_validate:function(R,Q){if(!Q.validate||!this.validate){return true}R=O.extend({},this.attributes,R);var P=this.validationError=this.validate(R,Q)||null;if(!P){return true}this.trigger("invalid",this,P,O.extend(Q||{},{validationError:P}));return false}});var a=["keys","values","pairs","invert","pick","omit"];O.each(a,function(P){H.prototype[P]=function(){var Q=q.call(arguments);Q.unshift(this.attributes);return O[P].apply(O,Q)}});var c=C.Collection=function(Q,P){P||(P={});if(P.url){this.url=P.url}if(P.model){this.model=P.model}if(P.comparator!==void 0){this.comparator=P.comparator}this._reset();this.initialize.apply(this,arguments);if(Q){this.reset(Q,O.extend({silent:true},P))}};var r={add:true,remove:true,merge:true};var N={add:true,merge:false,remove:false};O.extend(c.prototype,M,{model:H,initialize:function(){},toJSON:function(P){return this.map(function(Q){return Q.toJSON(P)})},sync:function(){return C.sync.apply(this,arguments)},add:function(Q,P){return this.set(Q,O.defaults(P||{},N))},remove:function(U,S){U=O.isArray(U)?U.slice():[U];S||(S={});var T,P,R,Q;for(T=0,P=U.length;T<P;T++){Q=this.get(U[T]);if(!Q){continue}delete this._byId[Q.id];delete this._byId[Q.cid];R=this.indexOf(Q);this.models.splice(R,1);this.length--;if(!S.silent){S.index=R;Q.trigger("remove",Q,this,S)}this._removeReference(Q)}return this},set:function(Q,ac){ac=O.defaults(ac||{},r);if(ac.parse){Q=this.parse(Q,ac)}if(!O.isArray(Q)){Q=Q?[Q]:[]}var X,T,Z,aa,R,Y;var S=ac.at;var W=this.comparator&&S==null&&ac.sort!==false;var U=O.isString(this.comparator)?this.comparator:null;var ab=[],P=[],V={};for(X=0,T=Q.length;X<T;X++){if(!(Z=this._prepareModel(Q[X],ac))){continue}if(R=this.get(Z)){if(ac.remove){V[R.cid]=true}if(ac.merge){R.set(Z.attributes,ac);if(W&&!Y&&R.hasChanged(U)){Y=true}}}else{if(ac.add){ab.push(Z);Z.on("all",this._onModelEvent,this);this._byId[Z.cid]=Z;if(Z.id!=null){this._byId[Z.id]=Z}}}}if(ac.remove){for(X=0,T=this.length;X<T;++X){if(!V[(Z=this.models[X]).cid]){P.push(Z)}}if(P.length){this.remove(P,ac)}}if(ab.length){if(W){Y=true}this.length+=ab.length;if(S!=null){w.apply(this.models,[S,0].concat(ab))}else{G.apply(this.models,ab)}}if(Y){this.sort({silent:true})}if(ac.silent){return this}for(X=0,T=ab.length;X<T;X++){(Z=ab[X]).trigger("add",Z,this,ac)}if(Y){this.trigger("sort",this,ac)}return this},reset:function(S,Q){Q||(Q={});for(var R=0,P=this.models.length;R<P;R++){this._removeReference(this.models[R])}Q.previousModels=this.models;this._reset();this.add(S,O.extend({silent:true},Q));if(!Q.silent){this.trigger("reset",this,Q)}return this},push:function(Q,P){Q=this._prepareModel(Q,P);this.add(Q,O.extend({at:this.length},P));return Q},pop:function(Q){var P=this.at(this.length-1);this.remove(P,Q);return P},unshift:function(Q,P){Q=this._prepareModel(Q,P);this.add(Q,O.extend({at:0},P));return Q},shift:function(Q){var P=this.at(0);this.remove(P,Q);return P},slice:function(Q,P){return this.models.slice(Q,P)},get:function(P){if(P==null){return void 0}return this._byId[P.id!=null?P.id:P.cid||P]},at:function(P){return this.models[P]},where:function(P,Q){if(O.isEmpty(P)){return Q?void 0:[]}return this[Q?"find":"filter"](function(R){for(var S in P){if(P[S]!==R.get(S)){return false}}return true})},findWhere:function(P){return this.where(P,true)},sort:function(P){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}P||(P={});if(O.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(O.bind(this.comparator,this))}if(!P.silent){this.trigger("sort",this,P)}return this},sortedIndex:function(P,S,Q){S||(S=this.comparator);var R=O.isFunction(S)?S:function(T){return T.get(S)};return O.sortedIndex(this.models,P,R,Q)},pluck:function(P){return O.invoke(this.models,"get",P)},fetch:function(P){P=P?O.clone(P):{};if(P.parse===void 0){P.parse=true}var R=P.success;var Q=this;P.success=function(S){var T=P.reset?"reset":"set";Q[T](S,P);if(R){R(Q,S,P)}Q.trigger("sync",Q,S,P)};K(this,P);return this.sync("read",this,P)},create:function(Q,P){P=P?O.clone(P):{};if(!(Q=this._prepareModel(Q,P))){return false}if(!P.wait){this.add(Q,P)}var S=this;var R=P.success;P.success=function(T){if(P.wait){S.add(Q,P)}if(R){R(Q,T,P)}};Q.save(null,P);return Q},parse:function(Q,P){return Q},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(R,Q){if(R instanceof H){if(!R.collection){R.collection=this}return R}Q||(Q={});Q.collection=this;var P=new this.model(R,Q);if(!P._validate(R,Q)){this.trigger("invalid",this,R,Q);return false}return P},_removeReference:function(P){if(this===P.collection){delete P.collection}P.off("all",this._onModelEvent,this)},_onModelEvent:function(R,Q,S,P){if((R==="add"||R==="remove")&&S!==this){return}if(R==="destroy"){this.remove(Q,P)}if(Q&&R==="change:"+Q.idAttribute){delete this._byId[Q.previous(Q.idAttribute)];if(Q.id!=null){this._byId[Q.id]=Q}}this.trigger.apply(this,arguments)}});var B=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];O.each(B,function(P){c.prototype[P]=function(){var Q=q.call(arguments);Q.unshift(this.models);return O[P].apply(O,Q)}});var m=["groupBy","countBy","sortBy"];O.each(m,function(P){c.prototype[P]=function(S,Q){var R=O.isFunction(S)?S:function(T){return T.get(S)};return O[P](this.models,R,Q)}});var J=C.View=function(P){this.cid=O.uniqueId("view");this._configure(P||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var y=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];O.extend(J.prototype,M,{tagName:"div",$:function(P){return this.$el.find(P)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(P,Q){if(this.$el){this.undelegateEvents()}this.$el=P instanceof C.$?P:C.$(P);this.el=this.$el[0];if(Q!==false){this.delegateEvents()}return this},delegateEvents:function(T){if(!(T||(T=O.result(this,"events")))){return this}this.undelegateEvents();for(var S in T){var U=T[S];if(!O.isFunction(U)){U=this[T[S]]}if(!U){continue}var R=S.match(y);var Q=R[1],P=R[2];U=O.bind(U,this);Q+=".delegateEvents"+this.cid;if(P===""){this.$el.on(Q,U)}else{this.$el.on(Q,P,U)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(P){if(this.options){P=O.extend({},O.result(this,"options"),P)}O.extend(this,O.pick(P,e));this.options=P},_ensureElement:function(){if(!this.el){var P=O.extend({},O.result(this,"attributes"));if(this.id){P.id=O.result(this,"id")}if(this.className){P["class"]=O.result(this,"className")}var Q=C.$("<"+O.result(this,"tagName")+">").attr(P);this.setElement(Q,false)}else{this.setElement(O.result(this,"el"),false)}}});C.sync=function(V,Q,P){var S=k[V];O.defaults(P||(P={}),{emulateHTTP:C.emulateHTTP,emulateJSON:C.emulateJSON});var U={type:S,dataType:"json"};if(!P.url){U.url=O.result(Q,"url")||u()}if(P.data==null&&Q&&(V==="create"||V==="update"||V==="patch")){U.contentType="application/json";U.data=JSON.stringify(P.attrs||Q.toJSON(P))}if(P.emulateJSON){U.contentType="application/x-www-form-urlencoded";U.data=U.data?{model:U.data}:{}}if(P.emulateHTTP&&(S==="PUT"||S==="DELETE"||S==="PATCH")){U.type="POST";if(P.emulateJSON){U.data._method=S}var R=P.beforeSend;P.beforeSend=function(W){W.setRequestHeader("X-HTTP-Method-Override",S);if(R){return R.apply(this,arguments)}}}if(U.type!=="GET"&&!P.emulateJSON){U.processData=false}if(U.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){U.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var T=P.xhr=C.ajax(O.extend(U,P));Q.trigger("request",Q,T,P);return T};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};C.ajax=function(){return C.$.ajax.apply(C.$,arguments)};var s=C.Router=function(P){P||(P={});if(P.routes){this.routes=P.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var t=/\((.*?)\)/g;var v=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;O.extend(s.prototype,M,{initialize:function(){},route:function(Q,R,S){if(!O.isRegExp(Q)){Q=this._routeToRegExp(Q)}if(O.isFunction(R)){S=R;R=""}if(!S){S=this[R]}var P=this;C.history.route(Q,function(U){var T=P._extractParameters(Q,U);S&&S.apply(P,T);P.trigger.apply(P,["route:"+R].concat(T));P.trigger("route",R,T);C.history.trigger("route",P,R,T)});return this},navigate:function(Q,P){C.history.navigate(Q,P);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=O.result(this,"routes");var Q,P=O.keys(this.routes);while((Q=P.pop())!=null){this.route(Q,this.routes[Q])}},_routeToRegExp:function(P){P=P.replace(h,"\\$&").replace(t,"(?:$1)?").replace(v,function(R,Q){return Q?R:"([^/]+)"}).replace(d,"(.*?)");return new RegExp("^"+P+"$")},_extractParameters:function(P,Q){var R=P.exec(Q).slice(1);return O.map(R,function(S){return S?decodeURIComponent(S):null})}});var j=C.History=function(){this.handlers=[];O.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var D=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var L=/msie [\w.]+/;var o=/\/$/;j.started=false;O.extend(j.prototype,M,{interval:50,getHash:function(Q){var P=(Q||this).location.href.match(/#(.*)$/);return P?P[1]:""},getFragment:function(R,Q){if(R==null){if(this._hasPushState||!this._wantsHashChange||Q){R=this.location.pathname;var P=this.root.replace(o,"");if(!R.indexOf(P)){R=R.substr(P.length)}}else{R=this.getHash()}}return R.replace(D,"")},start:function(R){if(j.started){throw new Error("Backbone.history has already been started")}j.started=true;this.options=O.extend({},{root:"/"},this.options,R);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var Q=this.getFragment();var P=document.documentMode;var T=L.exec(navigator.userAgent.toLowerCase())&&(!P||P<=7);this.root=("/"+this.root+"/").replace(f,"/");if(T&&this._wantsHashChange){this.iframe=C.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(Q)}if(this._hasPushState){C.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&"onhashchange" in window&&!T){C.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=Q;var U=this.location;var S=U.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!S){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._wantsPushState&&this._hasPushState&&S&&U.hash){this.fragment=this.getHash().replace(D,"");this.history.replaceState({},document.title,this.root+this.fragment+U.search)}}if(!this.options.silent){return this.loadUrl()}},stop:function(){C.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);j.started=false},route:function(P,Q){this.handlers.unshift({route:P,callback:Q})},checkUrl:function(Q){var P=this.getFragment();if(P===this.fragment&&this.iframe){P=this.getFragment(this.getHash(this.iframe))}if(P===this.fragment){return false}if(this.iframe){this.navigate(P)}this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(R){var Q=this.fragment=this.getFragment(R);var P=O.any(this.handlers,function(S){if(S.route.test(Q)){S.callback(Q);return true}});return P},navigate:function(R,Q){if(!j.started){return false}if(!Q||Q===true){Q={trigger:Q}}R=this.getFragment(R||"");if(this.fragment===R){return}this.fragment=R;var P=this.root+R;if(this._hasPushState){this.history[Q.replace?"replaceState":"pushState"]({},document.title,P)}else{if(this._wantsHashChange){this._updateHash(this.location,R,Q.replace);if(this.iframe&&R!==this.getFragment(this.getHash(this.iframe))){if(!Q.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,R,Q.replace)}}else{return this.location.assign(P)}}if(Q.trigger){this.loadUrl(R)}},_updateHash:function(P,R,S){if(S){var Q=P.href.replace(/(javascript:|#).*$/,"");P.replace(Q+"#"+R)}else{P.hash="#"+R}}});C.history=new j;var n=function(P,R){var Q=this;var T;if(P&&O.has(P,"constructor")){T=P.constructor}else{T=function(){return Q.apply(this,arguments)}}O.extend(T,Q,R);var S=function(){this.constructor=T};S.prototype=Q.prototype;T.prototype=new S;if(P){O.extend(T.prototype,P)}T.__super__=Q.prototype;return T};H.extend=c.extend=s.extend=J.extend=j.extend=n;var u=function(){throw new Error('A "url" property or function must be specified')};var K=function(R,Q){var P=Q.error;Q.error=function(S){if(P){P(R,S,Q)}R.trigger("error",R,S,Q)}}}).call(this);(function(a){a.fn.managePlaceholder=function(){this.each(function(b,c){a(c).focus(function(){a(c).removePlaceholder()});a(c).blur(function(){a(c).applyPlaceholder()})})};a.fn.removePlaceholder=function(){var b=this.attr("placeholder");this.removeAttr("placeholder");return this.attr("_placeholder",b)};a.fn.applyPlaceholder=function(){var b=this.attr("_placeholder");this.removeAttr("_placeholder");return this.attr("placeholder",b)}})(jQuery);
/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(k,g){var u,z,n,A,s,y,x,w,o,a,m,B,t,c,q,v,C,r,j,h,d,f,e,b;u=function(D){return new u.prototype.init(D)};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=u}else{k.Globalize=u}u.cultures={};u.prototype={constructor:u,init:function(D){this.cultures=u.cultures;this.cultureSelector=D;return this}};u.prototype.init.prototype=u.prototype;u.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-","NaN":"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss"}}},messages:{}};u.cultures["default"].calendar=u.cultures["default"].calendars.standard;u.cultures.en=u.cultures["default"];u.cultureSelector="en";z=/^0x[a-f0-9]+$/i;n=/^[+\-]?infinity$/i;A=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;s=/^\s+|\s+$/g;y=function(G,F){if(G.indexOf){return G.indexOf(F)}for(var D=0,E=G.length;D<E;D++){if(G[D]===F){return D}}return -1};x=function(E,D){return E.substr(E.length-D.length)===D};w=function(){var M,F,D,E,J,K,I=arguments[0]||{},H=1,G=arguments.length,L=false;if(typeof I==="boolean"){L=I;I=arguments[1]||{};H=2}if(typeof I!=="object"&&!a(I)){I={}}for(;H<G;H++){if((M=arguments[H])!=null){for(F in M){D=I[F];E=M[F];if(I===E){continue}if(L&&E&&(m(E)||(J=o(E)))){if(J){J=false;K=D&&o(D)?D:[]}else{K=D&&m(D)?D:{}}I[F]=w(L,K,E)}else{if(E!==g){I[F]=E}}}}}return I};o=Array.isArray||function(D){return Object.prototype.toString.call(D)==="[object Array]"};a=function(D){return Object.prototype.toString.call(D)==="[object Function]"};m=function(D){return Object.prototype.toString.call(D)==="[object Object]"};B=function(E,D){return E.indexOf(D)===0};t=function(D){return(D+"").replace(s,"")};c=function(D){if(isNaN(D)){return NaN}return Math[D<0?"ceil":"floor"](D)};q=function(G,E,F){var D;for(D=G.length;D<E;D+=1){G=(F?("0"+G):(G+"0"))}return G};v=function(G,D){var F=0,I=false;for(var H=0,E=G.length;H<E;H++){var J=G.charAt(H);switch(J){case"'":if(I){D.push("'")}else{F++}I=false;break;case"\\":if(I){D.push("\\")}I=!I;break;default:D.push(J);I=false;break}}return F};C=function(H,G){G=G||"F";var F,E=H.patterns,D=G.length;if(D===1){F=E[G];if(!F){throw"Invalid date format string '"+G+"'."}G=F}else{if(D===2&&G.charAt(0)==="%"){G=G.charAt(1)}}return G};r=function(X,ab,ac){var P=ac.calendar,L=P.convert,ae;if(!ab||!ab.length||ab==="i"){if(ac&&ac.name.length){if(L){ae=r(X,P.patterns.F,ac)}else{var M=new Date(X.getTime()),T=d(X,P.eras);M.setFullYear(f(X,P,T));ae=M.toLocaleString()}}else{ae=X.toString()}return ae}var Y=P.eras,E=ab==="s";ab=C(P,ab);ae=[];var I,Z=["0","00","000"],N,O,D=/([^d]|^)(d|dd)([^d]|$)/g,ad=0,U=h(),F;function K(af,ai){var ah,ag=af+"";if(ai>1&&ag.length<ai){ah=(Z[ai-2]+ag);return ah.substr(ah.length-ai,ai)}else{ah=ag}return ah}function aa(){if(N||O){return N}N=D.test(ab);O=true;return N}function G(ag,af){if(F){return F[af]}switch(af){case 0:return ag.getFullYear();case 1:return ag.getMonth();case 2:return ag.getDate();default:throw"Invalid part value "+af}}if(!E&&L){F=L.fromGregorian(X)}for(;;){var J=U.lastIndex,S=U.exec(ab);var Q=ab.slice(J,S?S.index:ab.length);ad+=v(Q,ae);if(!S){break}if(ad%2){ae.push(S[0]);continue}var V=S[0],H=V.length;switch(V){case"ddd":case"dddd":var R=(H===3)?P.days.namesAbbr:P.days.names;ae.push(R[X.getDay()]);break;case"d":case"dd":N=true;ae.push(K(G(X,2),H));break;case"MMM":case"MMMM":var W=G(X,1);ae.push((P.monthsGenitive&&aa())?(P.monthsGenitive[H===3?"namesAbbr":"names"][W]):(P.months[H===3?"namesAbbr":"names"][W]));break;case"M":case"MM":ae.push(K(G(X,1)+1,H));break;case"y":case"yy":case"yyyy":W=F?F[0]:f(X,P,d(X,Y),E);if(H<4){W=W%100}ae.push(K(W,H));break;case"h":case"hh":I=X.getHours()%12;if(I===0){I=12}ae.push(K(I,H));break;case"H":case"HH":ae.push(K(X.getHours(),H));break;case"m":case"mm":ae.push(K(X.getMinutes(),H));break;case"s":case"ss":ae.push(K(X.getSeconds(),H));break;case"t":case"tt":W=X.getHours()<12?(P.AM?P.AM[0]:" "):(P.PM?P.PM[0]:" ");ae.push(H===1?W.charAt(0):W);break;case"f":case"ff":case"fff":ae.push(K(X.getMilliseconds(),3).substr(0,H));break;case"z":case"zz":I=X.getTimezoneOffset()/60;ae.push((I<=0?"+":"-")+K(Math.floor(Math.abs(I)),H));break;case"zzz":I=X.getTimezoneOffset()/60;ae.push((I<=0?"+":"-")+K(Math.floor(Math.abs(I)),2)+":"+K(Math.abs(X.getTimezoneOffset()%60),2));break;case"g":case"gg":if(P.eras){ae.push(P.eras[d(X,Y)].name)}break;case"/":ae.push(P["/"]);break;default:throw"Invalid date format pattern '"+V+"'."}}return ae.join("")};(function(){var D;D=function(K,L,S){var I=S.groupSizes,E=I[0],F=1,P=Math.pow(10,L),G=Math.round(K*P)/P;if(!isFinite(G)){G=K}K=G;var J=K+"",R="",O=J.split(/e/i),Q=O.length>1?parseInt(O[1],10):0;J=O[0];O=J.split(".");J=O[0];R=O.length>1?O[1]:"";var H;if(Q>0){R=q(R,Q,false);J+=R.slice(0,Q);R=R.substr(Q)}else{if(Q<0){Q=-Q;J=q(J,Q+1,true);R=J.slice(-Q,J.length)+R;J=J.slice(0,-Q)}}if(L>0){R=S["."]+((R.length>L)?R.slice(0,L):q(R,L))}else{R=""}var N=J.length-1,T=S[","],M="";while(N>=0){if(E===0||E>N){return J.slice(0,N+1)+(M.length?(T+M+R):R)}M=J.slice(N-E+1,N+1)+(M.length?(T+M):"");N-=E;if(F<I.length){E=I[F];F++}}return J.slice(0,N+1)+T+M+R};j=function(P,O,I){if(!isFinite(P)){if(P===Infinity){return I.numberFormat.positiveInfinity}if(P===-Infinity){return I.numberFormat.negativeInfinity}return I.numberFormat["NaN"]}if(!O||O==="i"){return I.name.length?P.toLocaleString():P.toString()}O=O||"D";var G=I.numberFormat,H=Math.abs(P),J=-1,N;if(O.length>1){J=parseInt(O.slice(1),10)}var M=O.charAt(0).toUpperCase(),Q;switch(M){case"D":N="n";H=c(H);if(J!==-1){H=q(""+H,J,true)}if(P<0){H="-"+H}break;case"N":Q=G;case"C":Q=Q||G.currency;case"P":Q=Q||G.percent;N=P<0?Q.pattern[0]:(Q.pattern[1]||"n");if(J===-1){J=Q.decimals}H=D(H*(M==="P"?100:1),J,Q);break;default:throw"Bad number format specifier: "+M}var E=/n|\$|-|%/g,L="";for(;;){var K=E.lastIndex,F=E.exec(N);L+=N.slice(K,F?F.index:N.length);if(!F){break}switch(F[0]){case"n":L+=H;break;case"$":L+=G.currency.symbol;break;case"-":if(/[1-9]/.test(H)){L+=G["-"]}break;case"%":L+=G.percent.symbol;break}}return L}}());h=function(){return(/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g)};d=function(F,E){if(!E){return 0}var I,H=F.getTime();for(var G=0,D=E.length;G<D;G++){I=E[G].start;if(I===null||H>=I){return G}}return 0};f=function(E,G,D,H){var F=E.getFullYear();if(!H&&G.eras){F-=G.eras[D].offset}return F};(function(){var E,D,G,F,J,I,H;E=function(P,N){if(N<100){var L=new Date(),K=d(L),O=f(L,P,K),M=P.twoDigitYearMax;M=typeof M==="string"?new Date().getFullYear()%100+parseInt(M,10):M;N+=O-(O%100);if(N>M){N-=100}}return N};D=function(O,N,L){var K,P=O.days,M=O._upperDays;if(!M){O._upperDays=M=[H(P.names),H(P.namesAbbr),H(P.namesShort)]}N=I(N);if(L){K=y(M[1],N);if(K===-1){K=y(M[2],N)}}else{K=y(M[0],N)}return K};G=function(R,Q,M){var K=R.months,L=R.monthsGenitive||R.months,O=R._upperMonths,P=R._upperMonthsGen;if(!O){R._upperMonths=O=[H(K.names),H(K.namesAbbr)];R._upperMonthsGen=P=[H(L.names),H(L.namesAbbr)]}Q=I(Q);var N=y(M?O[1]:O[0],Q);if(N<0){N=y(M?P[1]:P[0],Q)}return N};F=function(K,V){var X=K._parseRegExp;if(!X){K._parseRegExp=X={}}else{var O=X[V];if(O){return O}}var U=C(K,V).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),S=["^"],L=[],R=0,N=0,aa=h(),P;while((P=aa.exec(U))!==null){var Z=U.slice(R,P.index);R=aa.lastIndex;N+=v(Z,S);if(N%2){S.push(P[0]);continue}var M=P[0],Q=M.length,W;switch(M){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":W="(\\D+)";break;case"tt":case"t":W="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":W="(\\d{"+Q+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":W="(\\d\\d?)";break;case"zzz":W="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":W="([+-]?\\d\\d?)";break;case"/":W="(\\/)";break;default:throw"Invalid date format pattern '"+M+"'."}if(W){S.push(W)}L.push(P[0])}v(U.slice(R),S);S.push("$");var Y=S.join("").replace(/\s+/g,"\\s+"),T={regExp:Y,groups:L};return X[V]=T};J=function(M,K,L){return M<K||M>L};I=function(K){return K.split("\u00A0").join(" ").toUpperCase()};H=function(K){var N=[];for(var M=0,L=K.length;M<L;M++){N[M]=I(K[M])}return N};e=function(ae,al,am){ae=t(ae);var X=am.calendar,ar=F(X,al),R=new RegExp(ar.regExp).exec(ae);if(R===null){return null}var an=ar.groups,ac=null,V=null,aq=null,ap=null,W=null,P=0,ah,ag=0,ao=0,K=0,M=null,Y=false;for(var ai=0,ak=an.length;ai<ak;ai++){var L=R[ai+1];if(L){var ad=an[ai],O=ad.length,Q=parseInt(L,10);switch(ad){case"dd":case"d":ap=Q;if(J(ap,1,31)){return null}break;case"MMM":case"MMMM":aq=G(X,L,O===3);if(J(aq,0,11)){return null}break;case"M":case"MM":aq=Q-1;if(J(aq,0,11)){return null}break;case"y":case"yy":case"yyyy":V=O<4?E(X,Q):Q;if(J(V,0,9999)){return null}break;case"h":case"hh":P=Q;if(P===12){P=0}if(J(P,0,11)){return null}break;case"H":case"HH":P=Q;if(J(P,0,23)){return null}break;case"m":case"mm":ag=Q;if(J(ag,0,59)){return null}break;case"s":case"ss":ao=Q;if(J(ao,0,59)){return null}break;case"tt":case"t":Y=X.PM&&(L===X.PM[0]||L===X.PM[1]||L===X.PM[2]);if(!Y&&(!X.AM||(L!==X.AM[0]&&L!==X.AM[1]&&L!==X.AM[2]))){return null}break;case"f":case"ff":case"fff":K=Q*Math.pow(10,3-O);if(J(K,0,999)){return null}break;case"ddd":case"dddd":W=D(X,L,O===3);if(J(W,0,6)){return null}break;case"zzz":var N=L.split(/:/);if(N.length!==2){return null}ah=parseInt(N[0],10);if(J(ah,-12,13)){return null}var T=parseInt(N[1],10);if(J(T,0,59)){return null}M=(ah*60)+(B(L,"-")?-T:T);break;case"z":case"zz":ah=Q;if(J(ah,-12,13)){return null}M=ah*60;break;case"g":case"gg":var Z=L;if(!Z||!X.eras){return null}Z=t(Z.toLowerCase());for(var aj=0,af=X.eras.length;aj<af;aj++){if(Z===X.eras[aj].name.toLowerCase()){ac=aj;break}}if(ac===null){return null}break}}}var U=new Date(),ab,S=X.convert;ab=S?S.fromGregorian(U)[0]:U.getFullYear();if(V===null){V=ab}else{if(X.eras){V+=X.eras[(ac||0)].offset}}if(aq===null){aq=0}if(ap===null){ap=1}if(S){U=S.toGregorian(V,aq,ap);if(U===null){return null}}else{U.setFullYear(V,aq,ap);if(U.getDate()!==ap){return null}if(W!==null&&U.getDay()!==W){return null}}if(Y&&P<12){P+=12}U.setHours(P,ag,ao,K);if(M!==null){var aa=U.getMinutes()-(M+U.getTimezoneOffset());U.setHours(U.getHours()+parseInt(aa/60,10),aa%60)}return U}}());b=function(G,F,E){var I=F["-"],H=F["+"],D;switch(E){case"n -":I=" "+I;H=" "+H;case"n-":if(x(G,I)){D=["-",G.substr(0,G.length-I.length)]}else{if(x(G,H)){D=["+",G.substr(0,G.length-H.length)]}}break;case"- n":I+=" ";H+=" ";case"-n":if(B(G,I)){D=["-",G.substr(I.length)]}else{if(B(G,H)){D=["+",G.substr(H.length)]}}break;case"(n)":if(B(G,"(")&&x(G,")")){D=["-",G.substr(1,G.length-2)]}break}return D||["",G]};u.prototype.findClosestCulture=function(D){return u.findClosestCulture.call(this,D)};u.prototype.format=function(D,E,F){return u.format.call(this,D,E,F)};u.prototype.localize=function(D,E){return u.localize.call(this,D,E)};u.prototype.parseInt=function(E,D,F){return u.parseInt.call(this,E,D,F)};u.prototype.parseFloat=function(E,D,F){return u.parseFloat.call(this,E,D,F)};u.prototype.culture=function(D){return u.culture.call(this,D)};u.addCultureInfo=function(H,E,G){var F={},D=false;if(typeof H!=="string"){G=H;H=this.culture().name;F=this.cultures[H]}else{if(typeof E!=="string"){G=E;D=(this.cultures[H]==null);F=this.cultures[H]||this.cultures["default"]}else{D=true;F=this.cultures[E]}}this.cultures[H]=w(true,{},F,G);if(D){this.cultures[H].calendar=this.cultures[H].calendars.standard}};u.findClosestCulture=function(D){var L;if(!D){return this.findClosestCulture(this.cultureSelector)||this.cultures["default"]}if(typeof D==="string"){D=D.split(",")}if(o(D)){var F,P=this.cultures,N=D,K,G=N.length,O=[];for(K=0;K<G;K++){D=t(N[K]);var E,J=D.split(";");F=t(J[0]);if(J.length===1){E=1}else{D=t(J[1]);if(D.indexOf("q=")===0){D=D.substr(2);E=parseFloat(D);E=isNaN(E)?0:E}else{E=1}}O.push({lang:F,pri:E})}O.sort(function(R,Q){if(R.pri<Q.pri){return 1}else{if(R.pri>Q.pri){return -1}}return 0});for(K=0;K<G;K++){F=O[K].lang;L=P[F];if(L){return L}}for(K=0;K<G;K++){F=O[K].lang;do{var M=F.lastIndexOf("-");if(M===-1){break}F=F.substr(0,M);L=P[F];if(L){return L}}while(1)}for(K=0;K<G;K++){F=O[K].lang;for(var I in P){var H=P[I];if(H.language==F){return H}}}}else{if(typeof D==="object"){return D}}return L||null};u.format=function(E,F,G){var D=this.findClosestCulture(G);if(E instanceof Date){E=r(E,F,D)}else{if(typeof E==="number"){E=j(E,F,D)}}return E};u.localize=function(D,E){return this.findClosestCulture(E).messages[D]||this.cultures["default"].messages[D]};u.parseDate=function(L,J,H){H=this.findClosestCulture(H);var F,D,E;if(J){if(typeof J==="string"){J=[J]}if(J.length){for(var I=0,G=J.length;I<G;I++){var K=J[I];if(K){F=e(L,K,H);if(F){break}}}}}else{E=H.calendar.patterns;for(D in E){F=e(L,E[D],H);if(F){break}}}return F||null};u.parseInt=function(E,D,F){return c(u.parseFloat(E,D,F))};u.parseFloat=function(R,K,M){if(typeof K!=="number"){M=K;K=10}var T=this.findClosestCulture(M);var W=NaN,I=T.numberFormat;if(R.indexOf(T.numberFormat.currency.symbol)>-1){R=R.replace(T.numberFormat.currency.symbol,"");R=R.replace(T.numberFormat.currency["."],T.numberFormat["."])}if(R.indexOf(T.numberFormat.percent.symbol)>-1){R=R.replace(T.numberFormat.percent.symbol,"")}R=R.replace(/ /g,"");if(n.test(R)){W=parseFloat(R)}else{if(!K&&z.test(R)){W=parseInt(R,16)}else{var F=b(R,I,I.pattern[0]),V=F[0],L=F[1];if(V===""&&I.pattern[0]!=="(n)"){F=b(R,I,"(n)");V=F[0];L=F[1]}if(V===""&&I.pattern[0]!=="-n"){F=b(R,I,"-n");V=F[0];L=F[1]}V=V||"+";var Q,N,U=L.indexOf("e");if(U<0){U=L.indexOf("E")}if(U<0){N=L;Q=null}else{N=L.substr(0,U);Q=L.substr(U+1)}var S,J,G=I["."],D=N.indexOf(G);if(D<0){S=N;J=null}else{S=N.substr(0,D);J=N.substr(D+G.length)}var O=I[","];S=S.split(O).join("");var H=O.replace(/\u00A0/g," ");if(O!==H){S=S.split(H).join("")}var P=V+S;if(J!==null){P+="."+J}if(Q!==null){var E=b(Q,I,"-n");P+="e"+(E[0]||"+")+E[1]}if(A.test(P)){W=parseFloat(P)}}}return W};u.culture=function(D){if(typeof D!=="undefined"){this.cultureSelector=D}return this.findClosestCulture(D)||this.cultures["default"]}}(this));(function(a,b){var c;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){c=require("globalize")}else{c=a.Globalize}c.addCultureInfo("ja","default",{name:"ja",englishName:"Japanese",nativeName:"日本語",language:"ja",numberFormat:{"NaN":"NaN (非数値)",negativeInfinity:"-∞",positiveInfinity:"+∞",percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],decimals:0,symbol:"¥"}},calendars:{standard:{days:{names:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],namesAbbr:["日","月","火","水","木","金","土"],namesShort:["日","月","火","水","木","金","土"]},months:{names:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["午前","午前","午前"],PM:["午後","午後","午後"],eras:[{name:"西暦",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"yyyy'年'M'月'd'日'",t:"H:mm",T:"H:mm:ss",f:"yyyy'年'M'月'd'日' H:mm",F:"yyyy'年'M'月'd'日' H:mm:ss",M:"M'月'd'日'",Y:"yyyy'年'M'月'"}},Japanese:{name:"Japanese",days:{names:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],namesAbbr:["日","月","火","水","木","金","土"],namesShort:["日","月","火","水","木","金","土"]},months:{names:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["午前","午前","午前"],PM:["午後","午後","午後"],eras:[{name:"平成",start:null,offset:1867},{name:"昭和",start:-1812153600000,offset:1911},{name:"大正",start:-1357603200000,offset:1925},{name:"明治",start:60022080000,offset:1988}],twoDigitYearMax:99,patterns:{d:"gg y/M/d",D:"gg y'年'M'月'd'日'",t:"H:mm",T:"H:mm:ss",f:"gg y'年'M'月'd'日' H:mm",F:"gg y'年'M'月'd'日' H:mm:ss",M:"M'月'd'日'",Y:"gg y'年'M'月'"}}}})}(this));Globalize.addCultureInfo("ja",{messages:{mf_asset_Documentation:"Documentation",mf_asset_Support:"Support",mf_asset_byProvider:"by {0}",mf_asset_Download:"ダウンロード",mf_asset_Information:"INFORMATION",mf_asset_developer_keys_header:"Your Developer Keys",mf_asset_api_keys_entitlement_label:"You are entitled to:",mf_asset_api_keys_label:"Use the following developer keys for your company:",mf_asset_api_keys_usage_label:"Instructions left by the asset owner:",mf_asset_Type:"Type: ",mf_asset_Released:"リリース: ",mf_asset_Version:"バージョン: ",mf_asset_Size:"サイズ: ",mf_asset_Platforms:"プラットフォーム: ",mf_asset_Languages:"言語: ",mf_asset_Requirements:"必要条件: ",mf_asset_Prerequisites:"前提条件: ",mf_asset_Download_Tooltip:"Login or Join the community to download. It's easy and we will keep track of your downloads for you!",mf_asset_moredescription:"...More",mf_asset_lessdescription:"...Less",mf_asset_CommercialTerms:"通商条件",mf_asset_CommercialMsg:"Set your audience, pricing and license information. ",mf_asset_sales_phone_no:"The Phone Number should start with a plus sign, followed by the country code and national number.",mf_asset_sales_email:"Please enter a valid email address.",mf_asset_licensetype:"License type:",mf_asset_character_left:"Characters left",mf_asset_contact:"Sales contact: ",mf_asset_service_plans:"Service plans: ",mf_asset_you_are_almost_there:"You are almost there!",mf_asset_let_are_interested:"Let {0} know you're interested in purchasing {1} for your company. Enter any questions or requests you have below.",mf_asset_leave_message:"Leave {0} a message...",mf_asset_let_select_plan:"Select a service plan for your purchase.",mf_asset_send_request:"Send Request",mf_asset_submit_purchase_request:"Submit",mf_asset_to_purchase:"Contact {0} to Purchase",mf_asset_select_plan_to_purchase:"Select Service Plan to Purchase",mf_asset_purchase:"Purchase",mf_asset_purchase_requested:"Purchase Requested",mf_asset_subscribe_after_purchase:"Subscribe",mf_asset_purchase_more_plan:"Purchase more",mf_asset_request_entitlement:"Request Entitlement",mf_asset_requested_entitlement:"Entitlement Requested",mf_asset_request_new_entitlement:"Request New Entitlement",mf_asset_get_your_keys:"Get Your Keys",mf_asset_request_developer_key:"Request Developer Keys",mf_asset_select_entitlement_plan:"Please select the Entitlement plan you are interested in:",mf_asset_purchase_tooltip_msg:"Your request has been sent to {0}.He/she will contact you shortly",mf_asset_to_continue_download:"アセットのダウンロードを続行するには、ライセンス契約の条件に同意する必要があります",mf_asset_purchased_by:"Purchased by {0}",mf_asset_for:"Who is your asset for?",mf_asset_disagree:"私は反対",mf_asset_cancel:"キャンセル,",mf_asset_iagree:"私は同意する",mf_asset_anyone:"Anyone",mf_asset_company:"Only people in company({0})",mf_asset_is_a:"The asset is a...",mf_asset_full_version:"Full version",mf_asset_trial_version:"Trial version",mf_asset_prerelease_version:"Beta (Pre-release)",mf_asset_beta_version:"Beta",mf_asset_api_sales_message:"Please fill in the contact information for the Sales Representative that you would like the API consumers to contact in order to get a developer key.",mf_asset_entitlement_msg:"What are the Entitlements and how much will they cost?",mf_asset_no_asset_selected:"No Asset version is selected",mf_asset_no_cost:"Asset has no cost",mf_asset_entitlement_blank:"Provide Entitlement Information. It is mandatory information.",mf_asset_add_another_entitlement:"Add Another Entitlement",mf_asset_entitlements_offered:"Entitlements offered:",mf_asset_provide_sale_info:"Provide complete sales representative information e.g. name, email and phone number",mf_asset_view_license:"ビューライセンス",mf_asset_entitlement:"Free - 500 Calls per Minute, Cost : Free",mf_asset_placeholder_cost:"Asset Cost",mf_asset_price:"Price",mf_asset_name:"Name",mf_asset_email_address:"Email Address",mf_asset_phone_number:"Phone Number",mf_asset_will_cost:"How much will it cost?",mf_asset_free:"フリー",mf_asset_ThisAssetIsfree:"This asset is free",mf_asset_ThisAssetCanBePurchasedFor:"This asset can be purchased for",mf_asset_free_to_try:"Free to Try,",mf_asset_to_buy:"to buy",mf_asset_who_handle_sale:"Who will complete the sale?",mf_asset_LicenseType:"License Type: ",mf_asset_Cost:"Cost: ",mf_asset_commerical_attach_agreement:"Next, attach the license agreement you are offering for this asset. It should include permission to use, terms of use, and your commitments(service level agreement).",mf_asset_Agreement:"Agreement: ",mf_asset_onlytxtsupported:"Only Text(*.txt) file is supported",mf_asset_based_on_choices:"Based on your choices",mf_asset_only_your_company:"Only your company",mf_asset_will_able_to_see:"will be able to see in the store",mf_asset_those_who_paid:"Those who paid",mf_asset_will_able_to_use_it:"will be able to use it.",mf_asset_uploadagreement:"upload agreement(.txt)",mf_asset_ReadyToPurchase:"Ready to purchase?",mf_asset_SalesContact:"Contact ",mf_asset_cancelPublish:"Cancel Publish",mf_asset_approveNpublish:"Approve & Publish",mf_asset_requireEdits:"Require Edits",mf_asset_sendEditRequest:"Send Request",mf_asset_reviewerNotes:"Read Reviewer's Notes",mf_asset_awaitingApproval:"Your asset is under review. Below is how it will appear in the store if published.",mf_asset_approval:"This is how the asset will appear in the store.",mf_asset_actionRequired:"Updates are required before your asset can be published.",mf_asset_reviewAsset:"This is how the asset will appear in the store.",mf_asset_addThumbnail:"add thumbnail",mf_asset_provide_summary:"(Provide a summary of your Asset)",mf_asset_uploadfile:"Upload File",mf_asset_choose:"choose",mf_asset_change:"Change",mf_asset_changes:"Change...",mf_asset_addLicense:"add license",mf_asset_add:"add",mf_asset_lanPlaceHolder:"e.g. Java, JavaScript",mf_asset_platformPlaceHolder:"e.g. iOS or Android",mf_asset_requirementPlaceHolder:"e.g. Worklight 5.0.5",mf_asset_addLink:"add link to company website",mf_egWebsite:"eg: http://mycompany.com",mf_asset_addDownloadable:"add downloadable",mf_asset_upload_package:"Upload Package",mf_asset_deleteDownloadable:"delete downloadable",mf_asset_dlDownloadable:"download",mf_asset_upload:"Upload",mf_asset_additionalDocumentation:"additional documentation",mf_asset_additional_artwork:"Additional ArtWork",mf_asset_detailed_feature:"詳細な機能説明",mf_asset_clear_all_text:"Clear all text",mf_asset_optional:"(Optional)",mf_asset_background_color:"Background Color",mf_asset_saved_seconds_ago:"Saved {0} Seconds Ago",mf_asset_saved_days_ago:"Saved {0} Days Ago",mf_asset_saved_minutes_ago:"Saved {0} Minutes Ago",mf_asset_saved_hrs_ago:"Saved {0} Hrs Ago",mf_asset_ios:"iOS",mf_asset_android:"Android",mf_asset_blackberry:"Blackberry",mf_asset_windowsphone:"Windows Phone",mf_asset_duplicateDocumentation:"A file with same name {0} already being uploaded. Either delete the old file, or rename the new file to upload.",mf_assetEditor_namePlaceHolder_api:"Name Your API",mf_assetEditor_api:"API",mf_assetEditor_authorBtn:"Authors",mf_assetEditor_publishBtn:"Publish",mf_assetEditor_publishAgainBtn:"Publish Again",mf_assetEditor_public:"Public",mf_assetEditor_private:"Private",mf_assetEditor_publicHint:"Click to make public. This allows anyone outside of your company to find and access this asset.",mf_assetEditor_privateHint:"Click to make private. This only allows people from your company to find and access this asset.",mf_assetEditor_favoriteHint:"Once published, users will be able to save your asset as a favorite.",mf_assetEditor_supportHint:"Once published, you will be able to communicate with your consumers in a forum build for gathering feedback.",mf_assetEditor_cancelHint:"Need to make more edits? Simply cancel this publish, make more edits, and republish.",mf_assetEditor_feedbackHint:"Once published you'll start to see stats appear showing how people are interacting.",mf_mystore_mymarketplace:"My Marketplace",mf_mystore_add_api:"Add Web API",mf_mystore_addAsset:"Add Asset",mf_mystore_publishedinstore:"Published in the Store",mf_mystore_draftsinprogress:"Drafts in Progress",mf_mystore_lastupdated:"LAST UPDATED",mf_mystore_DraftAssets:"DRAFT ASSETS({0})",mf_mystore_PublishedAssets:"PUBLISHED ASSETS({0})",mf_mystore_awaitingapproval:"Awaiting Approval",mf_mystore_actionrequired:"Action Required",my_store_licenceType:"LICENSE TYPE",my_store_cost:"COST",my_store_offeredTo:"OFFERED TO",my_store_grantedTo:"LICENSE GRANTED TO",my_store_delete_asset_help_text:"Unpublish from the store and return to draft state for edits",my_store_confirm_popup_text:"Do you really want to {0} the asset?",my_store_item_remove_text:"remove",my_store_item_unpublish_text:"unpublish",mf_home_join_marketplace:"<b>Join</b> Marketplace",mf_home_join_username:"USERNAME",mf_home_join_fullname:"FULL NAME",mf_home_join_password:"PASSWORD",mf_home_join_confirm_password:"CONFIRM PASSWORD",mf_home_join_email:"EMAIL",mf_home_join_user_name:"User Name",mf_home_join_full_name:"Full Name",mf_home_join_email_company:"email@company.com",mf_home_join_sm_password:"Password",mf_home_join_sm_confirm_password:"Confirm Password",mf_home_join_invalid_email:"Please enter a valid email address.",mf_home_byclicking_join:"By clickin Join Now, You agree to the",mf_home_marketplace_terms:"Marketplace Terms and Conditions",mf_home_join_now:"Join Now",mf_home_join_publish_assets:"Publish Assets",mf_home_slider_worklight_plugin:"Worklight Plugin",mf_home_slider_worklight_plugin_description:"It provides an open, comprehensive and advanced<br> mobile application platform to build, <br>run and manage mobile applications.",mf_home_slider_assets_to_share:"Have Mobile Assets to Share?",mf_home_slider_assets_to_share_content:"There's no need to find people on your own.<br>Take advantage of the growing marketplace.<br>Create and share mobile components, Web APIs and more...",mf_home_join_publish_assets_msg:"adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsad adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsad",mf_home_join_favorite:"Favorite, Rate & Comment",mf_home_join_favorite_msg:"Favosdfds dfd sa fdsfdsfds sfds dsfds ffdsf dsfds fdsfdfdsfd sfrite, Rate & Comment adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsad",mf_home_join_get_exclusive:"Get Exclusive Free Downloads",mf_home_join_get_exclusive_msg:"Gedsf  sfs t Excsfds sfd sfd lusive Frdsfd  sdee Dow sdf nloa sfd dsf d adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsads",mf_home_ForgeYourProject:"Forge your project",mf_home_accelerate:"Accelerate with mobile building blocks.",mf_home_discover:"Discover cloud APIs.",mf_home_haveMobileContent:"Have Mobile Assets to Share?",mf_home_featured:"Featured",mf_home_new:"New",mf_home_seeall:"See All",mf_home_build:"There's no need to find people on your own.",mf_home_share:"Take advantage of the growing marketplace.",mf_home_makeMoney:"Create and share mobile components, Web APIs and more...",mf_home_learnAboutPublish:"Learn About Publishing >",mf_footer_mobileMarketplace:"MobileFirst Marketplace",mf_footer_productTour:"Product Tour",mf_footer_publishers:"Publishers",mf_footer_support:"support",mf_footer_help:"Help",mf_footer_about_mobile:"about IBM MobileFirst",mf_footer_about_ibm_massive:"about IBM massive",mf_footer_termsOfUse:"Terms of Use",mf_footer_contactUs:"Contact Us",mf_footer_u:"&nbsp;",mf_footer_poweredByIBMMarketplace:"powered by IBM Marketplace",mf_footer_poweredByIBMMassive:"Powered by IBM Massive",mf_footer_wantAMarketplace:"Want a marketplace?",mf_footer_customers:"Customers",mf_learnaboutpublishing_whyPublish:"Why Publish?",mf_learnaboutpublishing_leverage:"Leverage IBM's reach in the enterprise mobile market.",mf_learnaboutpublishing_reason1:"<p>The largest companies in the world rely on IBM technology to power their mobile applications. Publishing to the marketplace allows you to tap into this vast and growing market.</p>",mf_learnaboutpublishing_reason2:"<p>In the early preview of the marketplace we are focusing on assets that mobile developers will find useful.</p>",mf_learnaboutpublishing_whatCanPublish:"What Can You Publish?",mf_learnaboutpublishing_readyToPublish:"How to Publish",mf_learnaboutpublishing_readyToPublishEnter:"Go to <a id='myMarketplaceLink' class='learnAboutPublishingLinkText' href='#mymarketplace'>My Marketplace</a> (use the drop down menu from the Username)",mf_learnaboutpublishing_readyToPublishClickAddAsset:"Click Add Asset.<br />Choose what you want to add to the store",mf_learnaboutpublishing_readyToPublishBuildStore:"Build the store page for your asset and click Publish when ready.",mf_learnaboutpublishing_readyToPublishPublishAsset:"After your asset is reviewed, it will be published to the store",mf_learnaboutpublishing_mobileComponents:"Mobile Components",mf_learnaboutpublishing_mobileComponentsDesc:"<p>A mobile component is a reusable library that developers can add to their apps. It could be a client-side library or server runtime blocks. These libraries can address foundational functionalities such as login or payments. They can be composed of various elements such as non-visual runtime objects, Visual components, Integration adapters, UI Screen packages, and more.</p><p>For example, a banking app could use an image processing library for processing checks (non-visual runtime object) and an integration adapter to connect to a banking system for verification. Assembling these reusable mobile components, developers can build engaging mobile apps in no time.</p><p>A Mobile Component helps developers engaging the customer, provide value added services, and understand how consumers use their mobile apps. All while simplifying and speeding up delivery of high quality mobile apps across multiple devices.</p>",mf_learnaboutpublishing_mobileAppTemplates:"Mobile App Templates",mf_learnaboutpublishing_mobileAppTemplatesDesc:"<p>A mobile template allows developers to quickly get started with their app development without starting from scratch. Modify the template mobile app to provide value added services, add elements that are consistent and reflect your brand.</p><p>Mobile can be a disruptive technology, and templates give you the opportunity to increase business and enhance customer satisfaction. Given the growing speed with which mobile apps are released, developers want a jump start to their new app development with flexible functionality that can be customized for the specific needs of their enterprise.</p>",mf_learnaboutpublishing_webAPIs:"Web APIs (Coming Soon)",mf_learnaboutpublishing_webAPIsDesc:"<p>From stores to 1-800 numbers to Web sites, companies are using APIs to deliver products and services through new devices and channels. </p><p>APIs can open your company to new markets by allowing external app developers to easily leverage, publicize, and aggregate assets for broad based consumption. APIs allow you to exploit the talent of millions of developers building their apps with your assets, data, and services - saving time and reducing costs. Drive revenue through new channels, drive brand recognition by allowing developers to build engaging apps, and integrate with partners to increase customer satisfaction. </p><p>Let's say your API facilitates payments for in-app purchases and has geo-location data. Mobile app developers can then easily use this APIs in addition to other mobile components & templates to speed up their development. All while building a service with real value.</p>",mf_learnaboutpublishing_developmentTools:"Development Tools",mf_learnaboutpublishing_developmentToolsDesc:"<p>Developer tools are add-ons to the IBM MobileFirst development platform that help in the development process. These tools extend and enhance the platform's capabilities.  They empower the developers to do more with less, maximizing time to market with a continuously changing technology.</p><p>For example, the store offers a <a class='learnAboutPublishingLinkText learnAboutPublishingWorklightUrl' href='{0}'>Worklight plugin</a> that helps developers package a mobile component or mobile template for adding to this store.  You can also create something as simple as a command line utility, such as one that allows developers to publish mobile apps to a runtime container.  Developed a tool that makes your life easier?  Consider publishing it to the store for others!</p>",mf_learnaboutpublishing_want_worklight_component:"Want to create a mobile component using IBM Worklight?",mf_learnaboutpublishing_want_worklight_template:"Want to create a mobile template using IBM Worklight?",mf_learnaboutpublishing_learnmore:"Download the Worklight plugin for Eclipse",mf_header_mymarketplace:"My Marketplace",mf_header_search:"Search",mf_header_administration:"Administration",mf_header_signout:"Signout",mf_header_backtomarketplace:"< Back to ",mf_header_backtodraft:"< Back to <b>draft</b>",mf_header_preview:"Preview",mf_header_publish:"Publish",mf_header_changepassword:"Change Password",mf_header_unsupporetdSearchCharactors:"{0} are the currently unsupported characters for search.",mf_emptyDrafts_text:"You are not working on any new assets for the store right now.",mf_emptyPublished_text:"Your don't have any assets available in the store right now.",mf_getStarted:"Get started.",mf_getStarted_onNewDraft:"Get started on a new draft.",mf_isDraft_readyToPublish:"Is a draft ready to publish?",mf_register_disclaimer:'<h1><center>Terms of Use for IBM Mobile Marketplace - Early Release</center> </h1>		<h2>Terms of Use</h2>		<p><b>PLEASE READ THE FOLLOWING TERMS OF USE CAREFULLY. BY CHECKING THE "I AGREE" BOX ON THE REGISTRATION PAGE, OR OTHERWISE USING THE IBM MOBILE MARKETPLACE, YOU AGREE TO THE TERMS OF THIS AGREEMENT. IF YOU ARE ACCEPTING THESE TERMS ON BEHALF OF AN ENTERPRISE, YOU REPRESENT AND WARRANT THAT YOU HAVE FULL AUTHORITY TO BIND THAT ENTERPRISE TO THESE TERMS. IF YOU DO NOT AGREE TO THESE TERMS, DO NOT ACCESS, BROWSE OR CHECK THE "I AGREE" BOX</b>.</p>		<p>The IBM Mobile Marketplace web site (with a home page located at <a href="{0}">{0}</a>) (referred to herein as the "Mobile Marketplace") provides access to a variety of content that you can license, such as: information, software and data, including without limitation, personal information, contact data, ideas, applications or applets; application or applet add-ons; code or code libraries; programs, web APIs; software tools; web add-ons, hypertext markup language files, language files, scripts, articles, recordings, sound, video, music, graphics, images, servlets, speech files and other resources, including all materials and documentation related to the foregoing (collectively referred to as "Content"). The Content is provided by IBM or a third party, as identified in the meta information describing the Content, and is available under the terms and conditions associated with the Content as provided by IBM or the third party. Do not access, download or use Content if you do not agree to abide by its terms and conditions.</p>		<p>The Mobile Marketplace and Content, unless otherwise noted in the associated terms and conditions for such Content, are "Early Release" which means that they are not formally released or commercially available, are provided for testing purposes only and may still be under development and therefore, potentially unreliable. The term does not imply that they will be formally released or made commercially available. Neither IBM nor any third party Content provider warrants that should any Early Release item be formally released or made commercially available that it will be similar to, or compatible with, Early Release version(s).</p>		<p>While the Mobile Marketplace and Content are in the Early Release phase, subject to your compliance with these Terms of Use, IBM grants you a revocable, non-exclusive, non-transferable, limited right to access the Mobile Marketplace solely for test purposes and to provide feedback to IBM, which may include data, suggestions and/or written materials related to the use of the Mobile Marketplace ("Feedback"). IBM will have the right, for any purpose, to use, reproduce, modify, disclose, distribute, and make derivative works of any Feedback you provide. You may not copy, reproduce, upload, post, modify, transmit, mirror on another site or in any other media, distribute or create derivative works of the Mobile Marketplace.</p>		<p>IBM considers the Mobile Marketplace (but not the Content) to be confidential. You agree to treat the Mobile Marketplace in accordance with the confidentiality agreement between IBM and you with respect to the Mobile Marketplace.</p>		<p>You will register for a Mobile Marketplace account ("Account") by establishing an Account identification ("Account ID") and password. You acknowledge that you are at least 18 years old and the information you submit in your registration with the Mobile Marketplace (name, e-mail address and other information) is accurate and current. You are responsible for managing and keeping your Account information current. Your Account information will be included in your Mobile Marketplace profile, unless you request that it be suppressed. You may include, if you so choose, additional information in your Mobile Marketplace profile. You agree to maintain the security of, and not allow others to use, your Account identification or password. You are responsible for the actions of any person or entity that accesses the Mobile Marketplace or otherwise uses your Account, whether or not expressly authorized by you.</p>		<p>You are responsible for your profile and activities on the Mobile Marketplace, and it is up to you to decide what information you disclose about yourself on the Mobile Marketplace. For any Personal Data (as defined below) you provide in connection with your registration (including as part of your Account profile) or your use of the Mobile Marketplace, you are responsible for obtaining consents from the relevant persons to allow IBM to, and hereby grant IBM the rights to store, use, and transfer such Personal Data as part of our business relationship anywhere IBM does business, in accordance with the IBM Online Privacy Statement, located at <a href="http://www.ibm.com/privacy">http://www.ibm.com/privacy</a>, and any subsequent modification. At any time, you may request by written notice to IBM that any Personal Data you provide is corrected or removed from your Account information and IBM will correct or remove such Personal Data per your written request, but removal may prevent access to the Mobile Marketplace. For purposes of these Terms of Use, "Personal Data" means any information that can be used to identify a specific individual, such as name, email address, home address, or phone number that is provided to IBM to store, process, or transfer on your behalf.</p>		<p>The Mobile Marketplace contains proprietary notices and copyright information, which you must observe and follow. IBM and its suppliers, including Content providers, own the Mobile Marketplace and all Content therein. You agree that title to, ownership of and all rights in and to patents, copyrights, trademarks, and all other intellectual property rights in the Mobile Marketplace and Content, and any copy or part of the Content, will remain with IBM and its suppliers.</p>		<p>IBM may allow you to submit Content to the Mobile Marketplace. Any such Content submissions will be in accordance with the Content Submission Agreement located at <a href="{0}/tou/CSAgreementMobileMP.html">{0}/tou/CSAgreementMobileMP.html</a> and when you submit Content to the Mobile Marketplace, you agree to the Content Submission Agreement. You, and not IBM, are, and remain, responsible for all Content that you upload, post, display, submit or otherwise transmit ("post") to the Mobile Marketplace. You agree to only post Content that you created or developed or that you have permission or authorization to post. You represent and warrant that you have sufficient rights to post Content and to grant to others the rights granted in your Content.</p>		<p>IBM may, in its sole discretion, for any reason or no reason at all, decline to post, access, delete, edit or remove any Content posted to the Mobile Marketplace, without permission of or notification to you as the poster of Content. IBM may (but is not obligated to) monitor the activities and postings of posters (or be alerted to the same) to the Mobile Marketplace for any reason.</p>		<p>By posting Content to Mobile Marketplace, you agree to allow anyone with access to the Mobile Marketplace to access such Content. Content may be made available to third party search engines on the Internet as well as through the Mobile Marketplace\'s search engine.</p>		<p>Your use of the Mobile Marketplace is subject to, and you acknowledge that you have read and agree to comply with, IBM\'s Acceptable Use Policy, located at <a href="http://www.ibm.com/services/e-business/aup.html">http://www.ibm.com/services/e-business/aup.html</a>, and any subsequent modification.</p>		<p>Personal information collected by IBM in connection with the Mobile Marketplace will be treated in accordance with the IBM Online Privacy Statement, located at <a href="http://www.ibm.com/privacy">http://www.ibm.com/privacy</a>, and any subsequent modification. IBM is not responsible for the privacy practices or content of any sites linked to from the Mobile Marketplace.</p>		<p>IBM IS NOT RESPONSIBLE FOR ANY CONTENT OR THE ACCURACY OF ANY CONTENT POSTED. CONTENT DOES NOT REPRESENT THE VIEWS OR OPINIONS OF IBM. IBM DOES NOT GUARANTEE THAT ANY CONTENT IS CORRECT OR ACCURATE AND THE MOBILE MARKETPLACE DOES NOT ENDORSE ANY CONTENT. THESE EXCLUSIONS ALSO APPLY TO IBM\'S SUPPLIERS.</p>		<p>USE OF THE MOBILE MARKETPLACE IS AT YOUR SOLE RISK. THE MOBILE MARKETPLACE AND CONTENT, INCLUDING BUT NOT LIMITED TO ALL MATERIALS, INFORMATION, PRODUCTS, SOFTWARE, SERVICES AND PROGRAMS PROVIDED ON THE MOBILE MARKETPLACE, ARE PROVIDED "AS IS," WITH NO WARRANTIES OR GUARANTEES WHATSOEVER. IBM EXPRESSLY DISCLAIMS TO THE FULLEST EXTENT PERMITTED BY LAW ALL EXPRESS, IMPLIED, STATUTORY, AND OTHER WARRANTIES, GUARANTEES, OR REPRESENTATIONS, INCLUDING, WITHOUT LIMITATION, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT OF PROPRIETARY AND INTELLECTUAL PROPERTY RIGHTS. IBM DOES NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE MOBILE MARKETPLACE WILL BE UNINTERRUPTED OR ERROR-FREE, THAT DEFECTS WILL BE CORRECTED, OR THAT THE MOBILE MARKETPLACE OR THE SERVER THAT MAKES THE MOBILE MARKETPLACE AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS. YOU UNDERSTAND AND AGREE THAT IF YOU DOWNLOAD OR OTHERWISE OBTAIN CONTENT, YOU DO SO AT YOUR OWN DISCRETION AND RISK AND THAT YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGES THAT MAY RESULT, INCLUDING LOSS OF DATA OR DAMAGE TO YOUR COMPUTER SYSTEM. THESE EXCLUSIONS ALSO APPLY TO IBM\'S SUPPLIERS. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF WARRANTIES, SO THE ABOVE EXCLUSIONS MAY NOT APPLY TO YOU.</p>		<p>IF YOU SUFFER ANY HARM OR LOSSES AS A RESULT OF YOUR USE OF THE MOBILE MARKETPLACE OR ANY CONTENT YOU MAY CEASE BEING A PARTICIPANT IN THE MOBILE MARKETPLACE, WHICH SHALL BE YOUR SOLE AND EXCLUSIVE REMEDY FOR SUCH HARM OR LOSSES. IN NO EVENT WILL IBM OR ITS SUPPLIERS BE LIABLE TO ANY PARTY FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES OF ANY TYPE WHATSOEVER RELATED TO OR ARISING FROM THE MOBILE MARKETPLACE OR ANY USE OF THE MOBILE MARKETPLACE, OR OF ANY SITE OR RESOURCE LINKED TO, REFERENCED, OR ACCESSED THROUGH THE MOBILE MARKETPLACE, OR FOR THE USE OR DOWNLOADING OF, OR ACCESS TO, ANY CONTENT, INCLUDING, WITHOUT LIMITATION, ANY LOST PROFITS, BUSINESS INTERRUPTION, LOST SAVINGS OR LOSS OF PROGRAMS OR OTHER DATA, EVEN IF IBM IS EXPRESSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THIS EXCLUSION AND WAIVER OF LIABILITY APPLIES TO ALL CAUSES OF ACTION, WHETHER BASED ON CONTRACT, WARRANTY, TORT, OR ANY OTHER LEGAL THEORIES.</p>		<p>IBM may, at any time, modify, change, discontinue or terminate the Mobile Marketplace in whole or in part. IBM may perform regularly scheduled maintenance during maintenance windows defined by IBM. Other scheduled and non-scheduled down times may occur. The Mobile Marketplace will not be available during these times.</p>		<p>You agree to indemnify IBM and its affiliates and their respective directors, officers, agents, contractors, suppliers and employees from and against losses, claims, costs and expenses, including attorney\'s fees, arising out of or relating to (i) your violation of these Terms of Use or violation of applicable law, (ii) your use or posting of any Content, and (iii) your activities on the Mobile Marketplace.</p>		<p>IBM may change these Terms of Use at any time. IBM will give notice of material changes to these Terms of Use by posting a notice outlining such changes on the Mobile Marketplace for thirty (30) days. Your continued use of the Mobile Marketplace after changes are made will constitute your acceptance of any changed or new terms. If you do not accept such changed or new terms, you may terminate this agreement as provided below.</p>		<p>You may terminate this agreement with the Mobile Marketplace at any time by removing yourself from the Mobile Marketplace or by providing written notice to IBM at massive@us.ibm.com and IBM will remove you from the Mobile Marketplace per your written request. IBM may, for any reason (such as violation of these Terms of Use or the Acceptable Use Policy) or no reason at all, terminate this agreement with you with or without notice. Upon termination, your Account ID and password will be deactivated and you will no longer be able to access the Mobile Marketplace.</p>		<p>You agree to comply with all applicable export (and reexport) and import laws, regulations, orders, and policies, including the Export Administration Regulations, , trade and economic sanctions maintained by the Treasury Department\'s Office of Foreign Asset Control and the International Traffic in Arms Regulations maintained by the Department of State.</p>		<p>IBM will respond to notices of alleged copyright infringement in accordance with IBM\'s Digital Millennium Copyright Act Notices located at <a href="http://www.ibm.com/legal/us/en/dmca.html">http://www.ibm.com/legal/us/en/dmca.html</a>, and any subsequent modification.</p>		<p>These Terms of Use will be governed by the substantive laws of the State of New York. Any proceedings to resolve disputes relating to these Terms of Use shall be brought in a U.S. Federal Court in the State of New York. Participants expressly waive the right to trial by jury in any matter which arises under these Terms of Use.</p>		<p>If any provision of these Terms of Use is found by competent judicial authority to be unenforceable in any respect, the validity of the remainder of these Terms of Use will be unaffected. These Terms of Use (and the documents referred to in these Terms of Use) constitute the entire agreement between you and IBM with respect to your use of the Mobile Marketplace.</p>',mf_apiEndpoint_addDesc:"Add an endpoint for this API. Add samples so that people can explore your API.",mf_apiEndpoint_input_placeholder:"e.g. https://www.yourhost.com/geo/:location/address",mf_apiEndpoint_description_placeholder:"Description",mf_apiEndpoint_viewSamples:"View Samples",mf_apiEndpoint_addSamples:"Add Samples",mf_apiAddEndpoint_addAnotherReference:"Add Another Endpoint",mf_apiEndpoint_method_get:"Get",mf_apiEndpoint_method_post:"Post",mf_apiEndpoint_method_put:"Put",mf_apiEndpoint_method_delete:"Delete",mf_yes:"Yes",mf_no:"No",mf_reviewComments_RequireEdits:"Require Edits",mf_reviewComments_ReviewersNotes:"Reviewer's Notes",mf_addcomment:"add comment",mf_reviewCommentsLabel:"Describe in detail what you require of the asset owner in order for you to approve this asset for publishing to their store",mf_sendrequest:"Send Request",mf_Endpoints:"Endpoints",mf_Information:"Information",mf_addDescription:"add description...",mf_unsupporetdSearchCharactors:"{0} are the currently unsupported characters for search.",mf_asset_editMode_indicator:"Edit Mode",mf_asset_readMode_indicator:"Read Mode",mf_search_showOnly:"Show only",mf_search_new:"New",mf_search_free:"Free",mf_search_sort_by:"Sort by",mf_search_sort_by_date_added:"Date Added",mf_search_sort_by_downloads:"Downloads",mf_search_sort_by_ranking:"Ranking",mf_search_anyLicType:"Any license type",mf_search_fullVer:"Full versions",mf_search_trialVer:"Trials versions",mf_search_betas:"Betas",mf_search_select_all:"Select All",mf_search_remove_all:"Remove All",mf_search_industries:"Industries",mf_search_license:"License",mf_search_version:"Version",mf_search_applied_filters:"Applied Filters:",mf_search_exploring:"Exploring {0} Asset Types",mf_search_searching:"Searching {0} Asset Types",mf_search_all_asset_types:"All",mf_search_result_count_zero_one:"{0} result",mf_search_result_count_many:"{0} results",mf_asset_explore:"Explore",mf_asset_learn:"Learn",mf_asset_signin:"Sign In",mf_asset_username:"USERNAME",mf_asset_password:"PASSWORD",mf_asset_rememberme:"Remember me",mf_asset_forgot_password:"Forgot password",mf_asset_Or:"Or",mf_asset_signwithtwiter:"Sign in with <b>twitter</b>",mf_asset_login:"Login",mf_asset_join:"Join",mf_asset_myassets:"My Assets",mf_search_searchResults:"SEARCH RESULTS",mf_search_mostRecent:"Most Recent",mf_search_Relevance:"Relevance",mf_grant_access_header:"Access to {0}",mf_grant_access_info:"The following companies are requesting or have access to this asset. Before granting access, confirm the purchase is complete with the sale representative:",mf_grant_access_text:"Grant Access",mf_grant_access_cancel:"Cancel",mf_grant_access_upload_license:"Upload license.txt",mf_grant_access_new_agreement:"If you want to update the agreement for this company, upload the new agreement here.",mf_grant_access_view_agreement:"View Agreement",mf_grant_access_developer_keys:"Developer Keys:",mf_grant_access_developer_key_usage:"Have instructions on how to use the Developer Keys (Optional)?",mf_grant_access_develoyerKeys_placeholder:"paste keys here, separated by commas",mf_grant_access_requested_by:"Requested by {0}",mf_grant_access_granted_on:"Access granted on {0}",mf_grant_access_company_access:"{0} company has access",mf_grant_access_companies_access:"{0} companies have access",mf_grant_access_requested_download:"{0} request for download",mf_grant_access_requested_downloads:"{0} requests for download",mf_grant_access_requested_key:"{0} request for keys",mf_grant_access_requested_keys:"{0} requests for keys",mf_grant_access_current_agreement:"Current agreement:",mf_grant_access_offered_to_anyone:"Anyone",mf_grant_access_offered_to_none:"No one",mf_grant_access_offered_to_company:"{0} users",mf_grant_access_cost_entitlements:"{0} entitlements offered",mf_asset_details_error_view_no_perms:"You don't have permission to view this page.",mf_asset_details_error_view_auth:"The requested page requires proper authorization for access.",mf_asset_details_error_view_suggestion:"We suggest that you return to the {0} home page or contact your administrator for help or report the issue to Massive Support.",mf_asset_details_error_view_marketplace:'<a href="#" class="mf_hyperlinktext" id="homepagelink">{0}</a>',mf_asset_details_error_view_logout:"Log out",mf_asset_validation_errors_overview:"Please fill in the following missing information and try publishing again...",mf_asset_validation_error_name_null:"Name your {0}",mf_asset_validation_error_license_not_found:"Upload Terms and Conditions as part of the Commercial Terms",mf_asset_validation_error_downloadble_not_found:"Add downloadable for your {0}",mf_copyright_statement:"Copyright 2013, IBM Corporation",mf_notfound_message:"Our apologies...",mf_notfound_details:"The page you requested cannot be displayed.<br/>Please check the URL and try again.",mf_nopermission_message:"Sorry! You don't have<br/>permission to view this page",mf_nopermission_details:"Your request could not be completed because this page requires proper authorization.<br/>Please check the credentials you are using and try again.",mf_servererror_message:"Sorry! Something's wrong",mf_servererror_details:"Looks like something went wrong with your request.<br/>We'll have it fixed as soon as we can!",mf_servererror_linktext:"In the meantime you can try to ",mf_servererror_linklabel:"reload this page",mf_accInvite_Store:"Mobile",mf_accInvite_Marketplace:"Marketplace",mf_accInvite_URInvited:"You're invited to publish mobile assets.",mf_inviteerror:"No matching records found. Either temporary password is incorrect or invitation url has expired.",mf_notmatchingpassword:"New password and confirm password do not match.",mf_notsameastemp:"New password should be different from the temporary password.",mf_requiredfield:"Value is required.",mf_shouldacceptterms:"You should accept to terms to participate and login.",mf_passwordpolicynotmatching:"Password must be a minimum of 8 characters with at least one number and one special character.",mf_InviteLabel:"Enter your invitation password and create your new password.",mf_accInviteHelp:"(?) This was provided to you in an email invitation.",mf_inviteAgree1:"I understand this is IBM confidential material and I agree to the",mf_inviteAgree2:"IBM Mobile Marketplace Terms of Use",mf_accInviteChangePwdBtn:"Change Password and Log In",mf_learn_about_marketplace:"About Marketplace",mf_learn_about_publishing:"Publishing",mf_learn_lorem_ipsum:"Lorem Ipsum",mf_myassets_all:"All Assets ({0})",mf_asset_reseller_approvebtn:"Approve",mf_asset_reseller_rejectbtn:"Reject",mf_asset_reseller_approvebtn_title:"Approve selected asset(s) for reselling",mf_asset_reseller_rejectbtn_title:"Reject selected asset(s) for reselling",mf_myassets_all:"All Assets ({0})",mf_myassets_draft:"Draft ({0})",mf_myassets_published:"Published ({0})",mf_myassets_add_asset:"Add Asset",mf_myasset_by_company:'<span class="by">by</span><span class="byCompany"> {0}</span>',mf_myasset_users:"<b>{0}</b> Users",mf_myasset_no_users:"No Users",mf_myasset_status_incomplete:"Incomplete",mf_myasset_status_complete:"Complete",mf_myasset_status_awaiting_approval:"Awaiting Approval",mf_myasset_status_published:"<b>Published</b>: {0}",mf_myasset_pick:"pick",mf_myasset_all_users:"All Users ({0})",mf_myasset_pending_requests:"Pending Access Requests <font color='red'>({0})</font>",mf_myasset_grant_access:"Grant Access",mf_myasset_revoke_access:"Revoke Access",mf_myasset_access_granted:"Access Granted {0}",mf_common_read_more:"Read More",mf_common_read_less:"Read Less",mf_myasset_remove:"Do you really want to remove the asset?",mf_myasset_unpublish:"Do you really want to unpublish the asset?",mf_common_yes:"yes",mf_common_no:"no",mf_signin_error:"Yikes. We don't recognize your username and/or password.",mf_forgot_pwd_txt:"We can send you a new password.",mf_request_new_pwd:"Request a New Password",mf_username_password_required:"Username and password are required fields.",mf_reset_password_sent:"We've sent password rest instruction to",mf_invalid_email:"Invalid email address.",mf_ratingcomment_metadata:"by {0}, {1}",mf_ratingcomment_comment_writer:"by {0}",mf_ratingcomment_averagerating:"Average based on {0} ratings",mf_ratingcomment_norating:"We haven't received any ratings for this asset.",mf_ratingcomment_revieweditor_writelink:"レビューを書く",mf_ratingcomment_revieweditor_editlink:"Edit my review",mf_ratingcomment_unsigned_error:'You must <a id="signin" class="link" href="#">sign in</a> to rate this asset.',mf_ratingcomment_reviews:"レビュー",mf_ratingcomment_first_toreview:"への最初の",mf_ratingcomment_assetrating_label:"Rate this asset:",mf_ratingcomment_title_placeholder:"Comment Title",mf_ratingcomment_postreview_btn:"Post Review",mf_ratingcomment_cancel_btn:"Cancel",mf_assetEditor_urlPlaceHolder:"Enter Provision URL",mf_assetEditor_secretPlaceHolder:"Enter Secret",mf_supplier_checkbox_help:"Open the promotion dialog",mf_supplier_removebtn:"Remove",mf_supplier_removedlabel:"Removed",mf_supplier_addedon:"Added on {0}",mf_supplier_storesize:"Stores {0} of {1}",mf_supplier_customertab:"Customers",mf_supplier_promotetab:"Promote",mf_supplier_notpromoting_label:"Hey, You're not promoting!",mf_supplier_promotebtn:'<div class="label">Promote Now</div><div>in more places</div>',mf_ratingcomment_averagerating_head:" {0} レビュー"}});Globalize.addCultureInfo("en",{messages:{mf_asset_Documentation:"Documentation",mf_asset_Support:"Support",mf_asset_byProvider:"by {0}",mf_asset_Download:"Download",mf_asset_Information:"INFORMATION",mf_asset_developer_keys_header:"Your Developer Keys",mf_asset_api_keys_entitlement_label:"You are entitled to:",mf_asset_api_keys_label:"Use the following developer keys for your company:",mf_asset_api_keys_usage_label:"Instructions left by the asset owner:",mf_asset_Type:"Type: ",mf_asset_Released:"Released: ",mf_asset_Version:"Version: ",mf_asset_Size:"Size: ",mf_asset_Platforms:"Platforms: ",mf_asset_Languages:"Languages: ",mf_asset_Requirements:"Requirements: ",mf_asset_Prerequisites:"Prerequisites: ",mf_asset_Download_Tooltip:"Login or Join the community to download. It's easy and we will keep track of your downloads for you!",mf_asset_moredescription:"...More",mf_asset_lessdescription:"...Less",mf_asset_CommercialTerms:"Commercial Terms",mf_asset_CommercialMsg:"Set your audience, pricing and license information. ",mf_asset_sales_phone_no:"The Phone Number should start with a plus sign, followed by the country code and national number.",mf_asset_sales_email:"Please enter a valid email address.",mf_asset_licensetype:"License type:",mf_asset_character_left:"Characters left",mf_asset_contact:"Sales contact: ",mf_asset_service_plans:"Service plans: ",mf_asset_you_are_almost_there:"You are almost there!",mf_asset_let_are_interested:"Let {0} know you're interested in purchasing {1} for your company. Enter any questions or requests you have below.",mf_asset_leave_message:"Leave {0} a message...",mf_asset_let_select_plan:"Select a service plan for your purchase.",mf_asset_send_request:"Send Request",mf_asset_submit_purchase_request:"Submit",mf_asset_to_purchase:"Contact {0} to Purchase",mf_asset_select_plan_to_purchase:"Select Service Plan to Purchase",mf_asset_purchase:"Purchase",mf_asset_purchase_requested:"Purchase Requested",mf_asset_subscribe_after_purchase:"Subscribe",mf_asset_purchase_more_plan:"Purchase more",mf_asset_request_entitlement:"Request Entitlement",mf_asset_requested_entitlement:"Entitlement Requested",mf_asset_request_new_entitlement:"Request New Entitlement",mf_asset_get_your_keys:"Get Your Keys",mf_asset_request_developer_key:"Request Developer Keys",mf_asset_select_entitlement_plan:"Please select the Entitlement plan you are interested in:",mf_asset_purchase_tooltip_msg:"Your request has been sent to {0}.He/she will contact you shortly",mf_asset_to_continue_download:"To continue downloading the asset, you must agree to the terms of the license agreement",mf_asset_purchased_by:"Purchased by {0}",mf_asset_for:"Who is your asset for?",mf_asset_disagree:"I disagree",mf_asset_cancel:"Cancel,",mf_asset_iagree:"I agree",mf_asset_anyone:"Anyone",mf_asset_company:"Only people in company({0})",mf_asset_is_a:"The asset is a...",mf_asset_full_version:"Full version",mf_asset_trial_version:"Trial version",mf_asset_prerelease_version:"Beta (Pre-release)",mf_asset_beta_version:"Beta",mf_asset_api_sales_message:"Please fill in the contact information for the Sales Representative that you would like the API consumers to contact in order to get a developer key.",mf_asset_entitlement_msg:"What are the Entitlements and how much will they cost?",mf_asset_no_asset_selected:"No Asset version is selected",mf_asset_no_cost:"Asset has no cost",mf_asset_entitlement_blank:"Provide Entitlement Information. It is mandatory information.",mf_asset_add_another_entitlement:"Add Another Entitlement",mf_asset_entitlements_offered:"Entitlements offered:",mf_asset_provide_sale_info:"Provide complete sales representative information e.g. name, email and phone number",mf_asset_view_license:"View license",mf_asset_entitlement:"Free - 500 Calls per Minute, Cost : Free",mf_asset_placeholder_cost:"Asset Cost",mf_asset_price:"Price",mf_asset_name:"Name",mf_asset_email_address:"Email Address",mf_asset_phone_number:"Phone Number",mf_asset_will_cost:"How much will it cost?",mf_asset_free:"Free",mf_asset_ThisAssetIsfree:"This asset is free",mf_asset_ThisAssetCanBePurchasedFor:"This asset can be purchased for",mf_asset_free_to_try:"Free to Try,",mf_asset_to_buy:"to buy",mf_asset_who_handle_sale:"Who will complete the sale?",mf_asset_LicenseType:"License Type: ",mf_asset_Cost:"Cost: ",mf_asset_commerical_attach_agreement:"Next, attach the license agreement you are offering for this asset. It should include permission to use, terms of use, and your commitments(service level agreement).",mf_asset_Agreement:"Agreement: ",mf_asset_onlytxtsupported:"Only Text(*.txt) file is supported",mf_asset_based_on_choices:"Based on your choices",mf_asset_only_your_company:"Only your company",mf_asset_will_able_to_see:"will be able to see in the store",mf_asset_those_who_paid:"Those who paid",mf_asset_will_able_to_use_it:"will be able to use it.",mf_asset_uploadagreement:"upload agreement(.txt)",mf_asset_ReadyToPurchase:"Ready to purchase?",mf_asset_SalesContact:"Contact ",mf_asset_cancelPublish:"Cancel Publish",mf_asset_approveNpublish:"Approve & Publish",mf_asset_requireEdits:"Require Edits",mf_asset_sendEditRequest:"Send Request",mf_asset_reviewerNotes:"Read Reviewer's Notes",mf_asset_awaitingApproval:"Your asset is under review. Below is how it will appear in the store if published.",mf_asset_approval:"This is how the asset will appear in the store.",mf_asset_actionRequired:"Updates are required before your asset can be published.",mf_asset_reviewAsset:"This is how the asset will appear in the store.",mf_asset_addThumbnail:"add thumbnail",mf_asset_provide_summary:"(Provide a summary of your Asset)",mf_asset_uploadfile:"Upload File",mf_asset_choose:"choose",mf_asset_change:"Change",mf_asset_changes:"Change...",mf_asset_addLicense:"add license",mf_asset_add:"add",mf_asset_lanPlaceHolder:"e.g. Java, JavaScript",mf_asset_platformPlaceHolder:"e.g. iOS or Android",mf_asset_requirementPlaceHolder:"e.g. Worklight 5.0.5",mf_asset_addLink:"add link to company website",mf_egWebsite:"eg: http://mycompany.com",mf_asset_addDownloadable:"add downloadable",mf_asset_upload_package:"Upload Package",mf_asset_deleteDownloadable:"delete downloadable",mf_asset_dlDownloadable:"download",mf_asset_upload:"Upload",mf_asset_additionalDocumentation:"additional documentation",mf_asset_additional_artwork:"Additional ArtWork",mf_asset_detailed_feature:"Detailed Feature Description",mf_asset_clear_all_text:"Clear all text",mf_asset_optional:"(Optional)",mf_asset_background_color:"Background Color",mf_asset_saved_seconds_ago:"Saved {0} Seconds Ago",mf_asset_saved_days_ago:"Saved {0} Days Ago",mf_asset_saved_minutes_ago:"Saved {0} Minutes Ago",mf_asset_saved_hrs_ago:"Saved {0} Hrs Ago",mf_asset_ios:"iOS",mf_asset_android:"Android",mf_asset_blackberry:"Blackberry",mf_asset_windowsphone:"Windows Phone",mf_asset_duplicateDocumentation:"A file with same name {0} already being uploaded. Either delete the old file, or rename the new file to upload.",mf_assetEditor_namePlaceHolder_api:"Name Your API",mf_assetEditor_api:"API",mf_assetEditor_authorBtn:"Authors",mf_assetEditor_publishBtn:"Publish",mf_assetEditor_publishAgainBtn:"Publish Again",mf_assetEditor_public:"Public",mf_assetEditor_private:"Private",mf_assetEditor_publicHint:"Click to make public. This allows anyone outside of your company to find and access this asset.",mf_assetEditor_privateHint:"Click to make private. This only allows people from your company to find and access this asset.",mf_assetEditor_favoriteHint:"Once published, users will be able to save your asset as a favorite.",mf_assetEditor_supportHint:"Once published, you will be able to communicate with your consumers in a forum build for gathering feedback.",mf_assetEditor_cancelHint:"Need to make more edits? Simply cancel this publish, make more edits, and republish.",mf_assetEditor_feedbackHint:"Once published you'll start to see stats appear showing how people are interacting.",mf_mystore_mymarketplace:"My Marketplace",mf_mystore_add_api:"Add Web API",mf_mystore_addAsset:"Add Asset",mf_mystore_publishedinstore:"Published in the Store",mf_mystore_draftsinprogress:"Drafts in Progress",mf_mystore_lastupdated:"LAST UPDATED",mf_mystore_DraftAssets:"DRAFT ASSETS({0})",mf_mystore_PublishedAssets:"PUBLISHED ASSETS({0})",mf_mystore_awaitingapproval:"Awaiting Approval",mf_mystore_actionrequired:"Action Required",my_store_licenceType:"LICENSE TYPE",my_store_cost:"COST",my_store_offeredTo:"OFFERED TO",my_store_grantedTo:"LICENSE GRANTED TO",my_store_delete_asset_help_text:"Unpublish from the store and return to draft state for edits",my_store_confirm_popup_text:"Do you really want to {0} the asset?",my_store_item_remove_text:"remove",my_store_item_unpublish_text:"unpublish",mf_home_join_marketplace:"<b>Join</b> Marketplace",mf_home_join_username:"USERNAME",mf_home_join_fullname:"FULL NAME",mf_home_join_password:"PASSWORD",mf_home_join_confirm_password:"CONFIRM PASSWORD",mf_home_join_email:"EMAIL",mf_home_join_user_name:"User Name",mf_home_join_full_name:"Full Name",mf_home_join_email_company:"email@company.com",mf_home_join_sm_password:"Password",mf_home_join_sm_confirm_password:"Confirm Password",mf_home_join_invalid_email:"Please enter a valid email address.",mf_home_byclicking_join:"By clickin Join Now, You agree to the",mf_home_marketplace_terms:"Marketplace Terms and Conditions",mf_home_join_now:"Join Now",mf_home_join_publish_assets:"Publish Assets",mf_home_slider_worklight_plugin:"Worklight Plugin",mf_home_slider_worklight_plugin_description:"It provides an open, comprehensive and advanced<br> mobile application platform to build, <br>run and manage mobile applications.",mf_home_slider_assets_to_share:"Have Mobile Assets to Share?",mf_home_slider_assets_to_share_content:"There's no need to find people on your own.<br>Take advantage of the growing marketplace.<br>Create and share mobile components, Web APIs and more...",mf_home_join_publish_assets_msg:"adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsad adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsad",mf_home_join_favorite:"Favorite, Rate & Comment",mf_home_join_favorite_msg:"Favosdfds dfd sa fdsfdsfds sfds dsfds ffdsf dsfds fdsfdfdsfd sfrite, Rate & Comment adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsad",mf_home_join_get_exclusive:"Get Exclusive Free Downloads",mf_home_join_get_exclusive_msg:"Gedsf  sfs t Excsfds sfd sfd lusive Frdsfd  sdee Dow sdf nloa sfd dsf d adsddssa dsa sad dsadsa dsadsad sadsa dsads adsads adsadsad adsa sadsads",mf_home_ForgeYourProject:"Forge your project",mf_home_accelerate:"Accelerate with mobile building blocks.",mf_home_discover:"Discover cloud APIs.",mf_home_haveMobileContent:"Have Mobile Assets to Share?",mf_home_featured:"Featured",mf_home_new:"New",mf_home_seeall:"See All",mf_home_build:"There's no need to find people on your own.",mf_home_share:"Take advantage of the growing marketplace.",mf_home_makeMoney:"Create and share mobile components, Web APIs and more...",mf_home_learnAboutPublish:"Learn About Publishing >",mf_footer_mobileMarketplace:"MobileFirst Marketplace",mf_footer_productTour:"Product Tour",mf_footer_publishers:"Publishers",mf_footer_support:"support",mf_footer_help:"Help",mf_footer_about_mobile:"about IBM MobileFirst",mf_footer_about_ibm_massive:"about IBM massive",mf_footer_termsOfUse:"Terms of Use",mf_footer_contactUs:"Contact Us",mf_footer_u:"&nbsp;",mf_footer_poweredByIBMMarketplace:"powered by IBM Marketplace",mf_footer_poweredByIBMMassive:"Powered by IBM Massive",mf_footer_wantAMarketplace:"Want a marketplace?",mf_footer_customers:"Customers",mf_learnaboutpublishing_whyPublish:"Why Publish?",mf_learnaboutpublishing_leverage:"Leverage IBM's reach in the enterprise mobile market.",mf_learnaboutpublishing_reason1:"<p>The largest companies in the world rely on IBM technology to power their mobile applications. Publishing to the marketplace allows you to tap into this vast and growing market.</p>",mf_learnaboutpublishing_reason2:"<p>In the early preview of the marketplace we are focusing on assets that mobile developers will find useful.</p>",mf_learnaboutpublishing_whatCanPublish:"What Can You Publish?",mf_learnaboutpublishing_readyToPublish:"How to Publish",mf_learnaboutpublishing_readyToPublishEnter:"Go to <a id='myMarketplaceLink' class='learnAboutPublishingLinkText' href='#mymarketplace'>My Marketplace</a> (use the drop down menu from the Username)",mf_learnaboutpublishing_readyToPublishClickAddAsset:"Click Add Asset.<br />Choose what you want to add to the store",mf_learnaboutpublishing_readyToPublishBuildStore:"Build the store page for your asset and click Publish when ready.",mf_learnaboutpublishing_readyToPublishPublishAsset:"After your asset is reviewed, it will be published to the store",mf_learnaboutpublishing_mobileComponents:"Mobile Components",mf_learnaboutpublishing_mobileComponentsDesc:"<p>A mobile component is a reusable library that developers can add to their apps. It could be a client-side library or server runtime blocks. These libraries can address foundational functionalities such as login or payments. They can be composed of various elements such as non-visual runtime objects, Visual components, Integration adapters, UI Screen packages, and more.</p><p>For example, a banking app could use an image processing library for processing checks (non-visual runtime object) and an integration adapter to connect to a banking system for verification. Assembling these reusable mobile components, developers can build engaging mobile apps in no time.</p><p>A Mobile Component helps developers engaging the customer, provide value added services, and understand how consumers use their mobile apps. All while simplifying and speeding up delivery of high quality mobile apps across multiple devices.</p>",mf_learnaboutpublishing_mobileAppTemplates:"Mobile App Templates",mf_learnaboutpublishing_mobileAppTemplatesDesc:"<p>A mobile template allows developers to quickly get started with their app development without starting from scratch. Modify the template mobile app to provide value added services, add elements that are consistent and reflect your brand.</p><p>Mobile can be a disruptive technology, and templates give you the opportunity to increase business and enhance customer satisfaction. Given the growing speed with which mobile apps are released, developers want a jump start to their new app development with flexible functionality that can be customized for the specific needs of their enterprise.</p>",mf_learnaboutpublishing_webAPIs:"Web APIs (Coming Soon)",mf_learnaboutpublishing_webAPIsDesc:"<p>From stores to 1-800 numbers to Web sites, companies are using APIs to deliver products and services through new devices and channels. </p><p>APIs can open your company to new markets by allowing external app developers to easily leverage, publicize, and aggregate assets for broad based consumption. APIs allow you to exploit the talent of millions of developers building their apps with your assets, data, and services - saving time and reducing costs. Drive revenue through new channels, drive brand recognition by allowing developers to build engaging apps, and integrate with partners to increase customer satisfaction. </p><p>Let's say your API facilitates payments for in-app purchases and has geo-location data. Mobile app developers can then easily use this APIs in addition to other mobile components & templates to speed up their development. All while building a service with real value.</p>",mf_learnaboutpublishing_developmentTools:"Development Tools",mf_learnaboutpublishing_developmentToolsDesc:"<p>Developer tools are add-ons to the IBM MobileFirst development platform that help in the development process. These tools extend and enhance the platform's capabilities.  They empower the developers to do more with less, maximizing time to market with a continuously changing technology.</p><p>For example, the store offers a <a class='learnAboutPublishingLinkText learnAboutPublishingWorklightUrl' href='{0}'>Worklight plugin</a> that helps developers package a mobile component or mobile template for adding to this store.  You can also create something as simple as a command line utility, such as one that allows developers to publish mobile apps to a runtime container.  Developed a tool that makes your life easier?  Consider publishing it to the store for others!</p>",mf_learnaboutpublishing_want_worklight_component:"Want to create a mobile component using IBM Worklight?",mf_learnaboutpublishing_want_worklight_template:"Want to create a mobile template using IBM Worklight?",mf_learnaboutpublishing_learnmore:"Download the Worklight plugin for Eclipse",mf_header_mymarketplace:"My Marketplace",mf_header_search:"Search",mf_header_administration:"Administration",mf_header_signout:"Signout",mf_header_backtomarketplace:"< Back to ",mf_header_backtodraft:"< Back to <b>draft</b>",mf_header_preview:"Preview",mf_header_publish:"Publish",mf_header_changepassword:"Change Password",mf_header_unsupporetdSearchCharactors:"{0} are the currently unsupported characters for search.",mf_emptyDrafts_text:"You are not working on any new assets for the store right now.",mf_emptyPublished_text:"Your don't have any assets available in the store right now.",mf_getStarted:"Get started.",mf_getStarted_onNewDraft:"Get started on a new draft.",mf_isDraft_readyToPublish:"Is a draft ready to publish?",mf_register_disclaimer:'<h1><center>Terms of Use for IBM Mobile Marketplace - Early Release</center> </h1><h2>Terms of Use</h2><p><b>PLEASE READ THE FOLLOWING TERMS OF USE CAREFULLY. BY CHECKING THE "I AGREE" BOX ON THE REGISTRATION PAGE, OR OTHERWISE USING THE IBM MOBILE MARKETPLACE, YOU AGREE TO THE TERMS OF THIS AGREEMENT. IF YOU ARE ACCEPTING THESE TERMS ON BEHALF OF AN ENTERPRISE, YOU REPRESENT AND WARRANT THAT YOU HAVE FULL AUTHORITY TO BIND THAT ENTERPRISE TO THESE TERMS. IF YOU DO NOT AGREE TO THESE TERMS, DO NOT ACCESS, BROWSE OR CHECK THE "I AGREE" BOX</b>.</p><p>The IBM Mobile Marketplace web site (with a home page located at <a href="{0}">{0}</a>) (referred to herein as the "Mobile Marketplace") provides access to a variety of content that you can license, such as: information, software and data, including without limitation, personal information, contact data, ideas, applications or applets; application or applet add-ons; code or code libraries; programs, web APIs; software tools; web add-ons, hypertext markup language files, language files, scripts, articles, recordings, sound, video, music, graphics, images, servlets, speech files and other resources, including all materials and documentation related to the foregoing (collectively referred to as "Content"). The Content is provided by IBM or a third party, as identified in the meta information describing the Content, and is available under the terms and conditions associated with the Content as provided by IBM or the third party. Do not access, download or use Content if you do not agree to abide by its terms and conditions.</p><p>The Mobile Marketplace and Content, unless otherwise noted in the associated terms and conditions for such Content, are "Early Release" which means that they are not formally released or commercially available, are provided for testing purposes only and may still be under development and therefore, potentially unreliable. The term does not imply that they will be formally released or made commercially available. Neither IBM nor any third party Content provider warrants that should any Early Release item be formally released or made commercially available that it will be similar to, or compatible with, Early Release version(s).</p><p>While the Mobile Marketplace and Content are in the Early Release phase, subject to your compliance with these Terms of Use, IBM grants you a revocable, non-exclusive, non-transferable, limited right to access the Mobile Marketplace solely for test purposes and to provide feedback to IBM, which may include data, suggestions and/or written materials related to the use of the Mobile Marketplace ("Feedback"). IBM will have the right, for any purpose, to use, reproduce, modify, disclose, distribute, and make derivative works of any Feedback you provide. You may not copy, reproduce, upload, post, modify, transmit, mirror on another site or in any other media, distribute or create derivative works of the Mobile Marketplace.</p><p>IBM considers the Mobile Marketplace (but not the Content) to be confidential. You agree to treat the Mobile Marketplace in accordance with the confidentiality agreement between IBM and you with respect to the Mobile Marketplace.</p><p>You will register for a Mobile Marketplace account ("Account") by establishing an Account identification ("Account ID") and password. You acknowledge that you are at least 18 years old and the information you submit in your registration with the Mobile Marketplace (name, e-mail address and other information) is accurate and current. You are responsible for managing and keeping your Account information current. Your Account information will be included in your Mobile Marketplace profile, unless you request that it be suppressed. You may include, if you so choose, additional information in your Mobile Marketplace profile. You agree to maintain the security of, and not allow others to use, your Account identification or password. You are responsible for the actions of any person or entity that accesses the Mobile Marketplace or otherwise uses your Account, whether or not expressly authorized by you.</p><p>You are responsible for your profile and activities on the Mobile Marketplace, and it is up to you to decide what information you disclose about yourself on the Mobile Marketplace. For any Personal Data (as defined below) you provide in connection with your registration (including as part of your Account profile) or your use of the Mobile Marketplace, you are responsible for obtaining consents from the relevant persons to allow IBM to, and hereby grant IBM the rights to store, use, and transfer such Personal Data as part of our business relationship anywhere IBM does business, in accordance with the IBM Online Privacy Statement, located at <a href="http://www.ibm.com/privacy">http://www.ibm.com/privacy</a>, and any subsequent modification. At any time, you may request by written notice to IBM that any Personal Data you provide is corrected or removed from your Account information and IBM will correct or remove such Personal Data per your written request, but removal may prevent access to the Mobile Marketplace. For purposes of these Terms of Use, "Personal Data" means any information that can be used to identify a specific individual, such as name, email address, home address, or phone number that is provided to IBM to store, process, or transfer on your behalf.</p><p>The Mobile Marketplace contains proprietary notices and copyright information, which you must observe and follow. IBM and its suppliers, including Content providers, own the Mobile Marketplace and all Content therein. You agree that title to, ownership of and all rights in and to patents, copyrights, trademarks, and all other intellectual property rights in the Mobile Marketplace and Content, and any copy or part of the Content, will remain with IBM and its suppliers.</p><p>IBM may allow you to submit Content to the Mobile Marketplace. Any such Content submissions will be in accordance with the Content Submission Agreement located at <a href="{0}/tou/CSAgreementMobileMP.html">{0}/tou/CSAgreementMobileMP.html</a> and when you submit Content to the Mobile Marketplace, you agree to the Content Submission Agreement. You, and not IBM, are, and remain, responsible for all Content that you upload, post, display, submit or otherwise transmit ("post") to the Mobile Marketplace. You agree to only post Content that you created or developed or that you have permission or authorization to post. You represent and warrant that you have sufficient rights to post Content and to grant to others the rights granted in your Content.</p><p>IBM may, in its sole discretion, for any reason or no reason at all, decline to post, access, delete, edit or remove any Content posted to the Mobile Marketplace, without permission of or notification to you as the poster of Content. IBM may (but is not obligated to) monitor the activities and postings of posters (or be alerted to the same) to the Mobile Marketplace for any reason.</p><p>By posting Content to Mobile Marketplace, you agree to allow anyone with access to the Mobile Marketplace to access such Content. Content may be made available to third party search engines on the Internet as well as through the Mobile Marketplace\'s search engine.</p><p>Your use of the Mobile Marketplace is subject to, and you acknowledge that you have read and agree to comply with, IBM\'s Acceptable Use Policy, located at <a href="http://www.ibm.com/services/e-business/aup.html">http://www.ibm.com/services/e-business/aup.html</a>, and any subsequent modification.</p><p>Personal information collected by IBM in connection with the Mobile Marketplace will be treated in accordance with the IBM Online Privacy Statement, located at <a href="http://www.ibm.com/privacy">http://www.ibm.com/privacy</a>, and any subsequent modification. IBM is not responsible for the privacy practices or content of any sites linked to from the Mobile Marketplace.</p><p>IBM IS NOT RESPONSIBLE FOR ANY CONTENT OR THE ACCURACY OF ANY CONTENT POSTED. CONTENT DOES NOT REPRESENT THE VIEWS OR OPINIONS OF IBM. IBM DOES NOT GUARANTEE THAT ANY CONTENT IS CORRECT OR ACCURATE AND THE MOBILE MARKETPLACE DOES NOT ENDORSE ANY CONTENT. THESE EXCLUSIONS ALSO APPLY TO IBM\'S SUPPLIERS.</p><p>USE OF THE MOBILE MARKETPLACE IS AT YOUR SOLE RISK. THE MOBILE MARKETPLACE AND CONTENT, INCLUDING BUT NOT LIMITED TO ALL MATERIALS, INFORMATION, PRODUCTS, SOFTWARE, SERVICES AND PROGRAMS PROVIDED ON THE MOBILE MARKETPLACE, ARE PROVIDED "AS IS," WITH NO WARRANTIES OR GUARANTEES WHATSOEVER. IBM EXPRESSLY DISCLAIMS TO THE FULLEST EXTENT PERMITTED BY LAW ALL EXPRESS, IMPLIED, STATUTORY, AND OTHER WARRANTIES, GUARANTEES, OR REPRESENTATIONS, INCLUDING, WITHOUT LIMITATION, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT OF PROPRIETARY AND INTELLECTUAL PROPERTY RIGHTS. IBM DOES NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE MOBILE MARKETPLACE WILL BE UNINTERRUPTED OR ERROR-FREE, THAT DEFECTS WILL BE CORRECTED, OR THAT THE MOBILE MARKETPLACE OR THE SERVER THAT MAKES THE MOBILE MARKETPLACE AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS. YOU UNDERSTAND AND AGREE THAT IF YOU DOWNLOAD OR OTHERWISE OBTAIN CONTENT, YOU DO SO AT YOUR OWN DISCRETION AND RISK AND THAT YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGES THAT MAY RESULT, INCLUDING LOSS OF DATA OR DAMAGE TO YOUR COMPUTER SYSTEM. THESE EXCLUSIONS ALSO APPLY TO IBM\'S SUPPLIERS. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF WARRANTIES, SO THE ABOVE EXCLUSIONS MAY NOT APPLY TO YOU.</p><p>IF YOU SUFFER ANY HARM OR LOSSES AS A RESULT OF YOUR USE OF THE MOBILE MARKETPLACE OR ANY CONTENT YOU MAY CEASE BEING A PARTICIPANT IN THE MOBILE MARKETPLACE, WHICH SHALL BE YOUR SOLE AND EXCLUSIVE REMEDY FOR SUCH HARM OR LOSSES. IN NO EVENT WILL IBM OR ITS SUPPLIERS BE LIABLE TO ANY PARTY FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES OF ANY TYPE WHATSOEVER RELATED TO OR ARISING FROM THE MOBILE MARKETPLACE OR ANY USE OF THE MOBILE MARKETPLACE, OR OF ANY SITE OR RESOURCE LINKED TO, REFERENCED, OR ACCESSED THROUGH THE MOBILE MARKETPLACE, OR FOR THE USE OR DOWNLOADING OF, OR ACCESS TO, ANY CONTENT, INCLUDING, WITHOUT LIMITATION, ANY LOST PROFITS, BUSINESS INTERRUPTION, LOST SAVINGS OR LOSS OF PROGRAMS OR OTHER DATA, EVEN IF IBM IS EXPRESSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THIS EXCLUSION AND WAIVER OF LIABILITY APPLIES TO ALL CAUSES OF ACTION, WHETHER BASED ON CONTRACT, WARRANTY, TORT, OR ANY OTHER LEGAL THEORIES.</p><p>IBM may, at any time, modify, change, discontinue or terminate the Mobile Marketplace in whole or in part. IBM may perform regularly scheduled maintenance during maintenance windows defined by IBM. Other scheduled and non-scheduled down times may occur. The Mobile Marketplace will not be available during these times.</p><p>You agree to indemnify IBM and its affiliates and their respective directors, officers, agents, contractors, suppliers and employees from and against losses, claims, costs and expenses, including attorney\'s fees, arising out of or relating to (i) your violation of these Terms of Use or violation of applicable law, (ii) your use or posting of any Content, and (iii) your activities on the Mobile Marketplace.</p><p>IBM may change these Terms of Use at any time. IBM will give notice of material changes to these Terms of Use by posting a notice outlining such changes on the Mobile Marketplace for thirty (30) days. Your continued use of the Mobile Marketplace after changes are made will constitute your acceptance of any changed or new terms. If you do not accept such changed or new terms, you may terminate this agreement as provided below.</p><p>You may terminate this agreement with the Mobile Marketplace at any time by removing yourself from the Mobile Marketplace or by providing written notice to IBM at massive@us.ibm.com and IBM will remove you from the Mobile Marketplace per your written request. IBM may, for any reason (such as violation of these Terms of Use or the Acceptable Use Policy) or no reason at all, terminate this agreement with you with or without notice. Upon termination, your Account ID and password will be deactivated and you will no longer be able to access the Mobile Marketplace.</p><p>You agree to comply with all applicable export (and reexport) and import laws, regulations, orders, and policies, including the Export Administration Regulations, , trade and economic sanctions maintained by the Treasury Department\'s Office of Foreign Asset Control and the International Traffic in Arms Regulations maintained by the Department of State.</p><p>IBM will respond to notices of alleged copyright infringement in accordance with IBM\'s Digital Millennium Copyright Act Notices located at <a href="http://www.ibm.com/legal/us/en/dmca.html">http://www.ibm.com/legal/us/en/dmca.html</a>, and any subsequent modification.</p><p>These Terms of Use will be governed by the substantive laws of the State of New York. Any proceedings to resolve disputes relating to these Terms of Use shall be brought in a U.S. Federal Court in the State of New York. Participants expressly waive the right to trial by jury in any matter which arises under these Terms of Use.</p><p>If any provision of these Terms of Use is found by competent judicial authority to be unenforceable in any respect, the validity of the remainder of these Terms of Use will be unaffected. These Terms of Use (and the documents referred to in these Terms of Use) constitute the entire agreement between you and IBM with respect to your use of the Mobile Marketplace.</p>',mf_apiEndpoint_addDesc:"Add an endpoint for this API. Add samples so that people can explore your API.",mf_apiEndpoint_input_placeholder:"e.g. https://www.yourhost.com/geo/:location/address",mf_apiEndpoint_description_placeholder:"Description",mf_apiEndpoint_viewSamples:"View Samples",mf_apiEndpoint_addSamples:"Add Samples",mf_apiAddEndpoint_addAnotherReference:"Add Another Endpoint",mf_apiEndpoint_method_get:"Get",mf_apiEndpoint_method_post:"Post",mf_apiEndpoint_method_put:"Put",mf_apiEndpoint_method_delete:"Delete",mf_yes:"Yes",mf_no:"No",mf_reviewComments_RequireEdits:"Require Edits",mf_reviewComments_ReviewersNotes:"Reviewer's Notes",mf_addcomment:"add comment",mf_reviewCommentsLabel:"Describe in detail what you require of the asset owner in order for you to approve this asset for publishing to their store",mf_sendrequest:"Send Request",mf_Endpoints:"Endpoints",mf_Information:"Information",mf_addDescription:"add description...",mf_unsupporetdSearchCharactors:"{0} are the currently unsupported characters for search.",mf_asset_editMode_indicator:"Edit Mode",mf_asset_readMode_indicator:"Read Mode",mf_search_showOnly:"Show only",mf_search_new:"New",mf_search_free:"Free",mf_search_sort_by:"Sort by",mf_search_sort_by_date_added:"Date Added",mf_search_sort_by_downloads:"Downloads",mf_search_sort_by_ranking:"Ranking",mf_search_anyLicType:"Any license type",mf_search_fullVer:"Full versions",mf_search_trialVer:"Trials versions",mf_search_betas:"Betas",mf_search_select_all:"Select All",mf_search_remove_all:"Remove All",mf_search_industries:"Industries",mf_search_license:"License",mf_search_version:"Version",mf_search_applied_filters:"Applied Filters:",mf_search_exploring:"Exploring {0} Asset Types",mf_search_searching:"Searching {0} Asset Types",mf_search_all_asset_types:"All",mf_search_result_count_zero_one:"{0} result",mf_search_result_count_many:"{0} results",mf_asset_explore:"Explore",mf_asset_learn:"Learn",mf_asset_signin:"Sign In",mf_register:"Register",mf_asset_username:"USERNAME",mf_asset_password:"PASSWORD",mf_asset_rememberme:"Remember me",mf_asset_forgot_password:"Forgot password",mf_asset_Or:"Or",mf_asset_signwithtwiter:"Sign in with <b>twitter</b>",mf_asset_login:"Login",mf_asset_join:"Join",mf_asset_myassets:"My Assets",mf_search_searchResults:"SEARCH RESULTS",mf_search_mostRecent:"Most Recent",mf_search_Relevance:"Relevance",mf_grant_access_header:"Access to {0}",mf_grant_access_info:"The following companies are requesting or have access to this asset. Before granting access, confirm the purchase is complete with the sale representative:",mf_grant_access_text:"Grant Access",mf_grant_access_cancel:"Cancel",mf_grant_access_upload_license:"Upload license.txt",mf_grant_access_new_agreement:"If you want to update the agreement for this company, upload the new agreement here.",mf_grant_access_view_agreement:"View Agreement",mf_grant_access_developer_keys:"Developer Keys:",mf_grant_access_developer_key_usage:"Have instructions on how to use the Developer Keys (Optional)?",mf_grant_access_develoyerKeys_placeholder:"paste keys here, separated by commas",mf_grant_access_requested_by:"Requested by {0}",mf_grant_access_granted_on:"Access granted on {0}",mf_grant_access_company_access:"{0} company has access",mf_grant_access_companies_access:"{0} companies have access",mf_grant_access_requested_download:"{0} request for download",mf_grant_access_requested_downloads:"{0} requests for download",mf_grant_access_requested_key:"{0} request for keys",mf_grant_access_requested_keys:"{0} requests for keys",mf_grant_access_current_agreement:"Current agreement:",mf_grant_access_offered_to_anyone:"Anyone",mf_grant_access_offered_to_none:"No one",mf_grant_access_offered_to_company:"{0} users",mf_grant_access_cost_entitlements:"{0} entitlements offered",mf_asset_details_error_view_no_perms:"You don't have permission to view this page.",mf_asset_details_error_view_auth:"The requested page requires proper authorization for access.",mf_asset_details_error_view_suggestion:"We suggest that you return to the {0} home page or contact your administrator for help or report the issue to Massive Support.",mf_asset_details_error_view_marketplace:'<a href="#" class="mf_hyperlinktext" id="homepagelink">{0}</a>',mf_asset_details_error_view_logout:"Log out",mf_asset_validation_errors_overview:"Please fill in the following missing information and try publishing again...",mf_asset_validation_error_name_null:"Name your {0}",mf_asset_validation_error_license_not_found:"Upload Terms and Conditions as part of the Commercial Terms",mf_asset_validation_error_downloadble_not_found:"Add downloadable for your {0}",mf_copyright_statement:"Copyright 2013, IBM Corporation",mf_notfound_message:"Our apologies...",mf_notfound_details:"The page you requested cannot be displayed.<br/>Please check the URL and try again.",mf_nopermission_message:"Sorry! You don't have<br/>permission to view this page",mf_nopermission_details:"Your request could not be completed because this page requires proper authorization.<br/>Please check the credentials you are using and try again.",mf_servererror_message:"Sorry! Something's wrong",mf_servererror_details:"Looks like something went wrong with your request.<br/>We'll have it fixed as soon as we can!",mf_servererror_linktext:"In the meantime you can try to ",mf_servererror_linklabel:"reload this page",mf_accInvite_Store:"Mobile",mf_accInvite_Marketplace:"Marketplace",mf_accInvite_URInvited:"You're invited to publish mobile assets.",mf_inviteerror:"No matching records found. Either temporary password is incorrect or invitation url has expired.",mf_notmatchingpassword:"New password and confirm password do not match.",mf_notsameastemp:"New password should be different from the temporary password.",mf_requiredfield:"Value is required.",mf_shouldacceptterms:"You should accept to terms to participate and login.",mf_passwordpolicynotmatching:"Password must be a minimum of 8 characters with at least one number and one special character.",mf_InviteLabel:"Enter your invitation password and create your new password.",mf_accInviteHelp:"(?) This was provided to you in an email invitation.",mf_inviteAgree1:"I understand this is IBM confidential material and I agree to the",mf_inviteAgree2:"IBM Mobile Marketplace Terms of Use",mf_accInviteChangePwdBtn:"Change Password and Log In",mf_learn_about_marketplace:"About Marketplace",mf_learn_about_publishing:"Publishing",mf_learn_lorem_ipsum:"Lorem Ipsum",mf_myassets_all:"All Assets ({0})",mf_asset_reseller_approvebtn:"Approve",mf_asset_reseller_rejectbtn:"Reject",mf_asset_reseller_approvebtn_title:"Approve selected asset(s) for reselling",mf_asset_reseller_rejectbtn_title:"Reject selected asset(s) for reselling",mf_myassets_all:"All Assets ({0})",mf_myassets_draft:"Draft ({0})",mf_myassets_published:"Published ({0})",mf_myassets_add_asset:"Add Asset",mf_myasset_by_company:'<span class="by">by</span><span class="byCompany"> {0}</span>',mf_myasset_users:"<b>{0}</b> Users",mf_myasset_no_users:"No Users",mf_myasset_status_incomplete:"Incomplete",mf_myasset_status_complete:"Complete",mf_myasset_status_awaiting_approval:"Awaiting Approval",mf_myasset_status_published:"<b>Published</b>: {0}",mf_myasset_pick:"pick",mf_myasset_all_users:"All Users ({0})",mf_myasset_pending_requests:"Pending Access Requests <font color='red'>({0})</font>",mf_myasset_grant_access:"Grant Access",mf_myasset_revoke_access:"Revoke Access",mf_myasset_access_granted:"Access Granted {0}",mf_common_read_more:"Read More",mf_common_read_less:"Read Less",mf_myasset_remove:"Do you really want to remove the asset?",mf_myasset_unpublish:"Do you really want to unpublish the asset?",mf_common_yes:"yes",mf_common_no:"no",mf_signin_error:"Yikes. We don't recognize your username and/or password.",mf_forgot_pwd_txt:"We can send you a new password.",mf_request_new_pwd:"Request a New Password",mf_username_password_required:"Username and password are required fields.",mf_reset_password_sent:"We've sent password rest instruction to",mf_invalid_email:"Invalid email address.",mf_ratingcomment_metadata:"by {0}, {1}",mf_ratingcomment_comment_writer:"by {0}",mf_ratingcomment_averagerating:"Average based on {0} ratings",mf_ratingcomment_norating:"We haven't received any ratings for this asset.",mf_ratingcomment_revieweditor_writelink:"Rate this asset.",mf_ratingcomment_revieweditor_editlink:"Edit my review",mf_ratingcomment_unsigned_error:'You must <a id="signin" class="link" href="#">sign in</a> to rate this asset.',mf_ratingcomment_reviews:"Reviews",mf_ratingcomment_first_toreview:"Be the first to",mf_ratingcomment_assetrating_label:"Rate this asset:",mf_ratingcomment_title_placeholder:"Comment Title",mf_ratingcomment_postreview_btn:"Post Review",mf_ratingcomment_cancel_btn:"Cancel",mf_assetEditor_urlPlaceHolder:"Enter Provision URL",mf_assetEditor_secretPlaceHolder:"Enter Secret",mf_supplier_checkbox_help:"Open the promotion dialog",mf_supplier_removebtn:"Remove",mf_supplier_removedlabel:"Removed",mf_supplier_addedon:"Added on {0}",mf_supplier_storesize:"Stores {0} of {1}",mf_supplier_customertab:"Customers",mf_supplier_promotetab:"Promote",mf_supplier_notpromoting_label:"Hey, You're not promoting!",mf_supplier_promotebtn:'<div class="label">Promote Now</div><div>in more places</div>',mf_myassets_sampleapps:"Sample Apps",mf_myassets_sampleapiadapters:"Sample API Adapters"}});var marketplace=marketplace||{};marketplace.ValidateAssetType=function(asset){if(asset){var assetType;var assetTypeObj;try{assetType=eval("asset.model.attributes."+(marketplace.extension.typeField))}catch(e){assetType=asset.model.attributes.type}if(assetType){assetTypeObj=marketplace.AssetType.getAssetType(assetType);if(assetTypeObj==null){marketplace.extension.insertAssetType(assetType.replace(/\s/g,"").toLowerCase(),assetType)}}}};marketplace.AssetTypePrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.AssetType=function(e,c,b,d,a){this.getId=function(){return e};this.getName=function(){return c};this.getShortName=function(){return b};this.isDownloadable=function(){return d};this.isServiceOffering=function(){return a}};marketplace.AssetType.prototype=new marketplace.AssetTypePrototype();marketplace.AssetType.addAssetType=function(a){if(a){this[a.getId()]=a}};marketplace.AssetType.getAssetType=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.AssetType.getAssetTypeById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};marketplace.AssetType.addAssetType(new marketplace.AssetType("api","Mobile API","API",false));(function(a,c){if(!String.prototype.format){String.prototype.format=function(){var d=arguments;return this.replace(/{(\d+)}/g,function(e,f){return typeof d[f]!="undefined"?d[f]:e})}}var b;b=function(){};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=b}else{a.NLS=b}b.setLocale=function(d){Globalize.culture(d)};b.bind=function(){splice=Array.prototype.splice;var f=arguments[0];var d=Globalize.localize(f);if(!d||!d.format){d=Globalize.localize(f,"en")}if(arguments.length>1){splice.call(arguments,0,1);try{d=d.format.apply(d,arguments)}catch(g){}}return d}}(this));var marketplace=marketplace||{};marketplace.LinkPrototype=function(a,f,d,c,b,e){this.htmlTag=a;this.id=f;this.classes=d;this.labelKey=c;this.href=b;this.image=e;this.children=new Array();this.getNode=function(){if(!this.htmlTag){return""}var g=$("<"+this.htmlTag+"/>");if(this.id){g.attr({id:this.id})}if(this.classes){g.attr({"class":this.classes.toString().replace(/,/g," ")})}if(this.href){g.attr({href:this.href})}if(this.image){g.attr({src:this.image})}if(this.labelKey){g.append(NLS.bind(this.labelKey))}if(this.children.length>0){for(var h=0;h<this.children.length;h++){g.append(this.children[h].getNode())}}return g};this.toString=function(){return(this.getNode())?this.getNode().get(0).outerHTML:this.getNode()};this.append=function(g){this.children.push(g);return this};this.getId=function(){return this.id}};marketplace.Link=function(a,f,d,c,b,e){marketplace.Link.prototype.constructor.call(this,a,f,d,c,b,e)};marketplace.Link.prototype=new marketplace.LinkPrototype();marketplace.BackboneLink=function(d,a,c,b){marketplace.BackboneLink.prototype.constructor.call(this,"a",d,b,a,"javascript:void(0)");this.handler=c};marketplace.BackboneLink.prototype=new marketplace.Link();marketplace.BackboneLink.prototype.eventHandler=null;function test_linkToString(){if((new marketplace.Link("div")).toString()!=="<div></div>"){console.log("Test1 Failed")}if((new marketplace.Link("span","test2")).toString()!=='<span id="test2"></span>'){console.log("Test2 Failed")}if((new marketplace.Link("p","test3",["testClass1"])).toString()!=='<p id="test3" class="testClass1"></p>'){console.log("Test3 Failed")}if((new marketplace.Link("a","test4",["testClass1","testClass2"],null,"/")).toString()!=='<a id="test4" class="testClass1 testClass2" href="/"></a>'){console.log("Test4 Failed")}if((new marketplace.Link("img","test5",["testClass1","testClass2","testClass3"],null,"index.html","apple.jpg")).toString()!=='<img id="test5" class="testClass1 testClass2 testClass3" href="index.html" src="apple.jpg">'){console.log("Test5 Failed")}if((new marketplace.Link()).toString()!==""){console.log("Test6 Failed")}if((new marketplace.BackboneLink("all",null,null,["mf_clickable","searchResultsFilterText"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink("allCount",null,null,["mf_filterCount"]))).toString()!='<div id="all" class="mf_clickable searchResultsFilterText"><div class="mf_filterName"></div><div id="allCount" class="mf_filterCount"></div></div>'){console.log("Test7 Failed")}}var marketplace=marketplace||{};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=marketplace}marketplace.EventHandlerProtoType=function(){this.getName=function(){return this.name+" "+this.selector}};marketplace.EventHandler=function(b,a,c){this.name=b;this.selector=a;this.method=c};marketplace.EventHandler.prototype=new marketplace.EventHandlerProtoType();marketplace.RouteHandlerProtoType=function(){this.getName=function(){return this.name}};marketplace.RouteHandler=function(a,b){this.name=a;this.method=b};marketplace.RouteHandler.prototype=new marketplace.RouteHandlerProtoType();var marketplace=marketplace||{};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=marketplace}marketplace.EventsPrototype=function(){getPropertyName=function(a){return a.getName()};getPropertyValue=function(a){return a.method};this.addHandler=function(a){if(a){this[getPropertyName(a)]=getPropertyValue(a)}return this}};marketplace.Events=function(){};marketplace.Events.prototype=new marketplace.EventsPrototype();var marketplace=marketplace||{};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=marketplace}marketplace.FilterCategoryPrototype=function(){this.getNode=function(){$(".mf_filterHeaderName",this.$template).html(NLS.bind("mf_filter_category_"+this.id));$("#mf_filterSelectAll",this.$template).attr("id","mf_"+this.id+"_SelectAll").html(NLS.bind("mf_search_select_all"));$("#mf_FiltersContainer",this.$template).attr("id","mf_"+this.id+"_FiltersContainer");$(".mf_searchFilters",this.$template).empty();for(var a=0;a<this.filters.length;a++){$(".mf_searchFilters",this.$template).append(this.filters[a].getNode())}return this.$template};this.addFilter=function(a){this.filters.push(a)}};marketplace.FilterCategory=function(b,a){this.$template=$('<div>            <div class="mf_filterSectionSpace"></div>            <div class="mf_filterseparator mf_thick"></div>            <div class="mf_filterHeading">                <div class="mf_filterHeaderName"></div>                <div id="mf_filterSelectAll" class="mf_selectAll"></div>            </div>            <div class="mf_filterseparator mf_thin"></div>            <div id="mf_FiltersContainer" class="mf_searchFilters mf_clearfix"></div>        </div>');this.filters=new Array();this.id=b;this.queryPrefix=a};marketplace.FilterCategory.prototype=new marketplace.FilterCategoryPrototype();marketplace.FilterPrototype=function(){this.getNode=function(){if(this.backboneLink==null){this.backboneLink=new marketplace.BackboneLink(this.id,null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,"mf_search_"+this.id,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(this.id+"Count",null,null,["mf_filterCount"]))}return this.backboneLink.getNode()};this.getId=function(){return this.id}};marketplace.Filter=function(b,a){this.backboneLink=null;this.id=b;this.value=a};marketplace.Filter.prototype=new marketplace.FilterPrototype();marketplace.FilterQueryPrototype=function(a){this.getQueryString=function(){var b="";if(this.queryValues.length>0){b=this.queryPrefix+this.queryValues.join("|")+"&"}return b};this.addFilter=function(b){if(this.queryValues.indexOf(b.value)===-1){this.queryValues.push(b.value)}}};marketplace.FilterQuery=function(a){this.queryValues=[];this.queryPrefix=a};marketplace.FilterQuery.prototype=new marketplace.FilterQueryPrototype();var marketplace=marketplace||{};marketplace.FeaturedPrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.FeaturedType=function(b,a){this.getId=function(){return b};this.getName=function(){return a}};marketplace.FeaturedType.prototype=new marketplace.FeaturedPrototype();marketplace.FeaturedType.addFeaturedType=function(a){if(a){this[a.getId()]=a}};marketplace.FeaturedType.getFeaturedType=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.FeaturedType.getFeaturedTypeById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};var marketplace=marketplace||{};marketplace.LicensePrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.LicenseType=function(b,a){this.getId=function(){return b};this.getName=function(){return a}};marketplace.LicenseType.prototype=new marketplace.LicensePrototype();marketplace.LicenseType.addLicenseType=function(a){if(a){this[a.getId()]=a}};marketplace.LicenseType.getLicenseType=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.LicenseType.getLicenseTypeById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};var marketplace=marketplace||{};marketplace.VersionPrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.VersionType=function(b,a){this.getId=function(){return b};this.getName=function(){return a}};marketplace.VersionType.prototype=new marketplace.VersionPrototype();marketplace.VersionType.addVersionType=function(a){if(a){this[a.getId()]=a}};marketplace.VersionType.getVersionType=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.VersionType.getVersionTypeById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};var marketplace=marketplace||{};marketplace.AssetCategoryPrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.AssetCategory=function(b,a){this.getId=function(){return b};this.getName=function(){return a}};marketplace.AssetCategory.prototype=new marketplace.AssetCategoryPrototype();marketplace.AssetCategory.addAssetCategory=function(a){if(a){this[a.getId()]=a}};marketplace.AssetCategory.getAssetCategory=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.AssetCategory.getAssetCategoryById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};marketplace.AssetCategory.getAssetCategoryByName=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.AssetCategory.getAssetCategories=function(){var a=[];for(property in this){if(this[property] instanceof this){a.push(this[property])}}return a};var marketplace=marketplace||{};String.prototype.getDottedId=function(){return this.replace(/_/g,".")};String.prototype.getUnderscoredId=function(){return this.replace(/\./g,"_")};marketplace.BackboneLink.prototype.getDottedId=function(){if(typeof(this.getId)!="undefined"){return this.getId().getDottedId()}};marketplace.BackboneLink.prototype.getUnderscoredId=function(){if(typeof(this.getId)!="undefined"){return this.getId().getUnderscoredId()}};marketplace.extension={url:"/wasdev/marketplace",context:"wasdev",name:"WASdev repo",fullName:"",logoImage:"",footerLogoName:"",apiKey:"75621234192",login:{welcomeText:""},home:{enableSlides:true},coremetrics:{id:"",name:"",track:true},router:{getEventHandlers:function(){return new Array()}},explore:{filters:[],addExploreFilters:function(){this.filters.push(new marketplace.BackboneLink("all",null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_everything",null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink("allCount",null,null,["mf_filterCount"])))},insertExploreFilter:function(a){this.filters.push(new marketplace.BackboneLink(marketplace.AssetType[a].getId(),null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_"+a,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.AssetType[a].getId()+"Count",null,null,["mf_filterCount"])))},filterCategories:[],featuredFilters:[],categoryFilters:[],licenseFilters:[],versionFilters:[],editionFilters:[],assetTypeFilters:[],insertAssetTypeFilters:function(a){this.assetTypeFilters.push(new marketplace.BackboneLink(a,null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(a+"Count",null,null,["mf_filterCount"])).append(new marketplace.BackboneLink(a+"_Deselect",null,null,["mf_deselectFilter","mf_clickable"])))},addVersionFilters:function(){},insertVersionFilters:function(a){this.versionFilters.push(new marketplace.BackboneLink(a.getUnderscoredId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(a.getUnderscoredId()+"Count",null,null,["mf_filterCount"])))},insertEditionFilters:function(a){this.editionFilters.push(new marketplace.BackboneLink(a,null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(a+"Count",null,null,["mf_filterCount"])).append(new marketplace.BackboneLink(a+"_Deselect",null,null,["mf_deselectFilter","mf_clickable"])))},getEventHandlers:function(){return new Array()},getTopGuiExtension:function(){return $("<div/>")}},myassets:{assetTypes:[],addAssetTypes:function(){},insertAssetType:function(a){this.assetTypes.push(new marketplace.BackboneLink(marketplace.AssetType[a].getId(),"mf_myassets_"+a,null,["addAssetItem"]))}},addScriptFile:function(a,c){var b=document.createElement("script");b.setAttribute("src",c);var a=a||document.body;a.appendChild(b)},addCssFile:function(b){var a=document.createElement("link");a.setAttribute("href",b);a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");var c=document.getElementsByTagName("head")[0];c.appendChild(a)},addAssetTypes:function(){},insertAssetType:function(b,a,c){b=mobilefirst.utils.getSanitizedID(b);marketplace.AssetType.addAssetType(new marketplace.AssetType(b,a));this.explore.insertAssetTypeFilters(b)},typeField:"wlpInformation.typeLabel",addVersionTypes:function(){},insertVersionTypes:function(b,a){marketplace.VersionType.addVersionType(new marketplace.VersionType(b,a));this.explore.insertVersionFilters(b)},versionField:"version",insertEditionTypes:function(a,b){a=mobilefirst.utils.getSanitizedID(a);marketplace.EditionType.addEditionType(new marketplace.EditionType(a,b));this.explore.insertEditionFilters(a)},editionField:"wlpInformation.appliesToFilterInfo.editions",visibilityField:"wlpInformation.webDisplayPolicy",visibilityFieldValue:"!HIDDEN",licenseType_UNSPECIFIED:"UNSPECIFIED",PermanentURLMapping:{"runtimes-8.5.5-wlp-developers-runtime":"runtimes-wlp-runtime","runtimes-8.5.5-wlp-runtime":"runtimes-wlp-runtime","addons-8.5.5-wlp-developers-extended":"addons-wlp-extended","addons-8.5.5-wlp-extended":"addons-wlp-extended","runtimes-8.5.5-wlp-javaee7":"runtimes-wlp-javaee7","runtimes-8.5.5-wlp-kernel":"runtimes-wlp-kernel","runtimes-8.5.5-wlp-webProfile7":"runtimes-wlp-webProfile7","runtimes-8.5.5-wlp-javaeeClient7":"runtimes-wlp-javaeeClient7","runtimes-8.5.5-webprofile7-ibm-java":"runtimes-webprofile7-ibm-java","runtimes-8.5.5-wlp-osgi":"runtimes-wlp-osgi","runtimes-Beta-wlp-beta-osgi":"runtimes-wlp-beta-osgi","runtimes-Beta-wlp-beta-zos":"runtimes-wlp-beta-zos","runtimes-Beta-wlp-beta":"runtimes-wlp-beta","addons-8.5.5-ND_Controller_Bundle":"addons-ND_Controller_Bundle","addons-8.5.5-V9_Bundle_for_Java_EE_7_Full_Platform":"addons-Java_EE_7_Full_Platform_Bundle","addons-8.5.5-ND_Member_Bundle":"addons-ND_Member_Bundle","addons-8.5.5-Liberty_Core_Bundle":"addons-Liberty_Core_Bundle","addons-8.5.5-Base_Bundle":"addons-Base_Bundle","addons-8.5.5-zOS_Bundle":"addons-zOS_Bundle","addons-8.5.5-V9_Bundle_for_Java_EE_7_Web_Profile":"addons-Java_EE_7_Web_Profile_Bundle","addons-Beta-wlp-beta-admin":"addons-wlp-beta-admin","addons-V9_Bundle_for_Java_EE_7_Full_Platform":"addons-Java_EE_7_Full_Platform_Bundle","addons-V9_Bundle_for_Java_EE_7_Web_Profile":"addons-Java_EE_7_Web_Profile_Bundle","tools-Migration_Toolkit_for_Application_Binaries_Tech_Preview":"tools-Migration_Toolkit_for_Application_Binaries"},getAssetPermanentURLValue:function(a){if(!a){return null}if(!a.wlpInformation){return null}if(!a.wlpInformation.vanityRelativeURL){return null}return a.wlpInformation.vanityRelativeURL},assetPermanentURLField:"wlpInformation.vanityRelativeURL",isFeaturedAsset:function(a){if(!a){return false}if(!a.wlpInformation){return false}if(a.wlpInformation.featuredWeight>"0"){return true}return false},featureWeightField:"wlpInformation.featuredWeight",featureWeightRenderMethod:"CHECK",downloadableField:"wlpInformation.downloadPolicy",downloadableField_allowList:{INSTALLER:false,ALL:true},maxVersionValue:"wlpInformation.appliesToFilterInfo[0].maxVersion.value",minVersionValue:"wlpInformation.appliesToFilterInfo[0].minVersion.value",maxVersionLabel:"wlpInformation.appliesToFilterInfo[0].maxVersion.compatibilityLabel",minVersionLabel:"wlpInformation.appliesToFilterInfo[0].minVersion.compatibilityLabel",appliesToEditions:"wlpInformation.appliesToFilterInfo[0].editions",appliesToJavaVersions:"wlpInformation.javaSEVersionRequirements.versionDisplayString"};marketplace.extension.initialize=function(){this.name=this.name||"Mobile",this.fullName=this.fullName||"Mobile Marketplace",this.logoImage=this.logoImage||"scripts/extensions/images/mobileFirst_marketplace_logo_lowercase.png";this.bannerImage=this.bannerImage||"scripts/extensions/images/hero-bubble-art.png";this.apiKey=this.apiKey||"15061757760";this.login.welcomeText=this.login.welcomeText||"You're invited to publish mobile assets.",this.coremetrics.id=this.coremetrics.id||"80600000";this.coremetrics.name=this.coremetrics.name||"MobileMarketplace";this.coremetrics.track=this.coremetrics.track||true;this.home.enableSlides=this.home.enableSlides||true;this.addAssetTypes();this.addFeaturedTypes();this.addLicenseTypes();this.addVersionTypes();this.addAssetCategories();this.explore.addFeaturedFilters();this.explore.addExploreFilters();this.explore.addLicenseFilters();this.explore.addVersionFilters();this.myassets.addAssetTypes();this.addCssFiles();this.footerLogoName="about IBM MobileFirst"};marketplace.extension.addScriptFiles=marketplace.extension.addScriptFiles||function(){var a=this.resourcePath||"scripts/extensions/resources/messages_en.js";this.addScriptFile(null,a)};marketplace.extension.addCssFiles=marketplace.extension.addCssFiles||function(){this.addCssFile("scripts/extensions/css/myAssets.css")};marketplace.extension.addAssetTypes=marketplace.extension.addAssetTypes||function(){marketplace.AssetType.addAssetType(new marketplace.AssetType("component","Mobile Component","component",true));marketplace.AssetType.addAssetType(new marketplace.AssetType("template","Mobile App Template","template",true));marketplace.AssetType.addAssetType(new marketplace.AssetType("devtool","Dev Tool","tool",true));marketplace.AssetType.addAssetType(new marketplace.AssetType("bluemixserviceoffering","Service Offering","bso",false,true))};marketplace.extension.addFeaturedTypes=marketplace.extension.addFeaturedTypes||function(){marketplace.FeaturedType.addFeaturedType(new marketplace.FeaturedType("New","New"));marketplace.FeaturedType.addFeaturedType(new marketplace.FeaturedType("OurPicks","Our Picks"))};marketplace.extension.addLicenseTypes=marketplace.extension.addLicenseTypes||function(){marketplace.LicenseType.addLicenseType(new marketplace.LicenseType("FREE","Free"));marketplace.LicenseType.addLicenseType(new marketplace.LicenseType("PAID","Paid"))};marketplace.extension.addVersionTypes=marketplace.extension.addVersionTypes||function(){marketplace.VersionType.addVersionType(new marketplace.VersionType("FULL","Full Version"));marketplace.VersionType.addVersionType(new marketplace.VersionType("BETA","Beta Version"));marketplace.VersionType.addVersionType(new marketplace.VersionType("TRIAL","Trial Version"))};marketplace.extension.explore.addExploreFilters=marketplace.extension.explore.addExploreFilters||function(){if(this.filters&&this.filters.length==0){this.filters.push(new marketplace.BackboneLink("all",null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_everything",null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink("allCount",null,null,["mf_filterCount"])));this.filters.push(new marketplace.BackboneLink(marketplace.AssetType.devtool.getId(),null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_devtool",null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.AssetType.devtool.getId()+"Count",null,null,["mf_filterCount"])));this.filters.push(new marketplace.BackboneLink(marketplace.AssetType.component.getId(),null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_component",null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.AssetType.component.getId()+"Count",null,null,["mf_filterCount"])));this.filters.push(new marketplace.BackboneLink(marketplace.AssetType.template.getId(),null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_template",null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.AssetType.template.getId()+"Count",null,null,["mf_filterCount"])));this.filters.push(new marketplace.BackboneLink(marketplace.AssetType.bluemixserviceoffering.getId(),null,null,["mf_clickable","mf_searchResultsFilterText"]).append(new marketplace.BackboneLink(null,"mf_search_bluemixserviceoffering",null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.AssetType.bluemixserviceoffering.getId()+"Count",null,null,["mf_filterCount"])))}};marketplace.extension.explore.addFeaturedFilters=marketplace.extension.explore.addFeaturedFilters||function(){if(this.featuredFilters&&this.featuredFilters==0){this.featuredFilters.push(new marketplace.BackboneLink(marketplace.FeaturedType.New.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.FeaturedType.New.getId()+"Count",null,null,["mf_filterCount"])));this.featuredFilters.push(new marketplace.BackboneLink(marketplace.FeaturedType.OurPicks.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.FeaturedType.OurPicks.getId()+"Count",null,null,["mf_filterCount"])))}};marketplace.extension.explore.addLicenseFilters=marketplace.extension.explore.addLicenseFilters||function(){if(this.licenseFilters&&this.licenseFilters==0){this.licenseFilters.push(new marketplace.BackboneLink(marketplace.LicenseType.FREE.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.LicenseType.FREE.getId()+"Count",null,null,["mf_filterCount"])));this.licenseFilters.push(new marketplace.BackboneLink(marketplace.LicenseType.PAID.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.LicenseType.PAID.getId()+"Count",null,null,["mf_filterCount"])))}};marketplace.extension.explore.addVersionFilters=marketplace.extension.explore.addVersionFilters||function(){if(this.versionFilters&&this.versionFilters==0){this.versionFilters.push(new marketplace.BackboneLink(marketplace.VersionType.FULL.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.VersionType.FULL.getId()+"Count",null,null,["mf_filterCount"])));this.versionFilters.push(new marketplace.BackboneLink(marketplace.VersionType.BETA.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.VersionType.BETA.getId()+"Count",null,null,["mf_filterCount"])));this.versionFilters.push(new marketplace.BackboneLink(marketplace.VersionType.TRIAL.getId(),null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(marketplace.VersionType.TRIAL.getId()+"Count",null,null,["mf_filterCount"])))}};marketplace.extension.myassets.addAssetTypes=marketplace.extension.myassets.addAssetTypes||function(){if(this.assetTypes&&this.assetTypes==0){this.assetTypes.push(new marketplace.BackboneLink(marketplace.AssetType.component.getId(),"mf_myassets_component",null,["addAssetItem"]));this.assetTypes.push(new marketplace.BackboneLink(marketplace.AssetType.template.getId(),"mf_myassets_template",null,["addAssetItem"]));this.assetTypes.push(new marketplace.BackboneLink(marketplace.AssetType.devtool.getId(),"mf_myassets_devtool",null,["addAssetItem"]));this.assetTypes.push(new marketplace.BackboneLink(marketplace.AssetType.bluemixserviceoffering.getId(),"mf_myassets_bluemixserviceoffering",null,["addAssetItem"]))}};marketplace.extension.addAssetCategories=marketplace.extension.addAssetCategories||function(){if(marketplace.AssetCategory&&marketplace.AssetCategory==0){marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("mobile","Mobile"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("social","Social"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("marketing","Marketing"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("insurance","Insurance"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("banking","Banking"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("retail","Retail"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("technology","Technology"));marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory("travel","Travel"))}};marketplace.extension.initialize();var mobilefirst=mobilefirst||{};mobilefirst.constants={month:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],restserver:{url:window.location.protocol+"//"+window.location.hostname,port:(document.location.port!=="")?":9002":""},api:{version:"v1",contextroot:"ma",asset:{prefix:"assets",collection:"products",featured:"featuredAssets",summary:"summary",subscribe:"subscribe"},reseller:{prefix:"resellers",assets:"assets",forapproval:"forapproval",forSale:"forSale"},resellorder:{prefix:"resellordercollection",approvals:"approvals",rejections:"rejections"},comment:{prefix:"threads",posts:"posts"},review:{prefix:"assetreviews"}},invitee:{prefix:"users"},urlseparator:"/",thumbnail:"thumbnail",urlprefix:window.location.protocol+"//"+document.location.hostname+":",isAdmin:"isAdmin",richTextEditor:"richTextEditor",apiReferenceEditor:"apiReferenceEditor",apiReadOnly:"apiReadOnly",refcontentId:"#refcontent",specialPlaceHolderCharacter:"\x00",referenceHeaderDropdown:".referenceHeaderDropdown",referenceDropdownItems:".referenceDropdownItems",methholder:".methholder",uploadDocLimit:6,uploadDocRowLimit:3,uploadIlluLimit:8,assetId:"assetId",userId:"userId",statetext:"state",assetOwnerId:"assetOwnerId",publicpages:{nologin:true}};mobilefirst.constants.licensetype={full:"FULL",trial:"TRIAL",beta:"BETA",any:"",fullversion:"Full Version",trialversion:"Trial Version",betaversion:"Beta Version",free:"FREE"};mobilefirst.constants.licensetypeid={FULL:"full",TRIAL:"trial",BETA:"beta","":"any"};mobilefirst.constants.explorelink={dateadded:"dateadded",rating:"rating",ranking:"ranking"};mobilefirst.constants.attachmenttype={CONTENT:"CONTENT",ILLUSTRATION:"ILLUSTRATION",DOCUMENTATION:"DOCUMENTATION",THUMBNAIL:"THUMBNAIL",LICENSE_AGREEMENT:"LICENSE_AGREEMENT"};mobilefirst.constants.platform={length:4};mobilefirst.constants.prefix={restapiurl:mobilefirst.constants.restserver.url+mobilefirst.constants.restserver.port+mobilefirst.constants.urlseparator};mobilefirst.constants.apiKeyStr="apiKey="+marketplace.extension.apiKey;mobilefirst.constants.apiKeyBeforeSend=function(a){a.setRequestHeader("apiKey",marketplace.extension.apiKey)};mobilefirst.constants.modes={EDIT:0,VIEW:1,APPROVAL:2,RESELL_APPROVAL:3,PREVIEW:4};mobilefirst.constants.invite={status:{sent:"Sent",expired:"Expired",accepted:"Accepted"}};mobilefirst.constants.state={draft:"Draft",awaiting_approval:NLS.bind("mf_mystore_awaitingapproval"),need_more_info:NLS.bind("mf_mystore_actionrequired"),published:"Published"};mobilefirst.constants.assetstate={draft:"draft",awaiting_approval:"awaiting_approval",need_more_info:"need_more_info",published:"published"};mobilefirst.constants.hfstyle={HIDE:0,SHOW_BLACK:1,SHOW_TRANSPARENT:2,NO_EXPLORE:3,ONLY_FOOTER:4};mobilefirst.constants.privacy={PUBLIC:"PUBLIC",PRIVATE:"PRIVATE"};mobilefirst.constants.licenseterms={FREE:"free",ANYONE:"anyone",COMPANY:"company",FULL:"FULL",TRIAL:"TRIAL",BETA:"BETA",NOTFREE:"notfree",LICENSEID:"0",LICENSES:"licenses",ATTACHMENTS:"attachments"};mobilefirst.constants.purchaseorders={prefix:"purchaseorders",revokes:"revokes",grants:"grants",purchases:"purchases",GRANTED:"GRANTED",CREATED:"CREATED",REVOKED:"REVOKED",CANCELLED:"CANCELLED"};mobilefirst.constants.pricingtype={ENTITLEMENT:"ENTITLEMENT",COST_BASED:"COST_BASED"};mobilefirst.constants.sort={asc:"asc",desc:"desc"};mobilefirst.constants.search={reservedForEmpty:"@&#",unsupported:[";","/","*","#","&","%","<",">","=",'"',"'"],hidden:"search"};mobilefirst.constants.htmlRequestParameterListInitialSeparator="?";mobilefirst.constants.htmlRequestParameterSeparator="&";mobilefirst.constants.worklightPluginId="88ed7864ae51f2a41e888276";var mobilefirst=mobilefirst||{};mobilefirst.constants=_.extend(mobilefirst.constants,{searchResultPageLimit:12});mobilefirst.constants.downloads={EXTERNAL_LINK:"http://",AUTHENTICATION:{REQUIRED:"REQUIRED",NONE:"NONE",TAG:"authentication",DEFAULT:true}};mobilefirst.constants.attachmenttype={CONTENT:"CONTENT",ILLUSTRATION:"ILLUSTRATION",DOCUMENTATION:"DOCUMENTATION",THUMBNAIL:"THUMBNAIL",LICENSE_AGREEMENT:"LICENSE"};mobilefirst.constants.license={checkType:false,hideTypeList:["UNSPECIFIED"]};if(marketplace.extension.coremetrics.track){var scriptTag=document.createElement("script");scriptTag.type="text/javascript";scriptTag.src="//libs.coremetrics.com/eluminate.js";scriptTag.onload=function(){cmSetClientID(marketplace.extension.coremetrics.id+"|"+marketplace.extension.coremetrics.name,true,"data.coremetrics.com")};document.body.appendChild(scriptTag)}var mobilefirst=mobilefirst||{};$(function(){mobilefirst.PopupComments=mobilefirst.TemplateView.extend({templateName:"PopupComments",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){$("#overlay").show();this.$el.html(this.template());if(this.getMode()===mobilefirst.constants.modes.APPROVAL){$(".reviewCommentsHeadEdit",this.$el).show();$(".reviewCommentTextBox",this.$el).addClass("reviewCommentTextBoxBorder")}else{$(".reviewCommentTextBox",this.$el).val(this.review.comments);$(".reviewCommentTextBox",this.$el).attr("readonly","readonly");$(".reviewCommentsHeadView",this.$el).show();$(".reviewCommentsLabel",this.$el).hide();$(".reviewCommentsSubmitContainer",this.$el).hide()}return this.$el},events:{"click .reviewCommentCloseImg":"closePopup","keypress .reviewComments":"closePopupByEsc","click .reviewCommentTextBox":"reviewCommentTextBoxClick","keypress .reviewCommentTextBox":"reviewCommentTextBoxClick","blur .reviewCommentTextBox":"reviewCommentTextBoxBlur"},closePopup:function(a){$("#overlay").hide();$(".reviewComments").hide()},closePopupByEsc:function(a){if(a.keyCode!=27){return}this.closePopup()},reviewCommentTextBoxClick:function(){if($(".reviewCommentTextBox").val()===NLS.bind("mf_addcomment")){$(".reviewCommentTextBox").val("")}},reviewCommentTextBoxBlur:function(){if($(".reviewCommentTextBox").val()===""){$(".reviewCommentTextBox").val(NLS.bind("mf_addcomment"))}}})});(function(){var a=Backbone.sync;Backbone.sync=function(d,c,b){b||(b={});if(!b.xhrFields){b.xhrFields={withCredentials:true}}if(!b.beforeSend){b.beforeSend=mobilefirst.constants.apiKeyBeforeSend}return a(d,c,b)}}());var mobilefirst=mobilefirst||{};mobilefirst.Grant=Backbone.Model.extend({url:"../../resources/grants.json",idAttribute:"_id",defaults:{_id:null,requestor:{id:"",name:"",company:""},accessGrant:{type:"purchase",state:"requested",grantDate:""},grantor:{id:"",name:""},downloads:0,asset:{id:"",name:""}},getGrantType:function(){return this.attributes.accessGrant.type},getGrantState:function(){return this.attributes.accessGrant.state},getDownloadCount:function(){return this.attributes.downloads||0},getRequestingCompany:function(){return this.attributes.requestor.company}});mobilefirst.Grants=Backbone.Collection.extend({url:"../../resources/grants.json",model:mobilefirst.Grant});var mobilefirst=mobilefirst||{};mobilefirst.Product=Backbone.Model.extend({urlRoot:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix,idAttribute:"_id",defaults:{_id:null,name:"",description:"",shortDescription:"",type:marketplace.AssetType.api.toString(),company:"",version:"1.0",createdOn:"",lastUpdatedOn:"",thumbnail:"",attachments:[],state:"draft",resources:[],downloadableAvailable:0,privacy:mobilefirst.constants.privacy.PUBLIC,tags:[],information:{languages:[],platforms:[],platformrequirements:[],size:""},feedback:{rating:0,tweets:0,likes:0,favorites:0,downloads:0,reviews:0},rating:0,ranking:0,provider:{name:"",url:""},licenses:[{type:"",pricing:{type:mobilefirst.constants.pricingtype.COST_BASED,price:0},salesContact:{name:"",email:"",phone:""}}],authors:[{author_id:"",name:"",mode:"EDIT"|"PUBLISH"}],bgcolor:"",numOfVotes:0},initialize:function(){var a=new Date(this.attributes.createdOn);this.attributes.formattedCreatedOn=mobilefirst.constants.month[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear();a=new Date(this.attributes.lastUpdatedOn);this.attributes.formattedLastUpdatedOn=mobilefirst.constants.month[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear();this.attributes.resources=[];_.bindAll(this,"addResource","updateResource","removeResource")},setDefaultCompanyName:function(){this.attributes.company=mobilefirst.currentUser.get("company");this.attributes.provider.name=mobilefirst.currentUser.get("company")},getIllustrations:function(){return _.filter(this.attributes.attachments,function(a){return a.type==mobilefirst.constants.attachmenttype.ILLUSTRATION})},getThumbnail:function(){if(this.attributes.thumbnail!==""&&this.attributes.thumbnail!=="images/default-thumbnail.png"){return this.getThumbnailWithUrl(this.attributes.thumbnail)}else{if(this.attributes.thumbnail===""){return"images/default-thumbnail.png"}}return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.attributes._id+mobilefirst.constants.urlseparator+mobilefirst.constants.thumbnail+"?"+mobilefirst.constants.apiKeyStr},getThumbnailWithUrl:function(b){var a=b;if(b.indexOf(mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot)<0){a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+b}if(b.indexOf(mobilefirst.constants.apiKeyStr)<0){a+="?"+mobilefirst.constants.apiKeyStr}return a},getThumbnailAttachment:function(){return _.filter(this.attributes.attachments,function(a){return a.type==mobilefirst.constants.attachmenttype.THUMBNAIL})},getDocumentations:function(){return _.filter(this.attributes.attachments,function(a){return a.type==mobilefirst.constants.attachmenttype.DOCUMENTATION})},getDownloadable:function(){return _.filter(this.attributes.attachments,function(a){return a.type==mobilefirst.constants.attachmenttype.CONTENT})},getLicenseAgreement:function(){return _.filter(this.attributes.attachments,function(a){return a.type==mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT})},getState:function(){return this.attributes.state},addResource:function(a,b,c){var e=this.get("resources");var d={};d.name=a;d.type=b;d.description=c;e.push(d)},updateResource:function(c,b,d,e){var h=this.get("resources");var a=h.length;var g=false;if((c==a)&&((b!=""&&b!=undefined)||(e!=""&&e!=undefined))){this.addResource(b,d,e);g=true}else{if(c>=0&&c<a){var f=h[c];f.name=b;f.type=d;f.description=e;g=true}}return g},removeResource:function(b){var c=this.get("resources");var a=c.length;if(b<0||b>a-1){return}c.splice(b,1)},addAuthor:function(e,b,d){var a=this.get("authors");var c={};c.author_id=e;c.name=b;c.mode=d;a.push(c)},switchPrivacy:function(){this.save({privacy:(this.get("privacy")===mobilefirst.constants.privacy.PUBLIC?mobilefirst.constants.privacy.PRIVATE:mobilefirst.constants.privacy.PUBLIC)})},set:function(a,b){if(a.attachments){_.each(a.attachments,function(c){if(c.url){c.url=c.url+"?"+mobilefirst.constants.apiKeyStr}})}return Backbone.Model.prototype.set.call(this,a,b)},validateModel:function(){var b=[];var c=0;var a=marketplace.AssetType.getAssetType(this.attributes.type);if(!this.attributes.name||this.attributes.name==""){b.push(new mobilefirst.ValidationError(c++,"mf_asset_validation_error_name_null",a.getShortName()))}if(a.isDownloadable()==true&&this.getDownloadable().length==0){b.push(new mobilefirst.ValidationError(c++,"mf_asset_validation_error_downloadble_not_found",a.getShortName()))}if(this.getLicenseAgreement().length==0){b.push(new mobilefirst.ValidationError(c++,"mf_asset_validation_error_license_not_found"))}return b}});mobilefirst.Featured=Backbone.Collection.extend({url:function(){return this.getUrl()},model:mobilefirst.Product,getUrl:function(){return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.featured}});mobilefirst.NewTomobilefirst=Backbone.Collection.extend({url:function(){return this.getUrl()},model:mobilefirst.Product,getUrl:function(){return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix}});mobilefirst.DraftAssets=Backbone.Collection.extend({url:function(){return this.getUrl()},model:mobilefirst.Product,getUrl:function(){var b=mobilefirst.utils.loginUtils.getCookie("user");var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+"?state=!published&sortBy=lastUpdatedOn&sortOrder=desc&createdBy.id="+b;return a}});mobilefirst.PublishedAssets=Backbone.Collection.extend({url:function(){return this.getUrl()},model:mobilefirst.Product,getUrl:function(){var b=mobilefirst.utils.loginUtils.getCookie("user");var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+"?state=published&sortBy=lastUpdatedOn&sortOrder=desc&createdBy.id="+b;return a}});mobilefirst.AllAssets=Backbone.Collection.extend({url:function(){return this.getUrl()},model:mobilefirst.Product,getUrl:function(){var b=mobilefirst.utils.loginUtils.getCookie("user");var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+"?sortBy=published.on&sortOrder=desc&createdBy.id="+b;return a}});mobilefirst.ReviewingAssets=Backbone.Collection.extend({url:function(){return this.getUrl()},model:mobilefirst.Product,getUrl:function(){var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+"?state=awaiting_approval&sortBy=lastUpdatedOn&sortOrder=desc";return a}});mobilefirst.SearchResults=Backbone.Collection.extend({marketplaceId:null,model:mobilefirst.Product,url:function(){var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.reseller.prefix+mobilefirst.constants.urlseparator+this.marketplaceId+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.api.reseller.forSale;var b=(this.queryString==="")?"":"q="+this.queryString+"&";var a=(!this.selectedAssetType)?"":marketplace.extension.typeField+"="+this.selectedAssetType.toString()+"&";var d=this.filters.getFilterQuery?this.filters.getFilterQuery():"";return c+"?"+b+a+d+"sortBy="+this.sortBy+"&sortOrder="+this.sortOrder+"&state=published"},queryString:"",setQueryString:function(a){this.queryString=a},selectedAssetTypeId:"",selectedAssetType:null,setAssetTypeID:function(a){this.selectedAssetTypeId=a;this.selectedAssetType=marketplace.AssetType.getAssetTypeById(a)},sortBy:"",sortOrder:mobilefirst.constants.sort.desc,setSortMethod:function(a){switch(a){case mobilefirst.constants.explorelink.ranking:this.sortBy="ranking";break;case mobilefirst.constants.explorelink.dateadded:default:this.sortBy="lastUpdatedOn"}},setMarketplaceId:function(a){this.marketplaceId=a},filters:{},setFilters:function(a){this.filters=a}});var mobilefirst=mobilefirst||{};mobilefirst.Invitee=Backbone.Model.extend({idAttribute:"_id",urlRoot:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix,defaults:{_id:null,name:"",email:"",company:"",status:"",password:"",role:"",createdOn:"",lastUpdatedOn:""}});mobilefirst.Invitees=Backbone.Collection.extend({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix,model:mobilefirst.Invitee});var mobilefirst=mobilefirst||{};mobilefirst.PurchaseOrder=Backbone.Model.extend({urlRoot:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.purchases,idAttribute:"_id",defaults:{_id:null,assetId:"",licenseId:"",entitlementId:"",companyId:"",userId:"",state:"",createdOn:"",comments:"",grantedBy:"",grantedOn:"",grantComments:"",apiKeys:"",attachments:[],revokedOn:""},initialize:function(){this.attributes.licenseId="0"}});mobilefirst.PurchaseOrders=Backbone.Collection.extend({url:"",model:mobilefirst.PurchaseOrder});var mobilefirst=mobilefirst||{};mobilefirst.AssetRating=Backbone.Model.extend({url:function(){return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.assetId+mobilefirst.constants.urlseparator+mobilefirst.constants.api.review.prefix+"?"+mobilefirst.constants.apiKeyStr},idAttribute:"_id",assetId:"",defaults:{_id:null,title:"",review:"",createdBy:{},createdOn:"",lastUpdatedOn:"",vote:0},setAssetId:function(a){this.assetId=a}});mobilefirst.AssetRatingList=Backbone.Collection.extend({model:mobilefirst.AssetRating,assetId:"",url:function(){return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.assetId+mobilefirst.constants.urlseparator+mobilefirst.constants.api.review.prefix+"?"+mobilefirst.constants.apiKeyStr+"&sortBy=lastUpdatedOn&sortOrder=desc"},setAssetId:function(a){this.assetId=a}});var mobilefirst=mobilefirst||{};mobilefirst.ValidationError=function(c,a,b){this.errorId=a;this.id=c;this.message=NLS.bind(a,b)};var mobilefirst=mobilefirst||{};$(function(){mobilefirst.LoginView=mobilefirst.TemplateView.extend({templateName:"login",tagName:"div",events:{"submit #loginform":"submitLogin","mouseenter #email":"emailMouseEnter","mouseleave #email":"emailMouseLeave","click .forgotpassword":"showEmailBox","submit #forgotpasswordform":"sendInvite"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){$("#headerView",this.$el).hide();$("#footerView",this.$el).hide();this.$el.html(this.template());$("#loginerror",this.$el).hide();return this.$el},sendInvite:function(c){c.preventDefault();$("#inviteerror").hide();var b=$("#sendemail").val();if(b!=""){var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"resetpassword?email="+b;$.ajax({type:"PUT",url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",xhrFields:{withCredentials:true},dataType:"json",success:function(d){alert("Password is reset and new password is sent to your inbox.")},error:function(d,f,e){if(d.status==500){alert((JSON.parse(d.responseText)).message);alert(f)}if(d.status==404){$("#inviteerror").show()}}})}},showEmailBox:function(){$(".mf_forgot_password_div").fadeToggle()},submitLogin:function(a){a.preventDefault();$("#loginerror").hide();var g=$("#email").val();var j=$("#password").val();var f={userId:g,password:j};if(!(g=="Email address")&&!(j=="Password")){var b=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"login";var d;var c;var e=this.options.hash;var h=this;$.ajax({type:"POST",url:b,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:JSON.stringify(f),contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},success:function(k){window.cm_userid=k._id;window.cm_username=k.name;window.cm_useremail=k.email;if(typeof cm_submitLogin!=="undefined"){cm_submitLogin(k.name,k.email)}mobilefirst.utils.loginUtils.setCookie("user",k._id,null);mobilefirst.utils.loginUtils.setCookie("name",k.name,null);mobilefirst.utils.loginUtils.setCurrentUser(mobilefirst.utils.loginUtils.setMarketplaceId);if(e!==undefined){mobilefirst.router.navigate(decodeURIComponent(e),true)}else{mobilefirst.router.navigate("#home",true)}},error:function(m,k){$("#password").val("");$("#loginerror").show()}})}}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AcceptInviteView=mobilefirst.TemplateView.extend({templateName:"AcceptInvite",tagName:"div",events:{"submit #mf_acceptinviteform":"acceptInvitationAndNavigate","click #overlay":"closeDisclaimer","click #boxclose":"closeDisclaimer","click #disclaimerLink":"showDisclaimer","focusout #newpwd":"checkPasswordPolicy"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);this.passwordPolicyValid=true},render:function(){this.$el.html(this.template({mfURLPrefix:this.getMFURLPrefix()}));$("#headerView",this.$el).hide();$("#footerView",this.$el).hide();$(".mf_inviteerror",this.$el).hide();return this.$el},getMFURLPrefix:function(){return $(location).attr("protocol")+"//"+$(location).attr("host")+$(location).attr("pathname")},closeDisclaimer:function(){$("#disclaimerContainer").hide();$("#overlay").fadeOut()},showDisclaimer:function(){$("#overlay").fadeIn("slow",function(){$("#disclaimerContainer").show()})},disclaimerContainerMouseLeave:function(){$("#boxclose").fadeOut()},disclaimerContainerMouseEnter:function(){$("#boxclose").fadeIn()},acceptInvitationAndNavigate:function(){var a=$("#temppwd",this.$el).val();var b=$("#newpwd",this.$el).val();var d=$("#confirmpwd",this.$el).val();var e=this.validateForm();var f={userId:this.model,oldPassword:a,newPassword:b};if(e){var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"changepassword?acceptTerms=true";$.ajax({url:c,type:"PUT",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:JSON.stringify(f),contentType:"application/json",dataType:"json",success:function(g){mobilefirst.utils.loginUtils.setCookie("user",g._id,null);mobilefirst.utils.loginUtils.setCookie("name",g.name,null);mobilefirst.utils.loginUtils.setCurrentUser();mobilefirst.router.navigate("#home",true)},error:function(g){$("#norecordserror").show()}})}else{}},checkPasswordPolicy:function(){var b=$("#newpwd",this.$el).val();if(b){b=b.trim();if(b.length<8){$("#newpwd").addClass("mf_bordererror");this.passwordPolicyValid=false;$("#passwordpolicynotmatching").show()}else{if(!(/\d/.test(b))){this.passwordPolicyValid=false;$("#passwordpolicynotmatching").show()}else{var a="*$@!?.[]";var c=function(d){for(i=0;i<a.length;i++){if(d.indexOf(a[i])>-1){return true}}return false};if(!c(b)){this.passwordPolicyValid=false;$("#passwordpolicynotmatching").show()}else{this.passwordPolicyValid=true;$("#newpwd").removeClass("mf_bordererror");$("#passwordpolicynotmatching").hide()}}}}else{this.passwordPolicyValid=true;$("#newpwd").removeClass("mf_bordererror");$("#passwordpolicynotmatching").hide()}},validateForm:function(){var a=$("#temppwd",this.$el).val();var c=$("#newpwd",this.$el).val();var d=$("#confirmpwd",this.$el).val();var e=(!this.passwordPolicyValid)?this.passwordPolicyValid:true;$(".mf_inviteerror").hide();if(!a){$("#temppwd").addClass("mf_bordererror")}else{$("#temppwd").removeClass("mf_bordererror")}if(!c){$("#newpwd").addClass("mf_bordererror")}else{$("#newpwd").removeClass("mf_bordererror")}if(!d){$("#confirmpwd").addClass("mf_bordererror")}else{$("#confirmpwd").removeClass("mf_bordererror")}if(!(a&&c&&d)){$("#requiredfield").show();e=false}else{e=(!e)?e:true}if(c&&d&&!(c===d)){$("#notmatchingpassword").show();e=false}if(a===c){$("#notsameastemp").show();e=false}var b=$("#acceptTerms").is(":checked");if(!b){$("#shouldacceptterms").show();e=false}if(!this.passwordPolicyValid){$("#passwordpolicynotmatching").show();$("#newpwd").addClass("mf_bordererror")}return e}})});var mobilefirst=mobilefirst||{};mobilefirst.TemplateView=Backbone.View.extend({initialize:function(){if(this.options.parent){this.options.parent.addChild(this)}else{}this.loadTemplate()},loadTemplate:function(){if(typeof(this.template)=="undefined"){if(!this.templateName){console.error("templateName not defined");return}var b=(this.templatePath)?this.templatePath:"templates/";if(b.substr(-1)!=="/"){b+="/"}var a="";try{if(dW_buildTimeStamp){a="?_"+dW_buildTimeStamp}}catch(c){}b+=this.templateName+".html"+a;$.ajax({context:this,type:"get",async:false,url:b,success:function(d){this.constructor.prototype.template=_.template(d)},error:function(d){console.error("ERROR loading template "+b)}})}},getMode:function(){return this.options.mode},addChild:function(a){if(!this.children){this.children=[]}this.children.push(a)},getChildren:function(){if(this.children){return this.children}else{return[]}},clearChildren:function(){if(this.children){this.children=[]}},destroy:function(){this.destroyChildren(this.getChildren());this.clearChildren();this.destroySelf()},destroyChildren:function(a){_.each(a,function(b){b.destroy()})},destroySelf:function(){this.undelegateEvents();$(this.el).unbind();this.unbind();this.remove()}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.HeaderView=mobilefirst.TemplateView.extend({el:$("#headerView"),templateName:"header",tagName:"div",events:{"change #searchbox":"gotoSearchPage","click #explorebtn":"clickExploreMenu","click #search":"gotoSearchPage","mouseleave #exploredialog":"exploredialogMouseLeave","mouseenter #component":"componentMouseEnter","mouseleave #component":"componentMouseLeave","mouseenter #template":"templateMouseEnter","mouseleave #template":"templateMouseLeave","mouseenter #api":"apiMouseEnter","mouseleave #api":"apiMouseLeave","click #mf_signin_btn":"submitLogin","click .mp_logo":"mp_logoClick","click .mf_user_grp":"showUserMenu","click #mymarketplace":"gotoMyMarketplace","click #administration":"gotoAdministration","click #dw-mast-signout-link":"signout","click #myassets":"gotoMyAsset","mouseenter #mymarketplace":"mymarketplaceMouseEnter","mouseleave #mymarketplace":"mymarketplaceMouseLeave","mouseenter #administration":"administrationMouseEnter","mouseleave #administration":"administrationMouseLeave","mouseenter #signout":"signoutMouseEnter","mouseleave #signout":"signoutMouseLeave","mouseenter #changepassword":"changepasswordMouseEnter","mouseleave #changepassword":"changepasswordMouseLeave","click #changepassword":"comingsoon","click #learn":"gotoLearnPage","click #signin":"showSignInBox","click #signin_overlay":"closeSignInBox","click #mf_forgotPassword":"showForgotPasswordBox","click #mf_forgot_pwd_btn":"requestNewPassword","keyup #mf_forgot_pwd_email":"enableDisableRequestNewPassword","click #joinbtn":"join","click #twittersignin":"comingsoon","blur #mf_signin_username":"validateSignInUsername","keyup #mf_signin_password":"setSignInButtonState"},showJoinContainer:function(){$("#joinContainerDiv").show()},showSignInBox:function(){$("#signin_overlay").show();$("mf_signin_err_msg").html("");$("#mf_signin_error").hide();$("#mf_forgot_pwd_container").hide();$("#mf_signin_container").show();$("#mf_signin_box").show();this.setSignInButtonState()},closeSignInBox:function(){$("#signin_overlay").hide();$("#mf_signin_box").hide()},showForgotPasswordBox:function(){$("#mf_signin_error").hide();$("#mf_signin_container").hide();$("#resetPasswordStatus").hide();$("#mf_forgot_pwd_email").val($("#mf_signin_username").val());this.enableDisableRequestNewPassword();$("#mf_forgot_pwd_container").show()},enableDisableRequestNewPassword:function(){var a=$("#mf_forgot_pwd_email").val();if(a.trim().length>0&&this.isValidEmail(a)){this.clearSignInError();this.enableButton($("#mf_forgot_pwd_btn"))}else{if(a.trim().length>0){this.setSignInErorr(NLS.bind("mf_invalid_email"))}else{this.clearSignInError()}this.disableButton($("#mf_forgot_pwd_btn"))}},isValidEmail:function(a){var b=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return b.test(a)},validateSignInUsername:function(a){var b=$("#mf_signin_username").val();if(b&&!this.isValidEmail(b)){this.setSignInErorr(NLS.bind("mf_invalid_email"))}else{this.clearSignInError()}this.setSignInButtonState()},enableButton:function(a){a.removeAttr("disabled");a.removeClass("mf_button_disable");a.addClass("mf_button_enable")},disableButton:function(a){a.attr("disabled","disabled");a.addClass("mf_button_disable");a.removeClass("mf_button_enable")},setSignInButtonState:function(){var b=$("#mf_signin_username").val();var a=$("#mf_signin_password").val();if(b&&a&&b.trim().length>0&&a.trim().length>0&&this.isValidEmail(b)){this.enableButton($("#mf_signin_btn"))}else{this.disableButton($("#mf_signin_btn"))}},setSignInErorr:function(a){$("#mf_signin_err_msg").html(a);$("#mf_signin_error").show()},clearSignInError:function(){$("#mf_signin_err_msg").html("");$("#mf_signin_error").hide()},submitLogin:function(b){b.preventDefault();var g=$("#mf_signin_username").val();var k=$("#mf_signin_password").val();if(!g.trim()||!k.trim()){$("#mf_signin_err_msg").html(NLS.bind("mf_username_password_required"));$("#mf_signin_error").show()}else{$("#mf_signin_err_msg").html("");$("#mf_signin_error").hide();var h={userId:g,password:k};var j=$("#mf_remember_me");var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"login";var d=$("#mf_signin_intranet").is(":checked");if(d){c+="?bluepages=true"}var e;var a;var f=this.options.hash;var m=this;$.ajax({type:"POST",url:c,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:JSON.stringify(h),contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},success:function(n){window.cm_userid=n._id;window.cm_username=n.name;window.cm_useremail=n.email;if(typeof cm_submitLogin!=="undefined"){cm_submitLogin(n.name,n.email)}mobilefirst.utils.loginUtils.setCookie("user",n._id,null);mobilefirst.utils.loginUtils.setCookie("name",n.name,null);mobilefirst.utils.loginUtils.setCurrentUser();if(j.is(":checked")){mobilefirst.utils.loginUtils.setCookie("_emailid",g,null);mobilefirst.utils.loginUtils.setCookie("_password",k,null)}else{mobilefirst.utils.loginUtils.eraseCookie("_emailid");mobilefirst.utils.loginUtils.eraseCookie("_password")}if(f!==undefined){m.options.hash=undefined;mobilefirst.router.navigate(decodeURIComponent(f),true)}else{m.render()}m.render()},error:function(o,n){$("#mf_signin_password").val("");$("#mf_signin_err_msg").html(NLS.bind("mf_signin_error"));$("#mf_signin_error").show()}})}},requestNewPassword:function(d){d.preventDefault();var c=$("#mf_forgot_pwd_email").val();var b=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"resetpassword?email="+c;var a=this;$.ajax({type:"PUT",url:b,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",xhrFields:{withCredentials:true},dataType:"json",success:function(e){$("#mf_forgot_password_form").hide();$("#mf_reset_password_sent_email").html(c);$("#resetPasswordStatus").show();$("#signin_overlay").hide();$("#mf_signin_box").fadeOut(3000)},error:function(e,g,f){a.setSignInErorr("Could not reset password")}})},hideUserMenu:function(c){if(!$(c.target).closest("#userDiv").length){$("#userDiv").hide();$("#triangle").hide()}var b=$("#loginDiv");var a=$("#joinContainerDiv");if(this.isClickedOutside(b,c.target)){$("#triangle1").hide();$("#loginDiv").hide();$(".content").removeClass("contentDark");$(".content").css("opacity","1")}},join:function(a){this.comingsoon()},isClickedOutside:function(a,b){if(!a.is(b)&&a.has(b).length==0){return true}return false},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);$(document).on("mouseup",$.proxy(this.hideUserMenu,this))},render:function(a){this.$el.html(this.template());var b=mobilefirst.utils.loginUtils.getCookie("name");this.renderUser();this.handleRememberMe();if(!mobilefirst.utils.loginUtils.isEmpty(b)){$(".mf_loggedoff_grp").hide();$(".mf_loggedin_grp").show();$("#userbtn").html(b);$("#headerView").removeClass("headerTransparentView");$("#headerView").addClass("headerView")}else{$(".mf_loggedoff_grp").show();$(".mf_loggedin_grp").hide();$("#headerView").addClass("headerTransparentView");$("#headerView").removeClass("headerView");$("#headerView").removeClass("headerViewDefault")}if(a){if($("#signin").is(":visible")){$("#signin").click()}}},renderUser:function(){var a=mobilefirst.utils.loginUtils.getCookie("name");if(!mobilefirst.utils.loginUtils.isEmpty(a)){var b=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.isAdmin;$("#userbtn").show();$.ajax({type:"GET",url:b,beforeSend:mobilefirst.constants.apiKeyBeforeSend,xhrFields:{withCredentials:true},success:function(c){if(c==="true"){$("#administration").show()}else{$("#administration").hide()}},error:function(c){mobilefirst.router.handleError(c,"#home",false,"Error:"+c.statusText)}});$("#userbtn").html(a)}},handleRememberMe:function(){var a=mobilefirst.utils.loginUtils.getCookie("_emailid");var b=mobilefirst.utils.loginUtils.getCookie("_password");if(a&&b){$("#mf_signin_username").val(a);$("#mf_signin_password").val(b);$("#mf_remember_me").attr("checked","checked")}else{$("#mf_signin_username").val("");$("#mf_signin_password").val("");$("#mf_remember_me").removeAttr("checked")}},comingsoon:function(){alert("coming soon")},clearSearchBox:function(){$("input[id=searchbox]").val("")},gotoSearchPage:function(){var a=$("input[id=searchbox]").val();if(a!=""&&a!=mobilefirst.constants.search.hidden){for(var b=0;b<mobilefirst.constants.search.unsupported.length;b++){if(a.indexOf(mobilefirst.constants.search.unsupported[b])!==-1){alert(NLS.bind("mf_header_unsupporetdSearchCharactors",mobilefirst.constants.search.unsupported));this.clearSearchBox();return}}var a=a.split(" ").join("+");mobilefirst.router.navigate("#search/"+a,true)}else{mobilefirst.router.navigate("#search/"+mobilefirst.constants.search.reservedForEmpty,true)}},navigate:function(a,b){if(!b){mobilefirst.router.navigate("",true);$("#userbtn").hide();$("#userDiv").hide();$("#loginbtn").show()}},GetURLParameter:function(a){var d=window.location.search.substring(1);var c=d.split("&");for(var b=0;b<c.length;b++){var e=c[b].split("=");if(e[0]==a){return e[1]}}},position:function(d,e){if(e){if(e.x){d.style.left=e.x+"px"}if(e.y){d.style.top=e.y+"px"}if(e.w){d.style.width=e.w+"px"}if(e.h){d.style.height=e.h+"px"}}else{var a=d;for(var c=0,b=0;a!=null;c+=a.offsetLeft,b+=a.offsetTop,a=a.offsetParent){}e={x:c,y:b,w:d.offsetWidth,h:d.offsetHeight}}return e},showExploreMenu:function(){var b=this.position(document.getElementById("explorebtn"));var a=b.x+(b.w/2)-175;var d=b.y+b.h;var e=a;var c=d+(32-3);this.position(document.getElementById("triangle1"),{x:a-a,y:d-20});document.getElementById("triangle1").style.display="block";this.position(document.getElementById("exploreDiv"),{x:e-(e+100),y:c-20});document.getElementById("exploreDiv").style.display="block"},showUserMenu:function(){var c=this.position(document.getElementById("mf_drop_down"));var b=$("#mf_drop_down",this.$el).position();var a=b.left+(c.w/2);var e=c.y+c.h+10;var f=a;var d=e+(32-10);this.position(document.getElementById("triangle"),{x:a-25,y:e-50});document.getElementById("triangle").style.display="block";this.position(document.getElementById("userDiv"),{x:f-160,y:d-60});document.getElementById("userDiv").style.display="block"},mp_logoClick:function(){$("#searchbox").val("");$("#joinContainerDiv").hide();mobilefirst.router.navigate("",true)},clickExploreMenu:function(){$("#searchbox").val("");mobilefirst.router.navigate("#searchtype/all",true)},clickLoginMenu:function(){var a=$(location).attr("href");if(a.indexOf("#temphome")>=0){$(".content").css("opacity","0.6")}$(".content").addClass("contentDark");$("loginDiv").show();this.showLoginMenu()},loginKeyPress:function(a){if(a.keyCode==13){this.login()}},loginuserdialogMouseLeave:function(){$("#triangle").hide();$("#loginDiv").hide();$("#userDiv").hide();$(".content").removeClass("contentDark");$(".content").css("opacity","1")},exploredialogMouseLeave:function(){$("#triangle1").hide();$("#exploreDiv").hide();$(".content").removeClass("contentDark");$(".content").css("opacity","1")},signout:function(){var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version;var b=c+"/signout";var a=this;$.ajax({type:"GET",beforeSend:mobilefirst.constants.apiKeyBeforeSend,url:b,xhrFields:{withCredentials:true},success:function(d){mobilefirst.utils.loginUtils.eraseCookie("user");mobilefirst.utils.loginUtils.eraseCookie("name");mobilefirst.currentUser=null;a.render();mobilefirst.router.navigate("",true)},error:function(d){mobilefirst.router.handleError(d,"#login",false,"Error:"+d.statusText)}})},gotoLearnPage:function(){mobilefirst.router.navigate("#learn",true)},gotoMyMarketplace:function(){$("#triangle").hide();$("#userDiv").hide();mobilefirst.router.navigate("#mymarketplace",true)},gotoMyAsset:function(){mobilefirst.router.navigate("#myassets",true)},gotoAdministration:function(){$("#triangle").hide();$("#userDiv").hide();mobilefirst.router.navigate("#admin",true)},componentMouseEnter:function(){$("#component").css("background-color","grey")},componentMouseLeave:function(){$("#component").css("background-color","black")},templateMouseEnter:function(){$("#template").css("background-color","grey")},templateMouseLeave:function(){$("#template").css("background-color","black")},apiMouseEnter:function(){$("#api").css("background-color","grey")},apiMouseLeave:function(){$("#api").css("background-color","black")},myprofileMouseEnter:function(){$("#myprofile").css("background-color","grey")},myprofileMouseLeave:function(){$("#myprofile").css("background-color","black")},mymarketplaceMouseEnter:function(){$("#mymarketplace").css({"background-color":"#0089B8",color:"white"})},mymarketplaceMouseLeave:function(){$("#mymarketplace").css({"background-color":"#C2E0EA",color:"black"})},administrationMouseEnter:function(){$("#administration").css({"background-color":"#0089B8",color:"white"})},administrationMouseLeave:function(){$("#administration").css({"background-color":"transparent",color:"black"})},helpMouseEnter:function(){$("#help").css("background-color","grey")},helpMouseLeave:function(){$("#help").css("background-color","black")},signoutMouseEnter:function(){$("#signout").css({"background-color":"#0089B8",color:"white"})},signoutMouseLeave:function(){$("#signout").css({"background-color":"transparent",color:"black"})},changepasswordMouseEnter:function(){$("#changepassword").css({"background-color":"#0089B8",color:"white"})},changepasswordMouseLeave:function(){$("#changepassword").css({"background-color":"transparent",color:"black"})},loginEnter:function(){$("#login").css("background-color","grey")},loginMouseLeave:function(){$("#login").css("background-color","black")}})});var mobilefirst=mobilefirst||{};mobilefirst.FooterView=mobilefirst.TemplateView.extend({el:$("#footerView"),templateName:"footer",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template());var a=navigator.userAgent.indexOf(" MSIE ")>-1;if(a){$("#isIE").show()}},events:{"keypress #commentbox":"commentboxEnter"},commentboxEnter:function(a){if(a.keyCode==13){this.submitCommentClick()}},submitCommentClick:function(){var c=$("#commentbox").val();var a=mobilefirst.utils.loginUtils.getCookie("user");if(mobilefirst.utils.loginUtils.isEmpty(a)){a="Guest"}var b={user:a,page:window.location.href,comment:c};$.ajax({type:"post",dataType:"json",url:"/mp/comments/",beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:b,xhrFields:{withCredentials:true},contentType:"text/plain"});$("#commentbox").val("")}});var mobilefirst=mobilefirst||{};mobilefirst.FooterListView=mobilefirst.TemplateView.extend({templateName:"footerlist",tagName:"div",id:"footerlist",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template(this.model));var e=this.model.items;if(e.length>0){var d=$("#footerUL",this.$el);for(var c=0;c<e.length;c++){var a=$("<li/>",{"class":"footerItem"});d.append(a);if(this.model.type==="image"){var f=$("<img/>",{src:e[c].url});a.append(f)}else{var b=$("<a/>",{href:"javascript: void(0);","class":"footerAnchorItem footerListTitle",html:NLS.bind(e[c].item)});a.append(b)}}}return this.$el}});var mobilefirst=mobilefirst||{};mobilefirst.ProductItemView=mobilefirst.TemplateView.extend({templateName:"productitem",tagName:"div",className:"polaroidContainer",events:{"click #polImage":"mouseenterPolaroidImg","mouseleave #polImage":"mouseleavePolaroidImg","click .polaroid":"gotoAssetDetailPage"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render","gotoAssetDetailPage")},render:function(){this.$el.html(this.template(this.model));var b=this.model.getThumbnail();$(".polImage",this.$el).attr("src",b);mobilefirst.assetAnalyticsView=new mobilefirst.AssetAnalyticsView({model:this.model,parent:this});if(typeof this.options.page!="undefined"&&this.options.page=="search"){var a=new Date(this.model.attributes.published.on);if(a>this.getDateOfAWeekAgo()){$(".newMark",this.$el).show()}$("#typeInShort",this.$el).text(marketplace.AssetType.getAssetType(this.model.attributes.type).getShortName())}return this.$el},gotoAssetDetailPage:function(a){mobilefirst.router.navigate("#mobilefirst/view/"+this.model.attributes._id,true)},mouseenterPolaroidImg:function(){},mouseleavePolaroidImg:function(){},getDateOfAWeekAgo:function(){var a=new Date(new Date()-(7*86400000));return a}});var mobilefirst=mobilefirst||{};mobilefirst.AssetDetailsHeaderView=mobilefirst.TemplateView.extend({templateName:"AssetDetailsHeader",tagName:"div",events:{"click #gotomarketplace":"goToMyAssetsPage","click #previewbtn":"gotoAssetDetails","click #gotodraft":"gotoEditDetails"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);this.assetAnalyticsView=new mobilefirst.AssetAnalyticsView({model:this.model,parent:this});_.bindAll(this,"render")},goToHomePage:function(){mobilefirst.router.navigate("#home",true)},goToMyAssetsPage:function(){mobilefirst.router.navigate("#myassets",true)},gotoAssetDetails:function(){mobilefirst.router.navigate("#mobilefirst/preview/"+this.model.id,true)},gotoEditDetails:function(){mobilefirst.router.navigate("#mobilefirst/"+this.model.id,true);$("#gotodraft",this.$el).hide()},render:function(){this.$el.html(this.template(this.model.attributes));if(this.getMode()===mobilefirst.constants.modes.EDIT){$("#gotomarketplace",this.$el).show()}return this.$el},selectNavigationOption:function(a){$(".mf_assetnavselected").attr("class","mf_assetnavunselected");$(a.currentTarget).attr("class","mf_assetnavselected")}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AssetDetailsErrorView=mobilefirst.TemplateView.extend({templateName:"AssetDetailsErrorView",tagName:"div",events:{"click #singoutlink":"signOut"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template());return this.$el},signOut:function(a){a.preventDefault();mobilefirst.headerView.signout()}})});var mobilefirst=mobilefirst||{};mobilefirst.AssetValidationErrorsView=mobilefirst.TemplateView.extend({templateName:"AssetValidationErrors",tagName:"div",events:{"click #closeIcon":"destroy"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template({validationErrors:this.model}));return this.$el},destroy:function(){this.remove();this.unbind()}});var mobilefirst=mobilefirst||{};mobilefirst.RichEditorView=mobilefirst.TemplateView.extend({templateName:"RichEditorTemplate",defaults:{addDescription:NLS.bind("mf_addDescription")},tagName:"div",events:function(){return this.getEvents()},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},getEvents:function(){var c={};var a={"click #editor":"showEditorArea","click #clearAllText":"clearText"};var b={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(b,c);break;case mobilefirst.constants.modes.EDIT:_.extend(b,c,a);break;case mobilefirst.constants.modes.APPROVAL:case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(b,c);break;default:console.error("UNKNOWN MODE")}return b},render:function(){this.$el.html(this.template(this.model.attributes));if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL||this.getMode()===mobilefirst.constants.modes.PREVIEW){$("#editor",this.$el).css("background","transparent");$("#editorpanel",this.$el).css("background","transparent");$("#editorpanel",this.$el).css("border","0px none transparent");$("#editorpanel",this.$el).css("margin","0px")}else{$("#editor",this.$el).css("background","#FFFFFF")}return this.$el},clearText:function(){$("#editor",this.$el).html("")},hideToolBar:function(){$("#toolbar",this.$el).hide()},showToolBar:function(a){$("#toolbar",this.$el).show()},showEditorArea:function(a){a.stopPropagation();this.showToolBar(a);if(!this.editorArea){this.editorArea=$("#editor",this.$el).wysiwyg()}$("#editor",this.$el).removeClass("hideEditor defaultFontColor");$("#editor",this.$el).addClass("showEditor");$("#editor",this.$el).css("background","#FFFFFF");if($("#editor",this.$el).html()===this.defaults.addDescription){$("#editor",this.$el).html("")}$("#editor",this.$el).focus();this.options.setActiveEditor(mobilefirst.constants.richTextEditor,a)},getData:function(){return $("#editor").html()}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.DocListView=mobilefirst.TemplateView.extend({templateName:"DocListTemplate",tagName:"div",events:function(){return this.getEvents()},initialize:function(){this.detach();_.bindAll(this,"renderUploadedDocuments","addOneMoreUploadDiv");this.constructor.__super__.initialize.apply(this,arguments)},getEvents:function(){var c={};var a={"click #docuploadlink":"popupDocFileBrowser","change #docnameinput":"handleDocuments","click #doclist .docdelete":"deleteDocument"};var b={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(b,c);break;case mobilefirst.constants.modes.APPROVAL:case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(b,c);break;case mobilefirst.constants.modes.EDIT:_.extend(b,c,a);break;default:console.error("UNKNOWN MODE")}return b},render:function(){$(this.el).html(this.template(this.model.attributes));this.renderUploadedDocuments();if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL||this.getMode()===mobilefirst.constants.modes.PREVIEW){$("#docuploadlink",this.$el).hide()}return this.$el},onClose:function(){this.model.unbind("change #docnameinput",this.render)},detach:function(){$(this.el).unbind();this.model.unbind()},popupDocFileBrowser:function(a){$("#docnameinput").click();a.preventDefault()},handleDocuments:function(b){if(this.model.id!=null){this.uploadDocuments(b)}else{var a=this;this.options.parent.createNewAsset(function(){a.options.renderLinks();a.uploadDocuments(b)},a)}return false},uploadDocuments:function(d){var c=d.currentTarget.files;var a=false;var b=this;$("#doclist li a").each(function(g,f){var h=$(f).attr("href");if(typeof h==="undefined"){return true}var k=h.lastIndexOf("/");var j=h.indexOf("?");var m=h.substring(k+1,j);if(c[0].name===m){alert(NLS.bind("mf_asset_duplicateDocumentation",m));a=true;return false}});if(a===true){return false}var e=new FormData($("#uform")[0]);$.ajax({type:"POST",url:$("#uform")[0].action+"/?name="+c[0].name+"&type="+mobilefirst.constants.attachmenttype.DOCUMENTATION,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:e,xhrFields:{withCredentials:true},contentType:false,context:this,processData:false,success:function(){if(typeof cm_uploadDocuments!=="undefined"){cm_uploadDocuments(this.model.id,this.model.attributes.name)}this.model.fetch({success:function(f){b.renderUploadedDocuments();b.addOneMoreUploadDiv()}})},error:function(f){mobilefirst.router.handleError(f,"#login",false,"Error:"+f.statusText)}});return false},deleteDocument:function(a){$.ajax({type:"DELETE",url:$("#uform")[0].action+"/"+a.currentTarget.id+"/?type=DOCUMENTATION",beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:false,xhrFields:{withCredentials:true},context:this,processData:false,success:function(){if(typeof cm_deleteDocument!=="undefined"){cm_deleteDocument(this.model.id,this.model.attributes.name)}this.model.fetch({success:this.renderUploadedDocuments})},error:function(b){mobilefirst.router.handleError(b,"#login",false,"Error:"+b.statusText)}});return false},addOneMoreUploadDiv:function(){},renderUploadedDocuments:function(){var j=this.model.getDocumentations();if(j.length<=mobilefirst.constants.uploadDocRowLimit){$("#uploaddocsection",this.$el).css("min-height",70)}else{$("#uploaddocsection",this.$el).css("height",150)}var c=$("#doclist",this.$el);c.empty();if(j.length>0){for(var b=0;b<j.length;b++){g=new UploadItemView();c.append(g.render());$("#uploadid",g.$el).attr("href",mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+j[b].url);$("#uploadedimage",g.$el).attr("title",j[b].name);var e=j[b].name.lastIndexOf(".");var d="images/icons/";var a=d+"folder.png";if(e>=0){var h=j[b].name.substring(e);console.log("## extension "+h);if(h==".png"||h==".jpg"||h==".gif"||h==".bmp"){$("#uploadedimage",g.$el).attr({src:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+j[b].url})}else{if(h==".pdf"){$("#uploadedimage",g.$el).attr({src:d+"pdf.png"})}else{if(h==".doc"||h==".docx"){$("#uploadedimage",g.$el).attr({src:d+"word.png"})}else{if(h==".ppt"||h==".pptx"){$("#uploadedimage",g.$el).attr({src:d+"powerpoint.png"})}else{if(h==".txt"||h==".log"){$("#uploadedimage",g.$el).attr({src:d+"text.png"})}else{if(h==".html"){$("#uploadedimage",g.$el).attr({src:d+"html.png"})}else{if(h==".xls"||h==".xlsx"){$("#uploadedimage",g.$el).attr({src:d+"excel.png"})}else{$("#uploadedimage",g.$el).attr({src:a})}}}}}}}}$(".docname",g.$el).text(j[b].name);$(".docsize",g.$el).text(this.options.parent.formatSize(j[b].size));if(this.getMode()===mobilefirst.constants.modes.EDIT){$(".docdelete",g.$el).attr("id",j[b]._id)}}var k=$("#docContainer",this.$el);k.html(c)}var g=$("<a/>",{"class":"assetdoc",id:"docuploadlink",href:"#",style:"display:block"});var f=$("<span/>");f.html(NLS.bind("mf_asset_uploadfile"));f.addClass("linkposition linktext");g.append(f);c.append(g);if(j.length>=mobilefirst.constants.uploadDocLimit){$("#docuploadlink",this.$el).hide()}else{$("#docuploadlink",this.$el).show()}}})});var UploadItemView=mobilefirst.TemplateView.extend({templateName:"UploadDocTemplate",tagName:"li",className:"assetdoc",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.options));return this.$el}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.IllustrationView=mobilefirst.TemplateView.extend({templateName:"IllustrationTemplate",tagName:"div",events:function(){return this.getEvents()},initialize:function(){this.detach();_.bindAll(this,"handleImages","renderIllustrations");this.constructor.__super__.initialize.apply(this,arguments)},getEvents:function(){var d={"click .assetimgnotselected":"showInFrame","click .imgprevious":"showPreviousImage","click .imgnext":"showNextImage"};var b={"click #imguploadlink":"popupIllusFileBrowser","change #imgnameinput":"handleImages","click .assetimgnotselected":"showInFrame","click #addMore":"clickUploadIllustrationLink","click #imglist .illusdelete":"deleteIllustration","click .imgprevious":"showPreviousImage","click .imgnext":"showNextImage"};var c={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(c,d);break;case mobilefirst.constants.modes.APPROVAL:case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(c,d);break;case mobilefirst.constants.modes.EDIT:_.extend(c,d,b);break;case mobilefirst.constants.modes.PREVIEW:_.extend(c,d);default:console.error("UNKNOWN MODE")}return c},render:function(){$(this.el).html(this.template(this.model.attributes));this.renderIllustrations();var b=$("#imguploadlink",this.$el);if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL||this.model.getIllustrations().length>=mobilefirst.constants.uploadIlluLimit||this.getMode()===mobilefirst.constants.modes.PREVIEW){b.removeAttr("href");$("#addMore",this.$el).hide()}else{b.attr("href","#");$("#addMore",this.$el).show()}return this.$el},onClose:function(){this.model.unbind("change #imgnameinput",this.render)},detach:function(){$(this.el).unbind();this.model.unbind()},renderIllustrations:function(){var r=this.model.getIllustrations();var o=$("#imglist",this.$el);$(o).empty();$("#imginframe",this.$el).attr("src","images/additional-artwork-add-image.png");$("#imginframe",this.$el).css("width","660px");$("#imginframe",this.$el).css("height","420px");$("#imginframe",this.$el).css("margin","10px 10px 10px 15px");if(r.length>0){var t=this.getRandomInt();var j=$("#imginframe",this.$el);j.css("margin","0px");var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+r[0].url+"&id="+t;j.attr("src",c);var g={height:0,width:0};var d=$("#imginframediv",this.$el);var k=new Image();k.src=c;k.onload=function(){g.height=k.height;g.width=k.width;mobilefirst.utils.common.fitInImageFrame(j,g,d)};var q=new Object();q.imgId="illu0";q.imgClassName="assetimgselected";q.className="";q.illustrationId=r[0]._id;q.srcName=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+r[0].url+"&id="+t;var e=new Backbone.Model(q);var b=new a({model:e,parent:this});var n=b.render();$(o).append(n.html());$("#illu0",this.$el).addClass("illustrationIcon");for(var h=1;h<r.length;h++){var m=this.getRandomInt();q=new Object();q.imgId=m;q.imgClassName="assetimgnotselected illustrationclickable";q.className="nextassetimg";q.illustrationId=r[h]._id;q.srcName=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+r[h].url+"&id="+m;var e=new Backbone.Model(q);var b=new a({model:e,parent:this});var n=b.render();$(o).append(n.html());$("#"+m,this.$el).addClass("illustrationIcon")}if(this.getMode()!=mobilefirst.constants.modes.EDIT){$(".illusdelete",this.$el).remove()}if(r.length<mobilefirst.constants.uploadIlluLimit){q=new Object();q.imgId="addMore";q.imgClassName="addmoreillu illustrationclickable";q.className="nextassetimg editonly";q.srcName="images/plus.png";q.illustrationId="addMoreId";var e=new Backbone.Model(q);var b=new a({model:e,parent:this});var n=b.render();$(o).append(n);$("#addMoreId",this.$el).hide()}else{$("#imguploadlink",this.$el).removeAttr("href")}this.list=o;this.handleImageSlider();$("#selector",this.$el).html($(o));if(r.length>2){var f=$("<img/>",{src:"images/asset-artwork-slider-left-active.png"});var s=$("<img/>",{src:"images/asset-artwork-slider-right-active.png"});$("#selector",this.$el).prepend($('<div class="imgprevious">').html(f));$("#selector",this.$el).append($('<div class="imgnext inactivebutton">').html(s))}}},showPreviousImage:function(c){$(".imgnext").addClass("activebutton");$(".imgnext").removeClass("inactivebutton");var d=0;var b=$("li",this.list).length;$("li",this.list).each(function(e){if($(this).is(":visible")){d=e;return false}});if(d>=1){$("li",this.list).each(function(e){var f=d-e;if(f==0){$(this).prev().show();$(this).next().next().hide()}})}if(d<=1){$(c.currentTarget).addClass("inactivebutton");$(c.currentTarget).removeClass("activebutton")}else{$(c.currentTarget).addClass("activebutton");$(c.currentTarget).removeClass("inactivebutton")}},showNextImage:function(d){$(".imgprevious").addClass("activebutton");$(".imgprevious").removeClass("inactivebutton");var c=this;var e=0;var b=$("li",this.list).length;$("li",this.list).each(function(f){if($(this).is(":visible")){e=f+2;return false}});if(e<b-1){$("li",this.list).each(function(f){var g=e-f;if(g==2){$(this).hide();if(c.getMode()===mobilefirst.constants.modes.EDIT){$(this).next().next().next().show()}else{$nextelement=$(this).next().next().next();if(!$($nextelement).hasClass("editonly")){$($nextelement).show()}}}})}if(e>=mobilefirst.constants.uploadIlluLimit-2){$(d.currentTarget).addClass("inactivebutton");$(d.currentTarget).removeClass("activebutton")}else{$(d.currentTarget).addClass("activebutton");$(d.currentTarget).removeClass("inactivebutton")}},handleImageSlider:function(){var b=$("li",this.list).length;$("li",this.list).each(function(c){var d=b-c;if(d>3){$(this).hide()}})},showInFrame:function(c){var b=$(".assetimgselected",this.$el);b.removeClass("assetimgselected");b.addClass("assetimgnotselected");b.addClass("illustrationclickable");var k=c.target.id;var f=$("#"+k,this.$el);f.removeClass("assetimgnotselected");f.removeClass("illustrationclickable");f.addClass("assetimgselected");var d=c.target.src;$("#imginframe",this.$el).attr("src",c.target.src);var g={height:0,width:0};var j=$("#imginframe",this.$el);var e=$("#imginframediv",this.$el);var h=new Image();h.src=c.target.src;h.onload=function(){g.height=h.height;g.width=h.width;mobilefirst.utils.common.fitInImageFrame(j,g,e)}},handleImages:function(c){if(this.model.id!=null){this.uploadImages(c)}else{var b=this;this.options.parent.createNewAsset(function(){b.options.renderLinks();b.uploadImages(c)},b)}return false},uploadImages:function(d){var c=d.currentTarget.files;var e=new FormData($("#vform")[0]);var b=this;$.ajax({type:"POST",url:$("#vform")[0].action+"/?name="+c[0].name+"&type="+mobilefirst.constants.attachmenttype.ILLUSTRATION,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:e,contentType:false,processData:false,xhrFields:{withCredentials:true},context:this,success:function(){b.options.parent.CurrentSaveTime=new Date();this.model.fetch({success:this.renderIllustrations});if(typeof cm_uploadImages!=="undefined"){cm_uploadImages(this.model.id,this.model.attributes.name)}},error:function(f){mobilefirst.router.handleError(f,"#login",false,"Error:"+f.statusText)}});return false},deleteIllustration:function(b){$.ajax({type:"DELETE",url:$("#vform")[0].action+"/"+b.currentTarget.id+"/?type=ILLUSTRATION",beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:false,xhrFields:{withCredentials:true},processData:false,context:this,success:function(){if(typeof cm_deleteIllustration!=="undefined"){cm_deleteIllustration(this.model.id,this.model.attributes.name)}this.model.fetch({success:this.renderIllustrations})},error:function(c){mobilefirst.router.handleError(c,"#login",false,"Error:"+c.statusText)}});return false},popupIllusFileBrowser:function(b){if(this.model.getIllustrations().length>=8){return}$("#imgnameinput").click();b.preventDefault()},clickUploadIllustrationLink:function(b){$("#imguploadlink").click();b.preventDefault()},getRandomInt:function(){var c=1000;var b=2000;return Math.floor(Math.random()*(b-c+1))+c}});var a=mobilefirst.TemplateView.extend({templateName:"IllustrationListTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}})});var mobilefirst=mobilefirst||{};mobilefirst.assetRatingList=new mobilefirst.AssetRatingList();$(function(){mobilefirst.AssetRatingView=mobilefirst.TemplateView.extend({templateName:"AssetRatingTemplate",tagName:"div",id:"assetrating",ratingModel:mobilefirst.assetRatingList,events:{"click #writingComment":"onAddRatingComment","click .postBtn":"addRatingComment","click .cancelBtn":"cancelRatingComment","mouseenter #ratingSelection img":"onHoverRating","mouseleave #ratingSelection img.unselected":"onLeaveRating","blur input.commentSubject":"activateInput","click #signin.link":"login"},initialize:function(){this.loadTemplate(mobilefirst.AssetRatingView);this.ratingModel.setAssetId(this.options.assetId);_.bindAll(this,"renderAssetRating")},render:function(){this.$el.html(this.template());this.renderAssetRating();this.populateRatingComments();return this.$el},renderAssetRating:function(){var c=this.options.parent.model.attributes;var b=c.numOfVotes;if(!b){this.$(".averageRating span.text").text(NLS.bind("mf_ratingcomment_norating"));this.$(".averageRating .assetrating").hide();return}this.$(".averageRating span.text").text(NLS.bind("mf_ratingcomment_averagerating",b));var a=Math.round(c.rating);this.$(".averageRating .assetrating img").each(function(d){if(d<a){$(this).attr("src","images/star-yellow.png");$(this).attr("alt","selected star")}else{$(this).attr("src","images/star-gray.png");$(this).attr("alt","empty star")}});this.$(".averageRating .assetrating").show()},populateRatingComments:function(){var a=this.$("#reviewList");var b=this;this.ratingModel.fetch({success:function(){var h=b.ratingModel.models;a.html("");var f=h.length;this.$(".reviewSize").text(f);if(f===0){this.$(".befirst").show();$("#writingComment").css("text-transform","lowercase");a.hide();return}this.$(".befirst").hide();var e=mobilefirst.utils.loginUtils.getCookie("user");var c=false;for(var d=0;d<f;d++){var g=h[d].attributes;var j=new mobilefirst.AssetRatingItemView({model:g,parent:b});a.append(j.render());if(d<f-1){a.append(b.addDivider())}if(!c&&e===g.createdBy.id){c=true}}a.show();if(c){this.$("#writingComment").addClass("editing").text(NLS.bind("mf_ratingcomment_revieweditor_editlink"))}}})},addDivider:function(){return $("<div/>").addClass("subdivider")},onAddRatingComment:function(){if(!mobilefirst.utils.loginUtils.isLoggedIn()){this.$(".errors").show();return false}this.$(".errors").hide();this.showEditor();var a=mobilefirst.utils.loginUtils.getCookie("name");this.$(".commentEditor .commentWriter").text(NLS.bind("mf_ratingcomment_comment_writer",a));if(this.$("#writingComment").hasClass("editing")){this.populateCommentEditor()}else{this.refreshCommentEditor()}return false},populateCommentEditor:function(){var a=this.getReviewIndexByUser(mobilefirst.utils.loginUtils.getCookie("user"));if(a>-1){var b=this.ratingModel.at(a).attributes;this.populateReviewRating(b.vote);$(".commentEditor .commentSubject").val(b.title);$(".commentEditor .commentDesc").val(b.review)}},refreshCommentEditor:function(){this.initReviewRating();$(".commentEditor .commentSubject").val("");$(".commentEditor .commentDesc").val("")},populateReviewRating:function(a){this.initReviewRating();this.$("#ratingSelection img").each(function(b){if(b<a){$(this).attr("src","images/star-yellow.png").removeClass("unselected")}})},addRatingComment:function(g){var j=$(".commentEditor .commentSubject").val();var f=$(".commentEditor .commentDesc").val();if(j===""||f===""){return}var c=j.replace(/(\r\n|\n|\r)/gm,"<br>");var a=f.replace(/(\r\n|\n|\r)/gm,"<br>");var h=5-this.$("#ratingSelection img.unselected").length;var k=this.getReviewIndexByUser(mobilefirst.utils.loginUtils.getCookie("user"));var b;if(k>-1){b=this.ratingModel.at(k)}else{b=new mobilefirst.AssetRating()}b.set("title",c);b.set("review",a);b.set("vote",h);b.setAssetId(this.options.assetId);b.save();this.populateRatingComments();var d=this;setTimeout(function(){d.refreshAssetRating()},200);this.hideEditor()},cancelRatingComment:function(){this.hideEditor()},onHoverRating:function(b){var a=b.currentTarget;$(a).attr("src","images/star-yellow.png")},onLeaveRating:function(b){var a=b.currentTarget;$(a).attr("src","images/star-gray.png")},selectRating:function(d){var c=d.currentTarget;var a=this.getRatingIndex(c);if($(c).attr("src")==="images/star-yellow.png"){var b=this.$("#ratingSelection img.unselected");if((b.length===0&&a===4)||(a+1)===this.getRatingIndex(b[0])){$(c).attr("src","images/star-gray.png").addClass("unselected");return}}this.populateReviewRating(a+1)},initReviewRating:function(){this.$("#ratingSelection img").each(function(a){$(this).attr("src","images/star-gray.png").addClass("unselected")})},getRatingIndex:function(a){if(!a){return -1}var b=$(a).attr("id");return parseInt(b.split("_").pop())},refreshAssetRating:function(){var a=this.options.parent;var b=this;a.model.fetch({success:b.renderAssetRating})},getReviewIndexByUser:function(e){var d=this.ratingModel.models;var b=d.length;for(var a=0;a<b;a++){var c=d[a];if(e===c.attributes.createdBy.id){return a}}return -1},showEditor:function(){this.$(".tab1Header").addClass("tab1");this.$(".tab2Header").addClass("tab2");this.$(".commentEditor").show();this.$(".ratingEditor").show();this.$("#writingComment").addClass("disable").bind("click",false);this.$("#reviewEditor .commentEditor input").focus()},hideEditor:function(){this.$(".tab1Header").removeClass("tab1");this.$(".tab2Header").removeClass("tab2");this.$(".commentEditor").hide();this.$(".ratingEditor").hide();this.$("#writingComment").removeClass("disable").unbind("click",false);this.initReviewRating()},activateInput:function(a){if(a.currentTarget.value===""){$(a.currentTarget).removeClass("textactive")}else{$(a.currentTarget).addClass("textactive")}},login:function(){mobilefirst.router.relogin();return false}});mobilefirst.AssetRatingItemView=mobilefirst.TemplateView.extend({templateName:"AssetRatingItemTemplate",tagName:"div",className:"reviewItem",events:{},initialize:function(){this.loadTemplate(mobilefirst.AssetRatingItemView)},render:function(){this.$el.html(this.template(this.model));this.renderCurrentRating();this.renderMetadata();return this.$el},renderCurrentRating:function(){var a=this.model.vote;this.$(".currentRating img").each(function(b){if(b<a){$(this).attr("src","images/star-yellow.png");$(this).attr("alt","selected star")}})},renderMetadata:function(){var b=this.getPostTimeString(this.model.createdOn);var a=NLS.bind("mf_ratingcomment_metadata",this.model.createdBy.name,b);this.$(".metadata").text(a)},getPostTimeString:function(a){if(!a){return""}var c=new Date(a);var b=mobilefirst.constants.month[c.getMonth()]+" "+c.getDate()+", "+c.getFullYear();return b}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.CreateAPIView=mobilefirst.TemplateView.extend({templateName:"AssetDetailsEditor",tagName:"div",events:function(){return this.getEvents()},activeEditor:"",initialize:function(){console.log("*** id="+this.model.attributes._id);this.detach();this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"renderThumbnail","getDownloadableIndex","getDownloadableUrl","deleteDownloadable","renderDownloadableButtons","uploadThumbnail","renderUploadLinks","setActiveEditor","getActiveEditor","renderCommercialInfo","addOnCreatedListener","createNewAsset","showValidationErrors","showLastSavedAssetTime");this.activeEditor="";this.richEditorView=new mobilefirst.RichEditorView({model:this.model,mode:this.getMode(),setActiveEditor:this.setActiveEditor,parent:this});this.docListView=new mobilefirst.DocListView({model:this.model,mode:this.getMode(),renderLinks:this.renderUploadLinks,parent:this});this.illustrationView=new mobilefirst.IllustrationView({model:this.model,mode:this.getMode(),renderLinks:this.renderUploadLinks,parent:this});this.myAssetHeaderView=new mobilefirst.MyAssetHeaderView({model:this.model,mode:this.getMode(),parent:this});this.assetDetailsHeaderView=new mobilefirst.AssetDetailsHeaderView({model:this.model,mode:this.getMode(),parent:this});if(this.model.attributes.type===marketplace.AssetType.api.toString()){this.apiResourcesView=new mobilefirst.APIResourceView({model:this.model,mode:this.getMode(),setActiveEditor:this.setActiveEditor,parent:this})}var q=new Date(this.model.attributes.createdOn);this.model.attributes.formattedCreatedOn=mobilefirst.constants.month[q.getMonth()]+" "+q.getDate()+", "+q.getFullYear();$(document).on("mouseup",$.proxy(this.hideDropDownMenu,this));globalModel=this;marketplace.ValidateAssetType(this);globalMode=this},onClose:function(){},hideDropDownMenu:function(s){if(!$(s.target).closest("#addPlatformBox").length||!$(s.target).closest("#addIndustryBox").length){$("#addPlatformBox").hide();$("#addPlatformtriangle").hide();$("#addIndustryBox").hide();$("#addIndustryTriangle").hide()}var q=$("#addIndustryBox");var r=$("#addPlatformBox");if(this.isClickedOutside(r,s.target)||this.isClickedOutside(q,s.target)){$("#addPlatformBox").hide();$("#addPlatformtriangle").hide();$("#addIndustryBox").hide();$("#addIndustryTriangle").hide()}},isClickedOutside:function(q,r){if(!q.is(r)&&q.has(r).length==0){return true}return false},detach:function(){$(this.el).unbind();this.model.unbind()},setActiveEditor:function(q,r){if(q!=this.activeEditor){this.activeEditor=q}},getActiveEditor:function(){return this.activeEditor},getEvents:function(){var t={"click .viewbtn":"comingSoon","click .trybtn":"comingSoon","click #backbtn":"goBack","click #purchaselink":"showPurchaseDialog","click #purchase_more_plan_link":"showPurchaseDialogForMore","click #sendRequest":"raisePurchaseOrder","click #sendPlanRequest":"raisePurchaseOrder","click #sendPlanRequest":"raisePurchasePlanOrder","click #mf_purchaseboxclose":"closePurchaseBox","click #downloadlink":"showDownloadContainer","click #get_your_keys_link":"showDownloadContainer","click #cancelterms":"closeDownloadContainer","click #disagreeterms":"closeDownloadContainer","click #post_download_close":"closePostDownloadContainer","click #iagree":"getAsset","click .cancelterms":"closeDownloadContainer","click #request_entitlement_link":"showRequestEntitlementContainer","click #request_entitlement_boxclose":"closeRequestEntitlementContainer","click #overlayforEntitlementContainer":"closeRequestEntitlementContainer","mouseenter #developerKeysContainer":"mouseEnterDeveloperKeysContainer","mouseleave #developerKeysContainer":"mouseLeaveDeveloperKeysContainer","click #overlayForDeveloperKeysContainer":"closeDeveloperKeysContainer","click #developer_keys_boxclose":"closeDeveloperKeysContainer","click #requestNewEntitlementLink":"showRequestEntitlementContainer","blur #messagebox":"checkSendRequestButton","click #overlayforpurchase":"closePurchaseBox","mouseenter #purchase_requested_link":"showtooltipmessage","mouseleave #purchase_requested_link":"hidetooltipmessage","mouseenter #entitlement_requested_link":"showtooltipmessage","mouseleave #entitlement_requested_link":"hidetooltipmessage","click #subscribe_after_purchase_link":"entitleSubscriber"};var r={"click #publishbtn":"publishAsset"};var q={"click #backbtn":"goBack","click #invitebtn":"inviteAuthors","mouseenter #invitebtn":"showAuthorBox","mouseleave #invitebtn":"hideAuthorBox","click #publishbtn":"publishAsset","click #overlayforauthor":"closeInviteAuthorsBox","click .addSaveButton":"addSaveAuthor","click .cancelButton":"closeInviteAuthorsBox","click .addAuthor":"showAuthorContainer","click .viewbtn":"comingSoon","click .trybtn":"comingSoon","blur #namebox":"saveAssetName","change #tbinputadd":"addThumbnail","change #ulinputchange":"addDownloadable","blur #versionbox":"saveVersionNumber","blur #editor":"saveProductDescription","blur #mp_companylink":"saveAssetCompanyLink","click #addinfo":"addAPIInfo","click #tbadd":"popupTbFileBrowserToAdd","click #uloadbutton":"popupFileBrowserToUpload","click #delbutton":"deleteDownloadable","blur .inputfield":"changeInputColor","blur #informationplatforms":"savePlatforms","blur #informationlanguages":"saveLanguages","blur #informationplatformrequirements":"savePrerequisites","click #removethumbnail":"deleteThumbnail","click .commercialmsg":"showCommercialDialog","click #mf_commercialSaveButton":"saveCommercialPage","click #editCommercialTerms":"showCommercialDialog","click #infoboxplatforms a.linktext":"addPlatforms","click #infoboxlanguages a.linktext":"addLanguages","click #infoboxprerequisites a.linktext":"addRequirements","click #companyinfo a.linktext":"addCompanyLink","click #agreementlink":"addLicenseAgreement","change #licensefile":"uploadLicenseAgreement","click #changeAgreement":"addLicenseAgreement","click .hideContainer":"hideBottomContainer","click .showContainer":"showBottomContainer","click #addplatform ":"showPlatformDropDown","click .platformtag":"addPlatformTagToAsset","click .industrytag":"addIndustryTagToAsset","click .removePlatformTag":"removePlatformTag","click .removeIndustryTag":"removeIndustryTag","click #addIndustry":"showIndustryDropdown","keyup #documentionArea":"showCharCount","blur #documentionArea":"saveShortDescription","click .colorBox":"changeBackgroundColor","blur #urlbox":"saveProvisionUrl","blur #secretbox":"saveSecret","change input:radio[name=authentication]":"updateAuthentication"};var s={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(s,t);break;case mobilefirst.constants.modes.EDIT:_.extend(s,t,q);break;case mobilefirst.constants.modes.APPROVAL:case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(s,t);break;case mobilefirst.constants.modes.PREVIEW:_.extend(s,r);default:console.error("UNKNOWN MODE")}return s},updateAuthentication:function(r){var q=r.target.value;$("#attachmentInfo",this.$el).val('{"authentication":"'+q+'"}')},startIntervalInstance:function(){if(mobilefirst.lastSavedInterval){clearInterval(mobilefirst.lastSavedInterval)}mobilefirst.lastSavedInterval=setInterval(this.showLastSavedAssetTime,1000)},showLastSavedAssetTime:function(){var t=new Date(this.CurrentSaveTime).getTime();var r=new Date().getTime();var q=r-t;var s="";if(q/1000<=60){s=NLS.bind("mf_asset_saved_seconds_ago",Math.floor(q/1000))}else{if(q/(1000*60)<=60){s=NLS.bind("mf_asset_saved_minutes_ago",Math.floor(q/(1000*60)))}else{if(q/(1000*60*60)<=24){s=NLS.bind("mf_asset_saved_hrs_ago",Math.floor(q/(1000*60*60)))}else{if(q/(1000*60*60*24)>0){s=NLS.bind("mf_asset_saved_days_ago",Math.floor(q/(1000*60*60*24)))}}}}$("#timermessage",mobilefirst.$el).text(s)},changeBackgroundColor:function(s){var r=$(s.currentTarget).css("background-color");$("#colorlist .bgcolorselected",this.$el).removeClass("bgcolorselected");$(s.currentTarget).addClass("bgcolorselected");var q="linear-gradient(135deg, #46b8a1 0%,"+r+" 44%,"+r+" 95%)";$(".uppercontent",this.$el).css("background",q);this.saveModel("bgcolor",q)},showCharCount:function(s){var r=$(s.currentTarget).val();var q=500-r.length;$("#descriptionlength",this.$el).text(q+" "+NLS.bind("mf_asset_character_left"))},removePlatformTag:function(s){var q=$(s.currentTarget).parent();var r=$(s.currentTarget).prev();var t=r.attr("id");q.remove();$("#"+t).addClass("notselected");$("#"+t).removeClass("selected");this.savePlatforms();this.checkAddTagButton()},removeIndustryTag:function(s){var q=$(s.currentTarget).parent();var r=$(s.currentTarget).prev();var t=r.attr("id");q.remove();$("#"+t).addClass("notselected");$("#"+t).removeClass("selected");this.saveIndustryTags();this.checkAddTagButton()},addIndustryTagToAsset:function(u){var t=$(u.currentTarget).attr("class");var w=$(u.currentTarget).attr("id");if(t.indexOf("notselected")!=-1){var s=$(u.currentTarget).text();$(u.currentTarget).removeClass("notselected");$(u.currentTarget).addClass("selected");$("#addIndustryBox").hide();$("#addIndustryTriangle").hide();var q=new Object();q.id=w;q.tagName=s;q.boxClassName="industrybox";q.tagClassName="industryName";q.removeClassName="removeIndustryTag";var r=new Backbone.Model(q);var v=new e({model:r,parent:this});$("#industrylist",this.$el).prepend(v.render());this.saveIndustryTags();this.checkAddTagButton()}},renderIndustyTags:function(){var v=new o();$("#addIndustryBox",this.$el).html(v.render());var x=this.model.get("tags");for(var s=0;s<x.length;s++){var u=marketplace.AssetCategory.getAssetCategoryByName(x[s]);if(u){var q=new Object();q.id=u.getId();q.tagName=u.getName();q.boxClassName="industrybox";q.tagClassName="industryName";q.removeClassName="removeIndustryTag";var t=new Backbone.Model(q);var w=new e({model:t,parent:this});$("#industrylist",this.$el).prepend(w.render());if(this.getMode()===mobilefirst.constants.modes.EDIT){var r="#addIndustryBox #"+u.getId();$(r,this.$el).addClass("selected");$(r,this.$el).removeClass("notselected")}}else{console.error("Unknown industry value "+industry[s])}}},renderplatforms:function(){var q=new g();$("#addPlatformBox",this.$el).html(q.render());var w=this.model.get("information").platforms;for(var v=0;v<w.length;v++){var y=w[v].replace(/\s/g,"");var r=y.toLowerCase();var s=new Object();s.id=r;s.tagName=y;s.boxClassName="platformbox";s.tagClassName="platformName";s.removeClassName="removePlatformTag";var t=new Backbone.Model(s);var x=new e({model:t,parent:this});$("#platformlist",this.$el).prepend(x.render());if(this.getMode()===mobilefirst.constants.modes.EDIT){var u="#addPlatformBox #"+r;$(u,this.$el).addClass("selected");$(u,this.$el).removeClass("notselected")}}},addPlatformTagToAsset:function(t){var s=$(t.currentTarget).attr("class");var w=$(t.currentTarget).attr("id");if(s.indexOf("notselected")!=-1){var q=$(t.currentTarget).text();$(t.currentTarget).removeClass("notselected");$(t.currentTarget).addClass("selected");$("#addPlatformBox").hide();$("#addPlatformtriangle").hide();var u=new Object();u.id=w;u.tagName=q;u.boxClassName="platformbox";u.tagClassName="platformName";u.removeClassName="removePlatformTag";var r=new Backbone.Model(u);var v=new e({model:r,parent:this});$("#platformlist").prepend(v.render());this.savePlatforms();this.checkAddTagButton()}},showIndustryDropdown:function(t){var q=$("#addIndustry",this.$el);var r=$("#addIndustryBox",this.$el);var u=$("#addIndustryTriangle",this.$el);var s=this.position(q[0]);this.position(u[0],{x:s.x,y:s.y+28});$("#addIndustryTriangle",this.$el).show();this.position(r[0],{x:s.x-90,y:s.y+40});$("#addIndustryBox",this.$el).show()},showPlatformDropDown:function(u){var r=$("#addplatform",this.$el);var x=$("#addPlatformBox",this.$el);var w=$("#addPlatformtriangle",this.$el);var t=this.position(r[0]);var s=$(u.currentTarget).position();var q=s.left+(t.w/2);var v=t.y-t.y/2+t.h*2;this.position(w[0],{x:q+62,y:v-182});$("#addPlatformtriangle",this.$el).show();this.position(x[0],{x:q-28,y:v-170});$("#addPlatformBox",this.$el).show()},hideBottomContainer:function(r){var q="#"+$(r.currentTarget).next().next().text();$(q,this.$el).slideUp("slow");$(r.currentTarget).next().show();$(r.currentTarget).hide()},showBottomContainer:function(r){var q="#"+$(r.currentTarget).next().text();$(q,this.$el).slideDown("slow");$(r.currentTarget).prev().show();$(r.currentTarget).hide()},checkAddTagButton:function(){if(this.getMode()===mobilefirst.constants.modes.EDIT){var s=this.model.get("tags");var r=marketplace.AssetCategory.getAssetCategories();if(r.length==s.length){$("#addIndustry",this.$el).hide()}else{$("#addIndustry",this.$el).show()}var q=this.model.get("information").platforms;if(q.length==mobilefirst.constants.platform.length){$("#addplatform",this.$el).hide()}else{$("#addplatform",this.$el).show()}}},render:function(){this.model.attributes.urlRoot=this.model.urlRoot;this.CurrentSaveTime=this.model.attributes.lastUpdatedOn;this.$el.html(this.template(this.model.attributes));this.renderHeaderBtns();this.renderAssetName();this.renderCompanyInfo();this.renderProvisionAndSecret();this.renderDescription();this.renderCompanyLink();this.renderThumbnail();this.renderDownloadableButtons();this.renderIndustyTags();this.renderShortDescription();this.renderInfo();this.renderBg();this.renderIllustrationSection();this.renderUploadedDocuments();this.renderCommercialInfo();if(this.getMode()!=mobilefirst.constants.modes.EDIT){$(".viewonly",this.$el).show();$(".editonly",this.$el).hide()}else{$(".editonly",this.$el).show();$(".viewonly",this.$el).hide()}this.checkAddTagButton();var q=marketplace.AssetType.getAssetType(this.model.attributes.type);$("#namebox",this.$el).attr("placeholder",NLS.bind("mf_assetEditor_namePlaceHolder_"+q.getId()));$("#infoboxtypevalue",this.$el).html(NLS.bind("mf_assetEditor_"+q.getId()));if(this.model.attributes.state===mobilefirst.constants.assetstate.awaiting_approval||this.model.attributes.state===mobilefirst.constants.assetstate.need_more_info||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL){$("#assetstatusheader",this.$el).append(this.myAssetHeaderView.render())}var r=this;$(".inputfield",this.$el).each(function(){if(r.getMode()===mobilefirst.constants.modes.EDIT){if(this.value==""){$(this).removeClass("inputfield_active")}else{$(this).addClass("inputfield_active")}}else{$(this).attr("readonly","readonly")}});if(this.getMode()===mobilefirst.constants.modes.EDIT||this.getMode()===mobilefirst.constants.modes.PREVIEW){$("#assetheader",this.$el).show();$("#assetheader",this.$el).append(this.assetDetailsHeaderView.render());this.startIntervalInstance(this.model)}if(this.model.getState()==="published"){this.renderAssetRating()}return this.$el},renderCompanyInfo:function(){if(this.getMode()!=mobilefirst.constants.modes.EDIT){$("#companyinfo",this.$el).css("margin","0px 5px 5px 0px")}},renderProvisionAndSecret:function(){if(marketplace.AssetType.getAssetType(this.model.attributes.type).isServiceOffering()){$("#provision_and_secret",this.$el).show()}else{$("#provision_and_secret",this.$el).hide()}},renderDescription:function(){$("#createAPIEditorContainer",this.$el).append(this.richEditorView.render());if(this.getMode()!=mobilefirst.constants.modes.EDIT){$("#createAPIEditorContainer",this.$el).css("background","transparent")}},renderShortDescription:function(){var r=this.model.get("shortDescription");if(this.getMode()===mobilefirst.constants.modes.EDIT){$("#documentionArea",this.$el).val(r);var q=500-r.length;$("#descriptionlength",this.$el).text(q+" Characters left")}else{$("#desciptionmsg",this.$el).css("padding","0px");if(r.trim().length==0){$("#documentation",this.$el).hide()}}},renderUploadedDocuments:function(){$("#uploaddocsection",this.$el).append(this.docListView.render());if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL||this.getMode()===mobilefirst.constants.modes.PREVIEW){var q=this.model.getDocumentations();if(q.length==0){$("#uploaddocsection",this.$el).hide()}else{$(".assetdoc",this.$el).css("border-style","none");$(".assetdoc",this.$el).css("background-image","none");$("#uploaddocsection",this.$el).css("background-color","transparent");$(".uploadmessage",this.$el).css("padding","0px");$(".assetdoc",this.$el).css("left","-60px");$(".assetdoc",this.$el).css("top","-16px")}}},renderIllustrationSection:function(){if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL||this.getMode()===mobilefirst.constants.modes.PREVIEW){if(this.model.getIllustrations().length===0){$("#illustrationsection",this.$el).css("background-color","#fff");$("#illustrationsection",this.$el).css("border","1px solid #CCCCCC");$(".tnimage",this.$el).css("background-color","#fff")}else{$("#illustrationsection",this.$el).show();$("#illustrationsection",this.$el).append(this.illustrationView.render())}$("#illustrationsection",this.$el).css("background","transparent")}else{$("#illustrationsection",this.$el).show();$("#illustrationsection",this.$el).append(this.illustrationView.render())}},gotoAssetDetails:function(){mobilefirst.router.navigate("#mobilefirst/view/"+this.model.id,true)},renderBg:function(){var q=this.model.attributes.bgcolor;$(".uppercontent",this.$el).css("background",q)},renderCompanyLink:function(){if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL){$("#mp_companyhover",this.$el).removeClass("linktext switchLink");var q=this.model.attributes.provider.url;$("#mp_companyhover",this.$el).attr("href",q);$("#mp_companyhover",this.$el).text(q);$("#mp_companyhover",this.$el).attr("target","_blank");$("#mp_companylink",this.$el).hide()}else{$("#mp_companyhover",this.$el).addClass("linktext switchLink");$("#mp_companyhover",this.$el).attr("href","#");$("#mp_companyhover",this.$el).removeAttr("target");$("#mp_companyhover",this.$el).text(NLS.bind("mf_asset_addLink"))}},showRequestEntitlementContainer:function(){var r=mobilefirst.utils.loginUtils.getCookie("user");if(typeof cm_showRequestEntitlementContainer!=="undefined"){cm_showRequestEntitlementContainer(this.model.id,this.model.attributes.name)}$("#overlayforEntitlementContainer").show();$("#request_entitlementcontainer").show();this.license=this.model.attributes.licenses[0];var t=this.license.pricing.entitlements;$("#request_entitlementcontainer",this.$el).html("");var u=new n({parent:this});$("#request_entitlementcontainer",this.$el).append(u.render());$("#interestedMessage",this.$el).html(NLS.bind("mf_asset_let_are_interested",this.license.salesContact.name,this.model.attributes.name));$("#messagebox",this.$el).attr("placeholder",NLS.bind("mf_asset_leave_message",this.license.salesContact.name));$("#entitlementIdForSelect",this.$el).html("");for(var s=0;s<t.length;s++){$("#entitlementIdForSelect",this.$el).append($("<option />",{value:s,text:t[s].value}))}var q=this},checkSendRequestButton:function(){var r=$("#entitlementIdForSelect",this.$el).is(":visible");var q="";if(r){q=$("#entitlementIdForSelect",this.$el).val()}if($("#messagebox",this.$el).val()!=""&&q!=null){$("#sendRequest",this.$el).prop("disabled",false);$("#sendRequest",this.$el).removeClass("disablebuttonColor");$("#sendRequest",this.$el).addClass("enablebuttonColor")}else{$("#sendRequest",this.$el).prop("disabled",true);$("#sendRequest",this.$el).removeClass("enablebuttonColor");$("#sendRequest",this.$el).addClass("disablebuttonColor");$("#sendRequest",this.$el).attr("title","provide some message for sales person")}},closeRequestEntitlementContainer:function(){$("#overlayforEntitlementContainer",this.$el).hide();$("#request_entitlementcontainer",this.$el).hide()},showDownloadContainer:function(){var r=mobilefirst.utils.loginUtils.getCurrentUser();if(r){$("#overlayforDownloadContainer",this.$el).show();$("#downloadDiv",this.$el).show();$("#downloadDiv",this.$el).html("");var q=new f({parent:this});$("#downloadDiv",this.$el).append(q.render());var t=$("#agreementurl",this.$el).attr("href");var s=this;t=t.substr(0,t.lastIndexOf("?"));$.ajax({type:"GET",url:t,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:"",xhrFields:{withCredentials:true},contentType:false,context:this,processData:false,success:function(u){$("#agreeementcontentContainer",s.$el).html(u)},error:function(u){mobilefirst.router.handleError(u,"#login",false,"Error:"+u.statusText)}})}else{if($("#signin").is(":visible")){$("#signin").click()}}},login:function(){mobilefirst.router.relogin(false);return true},closeDownloadContainer:function(){$("#overlayforDownloadContainer",this.$el).hide();$("#downloadDiv",this.$el).hide()},getAsset:function(r){var q=marketplace.AssetType.getAssetType(this.model.attributes.type);if(q===marketplace.AssetType.api){this.getApiKeys(r)}else{if(q.isDownloadable()){this.downloadAsset(r)}}},getApiKeys:function(r){$("#overlayForDeveloperKeysContainer",this.$el).show();var q=mobilefirst.utils.loginUtils.getCookie("user");var q=mobilefirst.utils.loginUtils.getCookie("user");this.closeDownloadContainer()},mouseEnterDeveloperKeysContainer:function(q){$("#developer_keys_boxclose",this.$el).show()},mouseLeaveDeveloperKeysContainer:function(q){$("#developer_keys_boxclose",this.$el).hide()},closeDeveloperKeysContainer:function(q){$("#overlayForDeveloperKeysContainer",this.$el).hide();$("#developerKeysContainer",this.$el).hide()},downloadAsset:function(q){$("#dloadlink",this.$el)[0].click();q.preventDefault();this.closeDownloadContainer()},showFlash:function(){this.loadFlash();var q=this;setTimeout(function(){q.disableFlash()},1000)},loadFlash:function(){this.$("#assetflash").fadeIn(320);this.$("#asseteditor").css("opacity","0.5");this.$("#asseteditor").fadeIn(1)},disableFlash:function(){this.$("#assetflash").fadeOut("normal");this.$("#asseteditor").css("opacity","1")},addLicenseAgreement:function(q){$("#licensefile",this.$el).click();q.preventDefault()},uploadLicenseAgreement:function(u){var t=u.currentTarget.files;var r=t[0];if(typeof r!="undefined"){this.agreementfile=r;var q=r.name;var s=q.substr(q.lastIndexOf(".")+1);if(s!="txt"){$("#erroragreementlink",this.$el).show();$("#attachmentName",this.$el).html(q);this.nofileerror=false}else{this.nofileerror=true;$("#attachedagreement",this.$el).show();$("#agreement",this.$el).hide();$("#attachmentName",this.$el).html("");$("#attachmentName",this.$el).html(q);$("#erroragreementlink",this.$el).hide()}}},checkExistingLicense:function(s){var t=s.attributes._id;if(typeof this.agreementfile!="undefined"&&this.agreementfile!=null){var r=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix;var q=this;$.ajax({type:"GET",url:r+mobilefirst.constants.urlseparator+t+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.ATTACHMENTS,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:"",xhrFields:{withCredentials:true},contentType:"application/json",dataType:"json",context:this,processData:false,success:function(w){var u=false;for(var v=0;v<w.length;v++){if(w[v].type===mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){q.deleteLicenseAgreeement(w[v]);u=true;break}}if(!u){q.saveLicenseAgreement()}},error:function(u){mobilefirst.router.handleError(u,"#login",false,"Error:"+u.statusText)}})}},deleteLicenseAgreeement:function(t){var v=this.model.attributes._id;var s=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+v;var u=s+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.LICENSES+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.LICENSEID;var r=u+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.ATTACHMENTS;var q=this;$.ajax({type:"DELETE",url:r+mobilefirst.constants.urlseparator+t.name,beforeSend:mobilefirst.constants.apiKeyBeforeSend,xhrFields:{withCredentials:true},context:this,success:function(w){q.saveLicenseAgreement()},error:function(w){mobilefirst.router.handleError(w,"#login",false,"Error:"+w.statusText)}})},saveLicenseAgreement:function(){var v=this.model.attributes._id;var s=this;var u=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+v;var r=mobilefirst.constants.licenseterms.LICENSEID;var w=u+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.LICENSES+mobilefirst.constants.urlseparator+r;var q=w+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.ATTACHMENTS;if(this.agreementfile!=null||typeof this.agreementfile!="undefined"){var t=this.agreementfile;$.ajax({type:"POST",url:q+"?name="+this.agreementfile.name+"&type="+mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:t,xhrFields:{withCredentials:true},contentType:"text/plain",context:this,processData:false,success:function(){s.model.fetch({success:function(x){s.renderCommercialInfo()}})},error:function(x){mobilefirst.router.handleError(x,"#login",false,"Error:"+x.statusText)}})}this.agreementfile=undefined},saveCommercialPage:function(){if(this.noValidationError()){var z=$("input[name=assetfor]:checked").val();var y=$("input[name=assetisa]:checked").val();var x=$("input[name=assetcost]:checked").val();var t=$.extend(true,[],this.model.get("licenses"));t[0].type=y;var A=new Object();if(z===mobilefirst.constants.licenseterms.ANYONE){this.model.attributes.privacy=mobilefirst.constants.privacy.PUBLIC;if(this.model.attributes.type===marketplace.AssetType.api.toString()){A.type=mobilefirst.constants.pricingtype.ENTITLEMENT;var s=new Array();$("#entitlementlist p").each(function(C){s[C]=new Object();var D=$("#entitlement",this).val();s[C].value=D});A.entitlements=s}else{A.type=mobilefirst.constants.pricingtype.COST_BASED;if(x!=mobilefirst.constants.licenseterms.FREE){var B=$("#assetcostamount").val();A.price=B}else{A.price="0"}}t[0].pricing=A;if(this.model.attributes.type===marketplace.AssetType.api.toString()||x!=mobilefirst.constants.licenseterms.FREE){var u,v,r;if(marketplace.AssetType.getAssetType(this.model.attributes.type).isServiceOffering()){u=$("#enterplan1").val();v=$("#enterplan2").val();r=$("#enterplan3").val()}else{u=$("#salespersonname").val();v=$("#salespersonemail").val();r=$("#salespersonnumber").val()}var q=new Object();q.name=u;q.email=v;q.phone=r;t[0].salesContact=q}else{t[0].salesContact=undefined}}else{this.model.attributes.privacy=mobilefirst.constants.privacy.PRIVATE;A.type=mobilefirst.constants.pricingtype.COST_BASED;A.price="0";t[0].pricing=A;t[0].salesContact=undefined}var w=this;this.model.save("licenses",t,{success:function(D,C){$(".commercialcontent",w.$el).show();$(".commercialcontent",w.$el).html("");$(".commercialmsg",w.$el).hide();w.checkExistingLicense(D);w.renderCommercialInfo();w.CurrentSaveTime=new Date()},error:function(E,C,D){mobilefirst.router.handleError(C,"#login",false,"Error:"+C.statusText)}})}},noValidationError:function(){var u=true;var t=true;var v=true;var r=true;var w=this.model.attributes.type;$("#errormsg").show();$("#errormsg").html("");$("#errormsg").append("<ol>");var x=$("input[name=assetisa]:checked").val();if(typeof(x)==="undefined"){$("#errormsg").append("<li><span>"+NLS.bind("mf_asset_no_asset_selected")+"</span></li>");u=false}var y=$("input[name=assetfor]:checked").val();if(y===mobilefirst.constants.licenseterms.ANYONE){var s=$("input[name=assetcost]:checked").val();var z=$("#assetcostamount").val();if(s!="free"){if(z===""||z==="0"||z==="$0"){$("#errormsg").append("<li><span>"+NLS.bind("mf_asset_no_cost")+"</span></li>");t=false}if(!marketplace.AssetType.getAssetType(w).isServiceOffering()){v=this.validateSalesInfo()}}}if($("#entitlementcontainer").css("display")!="none"){var q=false;$("#entitlementlist p").each(function(A){var B=$("#entitlement",this).val();if(B===""){q=true;$("#entitlement",this).addClass("borderforinvalidfield")}else{$("#entitlement",this).removeClass("borderforinvalidfield")}});if(q){$("#errormsg").append("<li><span>"+NLS.bind("mf_asset_entitlement_blank")+"</span></li>");r=false}v=this.validateSalesInfo()}$("#errormsg").append("</ol>");if(u&&t&&r&&v&&this.nofileerror){this.closeCommercialBox();return true}else{return false}},validateSalesInfo:function(){var q=$("#salespersonname").val();var s=$("#salespersonemail").val();var r=$("#salespersonnumber").val();if(q==""||s==""||r==""){$("#errormsg").append("<li><span>"+NLS.bind("mf_asset_provide_sale_info")+"</span></li>");return false}var t=/^\+(?:[0-9] ?){6,14}[0-9]$/;if(!t.test(r)){$("#errormsg").append("<li><span>"+NLS.bind("mf_asset_sales_phone_no")+"</span></li>");return false}var u=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(!u.test(s)){$("#errormsg").append("<li><span>"+NLS.bind("mf_asset_sales_email")+"</span></li>");return false}return true},renderCommercialInfo:function(){var q=mobilefirst.utils.loginUtils.getCookie("user");var t=this.model.attributes.licenses;var w=mobilefirst.utils.loginUtils.getCurrentUser();var C=false;if(w&&w.attributes.company===this.model.attributes.company){C=true}if(t[0].type!=""){var y=t[0];$(".commercialcontent",this.$el).show();$(".commercialcontent",this.$el).html("");$(".commercialmsg",this.$el).hide();var r=new Backbone.Model(y);var u=new h({model:r,parent:this});$(".commercialcontent",this.$el).append(u.render(this.model.attributes.type));$("#editCommercialTerms",this.$el).show();if(y.pricing.price==0){$("#costvalue",this.$el).html(NLS.bind("mf_asset_free"))}else{$("#costvalue",this.$el).html(y.pricing.price)}if(y.salesContact===undefined||y.salesContact.name===""){$("#salesRow",this.$el).hide()}var A=this;if(this.getMode()===mobilefirst.constants.modes.VIEW||this.getMode()===mobilefirst.constants.modes.APPROVAL||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL){if(this.model.attributes.type!=marketplace.AssetType.api.toString()){if(A.model.attributes.state.toUpperCase()!==mobilefirst.constants.state.published.toUpperCase()||q===this.model.attributes.createdBy.id||C){if(this.getDownloadableIndex()!=-1){$("#downloadlink",A.$el).show()}}else{if(mobilefirst.constants.publicpages.nologin&&!mobilefirst.utils.loginUtils.isLoggedIn()){if(A.getDownloadableIndex()!=-1){if(y.pricing.price==0){$("#downloadlink",A.$el).show()}else{$("#purchaselink",A.$el).show();$("#downloadlink",A.$el).hide()}}}else{}}}}var s=this.model.attributes.attachments;var B=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot;var z=false;for(var x=0;x<s.length;x++){if(s[x].type==mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){var v=$("#agreementurl",this.$el).attr("href");$("#agreementurl",this.$el).attr("href",B+s[x].url);z=true;break}}if(!z){$("#agreementrowId",this.$el).hide()}$("#commericalEditHeader",this.$el).css("border-bottom","1px solid #a4a4a4")}else{$("#commericalEditHeader",this.$el).css("border-bottom","0px")}},applyApiKey:function(q){if(q&&q.indexOf("?apiKey=")<0){q=q+"?"+mobilefirst.constants.apiKeyStr}return q},showtooltipmessage:function(){$("#purchaseTooltip",this.$el).show();var q=$("#purchase_requested_link",this.$el).is(":visible");var s=0;if(q){s=$("#purchase_requested_link",this.$el).position().left}var r=$("#entitlement_requested_link",this.$el).is(":visible");if(r){s=$("#entitlement_requested_link",this.$el).position().left}$("#purchaseTooltip",this.$el).css({left:s+30});$("#tooltipmessage",this.$el).html(NLS.bind("mf_asset_purchase_tooltip_msg",this.model.attributes.licenses[0].salesContact.name))},hidetooltipmessage:function(){$("#purchaseTooltip",this.$el).hide()},inviteAuthors:function(){$("#overlayforauthor").show();var v=mobilefirst.utils.loginUtils.getCookie("user");$(".author_container").show();var s=this.model.attributes._id;var r=window.location.protocol+"//"+document.location.hostname+":"+document.location.port+"/#mobilefirst/"+s;$("#assetShareLink",this.$el).prop("value",r);var t=this.model.attributes.authors;$(".authorList",this.$el).html("");$("#authorIdForSelect",this.$el).html("");for(var u=0;u<t.length;u++){var q=new Backbone.Model(t[u]);var y=new j({model:t[u],parent:this});$(".authorList",this.$el).append(y.render())}var w="IBM";$.ajax({type:"get",url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix+"/"+model.attributes.userId,data:null,contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(z){w=z.company},error:function(z){mobilefirst.router.handleError(z,"#login",false,"Error:"+z.statusText)}});var x=this;$.ajax({type:"get",url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix+"?company="+w,data:null,contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(A){for(var z=0;z<A.length;z++){$("#authorIdForSelect",x.$el).append($("<option />",{value:A[z]._id,text:A[z].name}))}},error:function(z){mobilefirst.router.handleError(z,"#login",false,"Error:"+z.statusText)}})},addSaveAuthor:function(){var v=$("#authorIdForSelect").val();var r=this;var t=r.model.get("authors");for(var s=0;s<=t.length-1;s++){if(t[s].author_id===v){alert("This author is already added.");return}}var q=$("#assetShareLink").prop("value");var u=q.slice(q.lastIndexOf("/")+1);$.ajax({type:"get",url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix+"/"+model.attributes.userId,data:null,contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(y){var w=new Object();w.author_id=y._id;w.mode=$("#authorModeForSelect").val();w.name=y.name;r.model.get("authors").push(w);var x=new j({model:w,parent:this});$(".authorList",r.$el).append(x.render());var z=new Object();z.to=y.email;z.subject="Asset Shared for collaboration from MarketPlace";z.body="<p>Click below to view the asset</p><p>"+q+"</p>";r.model.save(null,{success:function(){$.ajax({type:"POST",url:mobilefirst.constants.prefix.restapiurl+"notification",data:JSON.stringify(z),beforeSend:mobilefirst.constants.apiKeyBeforeSend,xhrFields:{withCredentials:true},dataType:"json",contentType:"application/json",success:function(){alert("Asset Link is successfully sent to "+w.author_id)},error:function(){}})}})},error:function(w){mobilefirst.router.handleError(w,"#login",false,"Error:"+w.statusText)}})},closeInviteAuthorsBox:function(){$("#overlayforauthor").hide();$(".author_container").hide()},closeCommercialBox:function(){$("#overlayforcommercialbox").hide();$("#commercialContainerBox").hide()},showCommercialDialog:function(){this.nofileerror=true;$("#commercialContainerBox",this.$el).html("");$("#overlayforcommercialmsg").hide();var q=new b({model:this.model,parent:this});$("#commercialContainerBox",this.$el).append(q.render());$("#commercialContainerBox").show();$("#overlayforcommercialbox").show();$("#assetforcompany",this.$el).html(NLS.bind("mf_asset_company",this.model.attributes.provider.name));if(this.model.attributes.type===marketplace.AssetType.api.toString()){$(".trialversion").hide();$("#assetcost").hide();$("#whohandlesale").hide();if(this.model.attributes.privacy===mobilefirst.constants.privacy.PUBLIC){this.model.attributes.licenses[0].pricing.type=mobilefirst.constants.pricingtype.ENTITLEMENT;$("#salesInfoContainer").show();$("#entitlementcontainer").show()}else{$("#salesInfoContainer").hide();$("#entitlementcontainer").hide()}}else{$("#salesInfoContainer",this.$el).css("margin-left","20px");$("#whohandlesale").show();$("#salesmessage").hide()}},showPurchaseDialog:function(t,r){var q=mobilefirst.utils.loginUtils.getCurrentUser();if(q){if(typeof cm_showPurchaseDialog!=="undefined"){cm_showPurchaseDialog(this.model.id,this.model.attributes.name)}$("#overlayforpurchase").show();$("#purchase_container").show();this.license=this.model.attributes.licenses[0];$("#puchase_content",this.$el).html("");var s=new a({parent:this});$("#puchase_content",this.$el).append(s.render());if(!marketplace.AssetType.getAssetType(this.model.attributes.type).isServiceOffering()){$("#headermessage",this.$el).html(NLS.bind("mf_asset_to_purchase",this.model.attributes.provider.name));$("#interestedMessage",this.$el).html(NLS.bind("mf_asset_let_are_interested",this.license.salesContact.name,""));$("#planbox",this.$el).hide();$("#messagebox",this.$el).attr("placeholder",NLS.bind("mf_asset_leave_message",this.license.salesContact.name)).show();$("#sendRequest",this.$el).show();$("#sendPlanRequest",this.$el).hide();$("#plan1",this.$el).hide();$("#plan2",this.$el).hide();$("#plan3",this.$el).hide()}else{$("#messagebox",this.$el).hide();$("#planbox",this.$el).show();$("#sendRequest",this.$el).hide();$("#sendPlanRequest",this.$el).show();if(!r){$("#plan1",this.$el).attr("value",this.license.salesContact.name);$("#plan1text",this.$el).text(this.license.salesContact.name);$("#plan2",this.$el).attr("value",this.license.salesContact.email);$("#plan2text",this.$el).text(this.license.salesContact.email);$("#plan3",this.$el).attr("value",this.license.salesContact.phone);$("#plan3text",this.$el).text(this.license.salesContact.phone)}else{$("#plan1",this.$el).attr("value",this.license.salesContact.name);$("#plan1text",this.$el).text(this.license.salesContact.name);if(r.indexOf(this.license.salesContact.name)!=-1){$("#plan1",this.$el).prop("checked",true).attr("disabled",true)}$("#plan2",this.$el).attr("value",this.license.salesContact.email);$("#plan2text",this.$el).text(this.license.salesContact.email);if(r.indexOf(this.license.salesContact.email)!=-1){$("#plan2",this.$el).prop("checked",true).attr("disabled",true)}$("#plan3",this.$el).attr("value",this.license.salesContact.phone);$("#plan3text",this.$el).text(this.license.salesContact.phone);if(r.indexOf(this.license.salesContact.phone)!=-1){$("#plan3",this.$el).prop("checked",true).attr("disabled",true)}}$("#headermessage",this.$el).html(NLS.bind("mf_asset_select_plan_to_purchase",this.model.attributes.provider.name));$("#interestedMessage",this.$el).html(NLS.bind("mf_asset_let_select_plan",this.license.salesContact.name,this.model.attributes.name))}}else{if($("#signin").is(":visible")){$("#signin").click()}}},showPurchaseDialogForMore:function(){var q=mobilefirst.utils.loginUtils.getCookie("user")},entitleSubscriber:function(){var q=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.model.attributes._id+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.subscribe;var r="";$.ajax({type:"POST",url:q,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:r,xhrFields:{withCredentials:true},contentType:"application/json",context:this,processData:false,success:function(){},error:function(s){mobilefirst.router.handleError(s,"#login",false,"Error:"+s.statusText)}})},raisePurchaseOrder:function(){$("#requestNewEntitlementLink",this.$el).hide();var r=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.purchases;var s=new mobilefirst.PurchaseOrder();s.urlRoot=r;s.attributes.assetId=this.model.attributes._id;s.attributes.comments=$("#messagebox",this.$el).val();var t=this;if(this.model.attributes.type===marketplace.AssetType.api.toString()){var q=$("select[name='entitlementIdForSelect'] option:selected").val();s.attributes.entitlementId=q}s.save("","",{success:function(v,u){if(typeof cm_raisePurchaseOrder!=="undefined"){cm_raisePurchaseOrder(this.model.id,this.model.attributes.name)}if(t.model.attributes.type===marketplace.AssetType.api.toString()){$("#entitlement_requested_link",t.$el).show();$("#request_entitlement_link",t.$el).hide()}else{$("#purchaselink",this.$el).hide();$("#purchase_requested_link",t.$el).show()}}});this.closePurchaseBox()},raisePurchasePlanOrder:function(){$("#requestNewEntitlementLink",this.$el).hide();var q=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.purchases;var r=new mobilefirst.PurchaseOrder();r.urlRoot=q;r.attributes.assetId=this.model.attributes._id;var t=[];$("input:checkbox[name=plan]:checked").each(function(u){t[u]=$(this).val()});r.attributes.comments=t.join("@#");if(r.attributes.comments==""){return}var s=this;r.save("","",{success:function(v,u){if(typeof cm_raisePurchaseOrder!=="undefined"){cm_raisePurchaseOrder(this.model.id,this.model.attributes.name)}var w=v.attributes.comments.split("@#");if(w.length<=0){$("#purchaselink",this.$el).show()}else{$("#purchaselink",this.$el).hide();$("#subscribe_after_purchase_link",s.$el).hide();var x=$("#orderRelatedInfo",s.$el);$(x).append('<br><span class="serviceplanvalue">Service Plans:</span>');w.forEach(function(z,y){$(x).append($("<br>"));$(x).append(". "+z)});$(x).show();if(w.length<3){$("#purchase_more_plan_link",this.$el).show()}}}});this.closePurchaseBox()},showAuthorBox:function(){var q=this;$("#authorDivMsg",this.$el).html("");this.model.fetch({success:function(){var t=new k({model:q.model,parent:this});$("#authorDivMsg",q.$el).append(t.render());var s=q.position(document.getElementById("invitebtn"));var r=s.x+(s.w/2)-175;var v=s.y+s.h;var w=r;var u=v+(32-3);q.position(document.getElementById("authorDiv"),{x:w-(w+100),y:u-23});document.getElementById("authorDiv").style.display="block";q.position(document.getElementById("triangle2"),{x:r-r,y:v-10});document.getElementById("triangle2").style.display="block"},error:function(r){mobilefirst.router.handleError(r,"#login",false,"Error:"+r.statusText)}})},showAuthorContainer:function(){$(".addAuthorContainer").fadeToggle()},hideAuthorBox:function(){$("#authorDiv").hide();$("#triangle2").hide()},showEditButton:function(u){var r=$(u.currentTarget).height();var t=$("#commercialTermTitle").height();var q=$(u.currentTarget).position();var s=(r*-1)-(t*3);$("#overlayforcommercialmsg").show();$("#overlayforcommercialmsg").height(r+t);$("#overlayforcommercialmsg").css({top:s})},hideEditButton:function(){$("#overlayforcommercialmsg").hide()},closePurchaseBox:function(){$("#overlayforpurchase").hide();$("#purchase_container").hide();$("#overlayforDownloadContainer").hide();$("#downloadDiv").hide();$("#overlayforEntitlementContainer").hide();$("#request_entitlementcontainer").hide()},popupTbFileBrowserToAdd:function(q){$("#tbinputadd").click();q.preventDefault()},popupFileBrowserToUpload:function(q){$("#ulinputchange").click();q.preventDefault()},goBack:function(){$(".headerView").show();Backbone.history.history.back()},saveAssetName:function(){var q=this.$("#namebox");var r=this.$(q).val();this.saveModel("name",r);if(r===""){$(q).css({"border-style":"solid"})}else{$(q).removeAttr("style")}if(typeof cm_saveAssetName!=="undefined"){cm_saveAssetName(this.model.id,this.model.attributes.name)}},saveProvisionUrl:function(){var q=$.extend(true,{},this.model.get("provider"));q.provision_url=this.$("#urlbox").val();this.saveModel("provider",q)},saveSecret:function(){var q=$.extend(true,{},this.model.get("provider"));q.secret=this.$("#secretbox").val();this.saveModel("provider",q)},saveVersionNumber:function(){this.saveModel("version",$("#versionbox").val());if(typeof cm_saveVersionNumber!=="undefined"){cm_saveVersionNumber(this.model.id,this.model.attributes.name)}},saveIndustryTags:function(){var q=$.extend(true,[],this.model.get("tags"));while(q.length>0){q.pop()}$("#industrylist .industryName",this.$el).each(function(r,t){var s=$(t).attr("id");var u=marketplace.AssetCategory.getAssetCategoryById(s);if(u){q.push(u.getName())}});this.saveModel("tags",q);if(typeof cm_saveIndustryTags!=="undefined"){cm_saveIndustryTags(this.model.id,this.model.attributes.name)}},savePlatforms:function(){var t=$.extend(true,{},this.model.get("information"));var q=this.$("#platformlist .platformName");var r=new Array();for(var s=0;s<q.length;s++){r[s]=q[s].innerText}t.platforms=r;this.saveModel("information",t);if(typeof cm_savePlatforms!=="undefined"){cm_savePlatforms(this.model.id,this.model.attributes.name)}},saveLanguages:function(){var r=$.extend(true,{},this.model.get("information"));var q=this.$("#informationlanguages");var s=q.val().trim();r.languages=s.split(",");this.saveModel("information",r);if(typeof cm_saveLanguages!=="undefined"){cm_saveLanguages(this.model.id,this.model.attributes.name)}if(s===""){this.$("#infoboxlanguages a.linktext").show();q.hide()}},savePrerequisites:function(){var q=$.extend(true,{},this.model.get("information"));var s=this.$("#informationplatformrequirements");var r=s.val().trim();q.platformrequirements=r.split(",");this.saveModel("information",q);if(typeof cm_savePrerequisites!=="undefined"){cm_savePrerequisites(this.model.id,this.model.attributes.name)}if(r===""){this.$("#infoboxprerequisites a.linktext").show();s.hide()}},saveModel:function(t,u){this.CurrentSaveTime=new Date();var s=u;var q=this.model.get(t);if(JSON.stringify(s)!=JSON.stringify(q)){this.model.set(t,u);globalModel=this;if(this.model.id!=null){this.model.save("","",{success:function(w,v){},error:function(x,v,w){mobilefirst.router.handleError(v,"#login",false,"Error:"+v.statusText)}})}else{if(!this.isCreatingNew||this.isCreatingNew==false){this.createNewAsset(this.renderUploadLinks)}else{var r=this;this.addOnCreatedListener(function(){r.saveModel(t,u)})}}}},addOnCreatedListener:function(q,r){if(q!=undefined){if(this.onCreatedListeners==undefined){this.onCreatedListeners=[]}this.onCreatedListeners.push({callback:q,context:r})}},createNewAsset:function(q,r){console.log("*** lets create a new asset");var s=this;this.addOnCreatedListener(q,r);if(!this.isCreatingNew||this.isCreatingNew==false){this.isCreatingNew=true;this.model.set("state","draft");this.model.attributes.authors[0].author_id=mobilefirst.utils.loginUtils.getCookie("user");this.model.attributes.authors[0].name=mobilefirst.utils.loginUtils.getCookie("name");this.model.attributes.authors[0].mode="PUBLISH";this.model.save("","",{success:function(v,u){console.log("*** new asset created");s.isCreatingNew=false;var t=this;if(s.onCreatedListeners){_.each(s.onCreatedListeners,function(x){var y=x.callback;var w=x.context;if(w!=undefined){y.call(w,t.model)}else{y.call(s,t.model)}})}},error:function(v,t,u){s.isCreatingNew=false;mobilefirst.router.handleError(t,"#login",false,"Error:"+t.statusText)}})}},changeInputColor:function(q){if(q.currentTarget.value==""){$(q.currentTarget).removeClass("inputfield_active")}else{$(q.currentTarget).addClass("inputfield_active")}},renderUploadLinks:function(){var q=this.model.urlRoot+"/"+this.model.id+"/attachments";$("#uform").attr("action",q);$("#vform").attr("action",q);$("#wform").attr("action",q);$("#iform").attr("action",this.model.urlRoot+"/"+this.model.id)},saveProductDescription:function(){var q=this.richEditorView.getData();this.saveModel("description",q);if(typeof cm_saveProductDescription!=="undefined"){cm_saveProductDescription(this.model.id,this.model.attributes.name)}},saveShortDescription:function(r){var q=$(r.currentTarget).val();this.saveModel("shortDescription",q);if(typeof cm_saveShortDescription!=="undefined"){cm_saveShortDescription(this.model.id,this.model.attributes.name)}},publishAsset:function(){var q=this.model.validateModel();if(q.length==0){var r=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",xhrFields:{withCredentials:true},data:'{ "action" : "publish"}',success:function(){if(typeof cm_publishAsset!=="undefined"){cm_publishAsset()}r.goBack()},error:function(s){mobilefirst.router.handleError(s,"#login",false,"Error:"+s.statusText)}})}else{this.showValidationErrors(q)}},getDownloadableIndex:function(t){var q=this.model.getDownloadable();var r=-1;for(var s=0;s<q.length;s++){if(q[s].type===mobilefirst.constants.attachmenttype.CONTENT){r=s;$("#infoboxsizevalue",this.$el).html(this.formatSize(q[s].size));break}}if(r==-1){$("#infoboxsizevalue",this.$el).html("0")}return r},formatSize:function(r){var q=1024;if(r<q){return r+" bytes"}else{r=Math.round(r*100/q)/100;if(r<q){return r+" KB"}else{r=Math.round(r*100/q)/100;return r+" MB"}}},getDownloadableUrl:function(){var q=this.model.getDownloadable();var r="";for(var s=0;s<q.length;s++){if(q[s].type===mobilefirst.constants.attachmenttype.CONTENT){r=q[s].url;break}}return r},renderHeaderBtns:function(){var q=this.$("#publishbtn");if(this.model.getState()==="need_more_info"){$(q).text(NLS.bind("mf_assetEditor_publishAgainBtn"))}else{$(q).text(NLS.bind("mf_assetEditor_publishBtn"))}},renderAssetName:function(){var q=this.$("#namebox");var r=$(q).val();if(r===""){$(q).css({"border-style":"solid"})}else{$(q).removeAttr("style")}$(q).attr("placeholder",NLS.bind("mf_assetEditor_namePlaceHolder_"+this.model.attributes.type))},renderDownloadableButtons:function(){var q=this.getDownloadableIndex();if(this.getMode()===mobilefirst.constants.modes.EDIT){if(q>=0){$("#dloadlink",this.$el).attr("href",mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+this.getDownloadableUrl()+"&license=agree");$("#uloadbutton",this.$el).hide();$("#delbutton",this.$el).show()}else{$("#dloadlink",this.$el).attr("href","");if(!marketplace.AssetType.getAssetType(this.model.attributes.type).isServiceOffering()){$("#uloadbutton",this.$el).show();$("#delbutton",this.$el).hide()}else{$("#uloadbutton",this.$el).hide();$("#delbutton",this.$el).hide()}}}else{if(q>=0){$("#dloadlink",this.$el).attr("href",mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+this.getDownloadableUrl()+"&license=agree");$("#downloadlink",this.$el).show();$("#uloadbutton",this.$el).hide();$("#delbutton",this.$el).hide()}else{$("#dloadlink",this.$el).attr("href","");$("#downloadlink",this.$el).hide();$("#uloadbutton",this.$el).hide();$("#delbutton",this.$el).hide()}}},renderInfo:function(){this.renderplatforms();var q=this.$("#informationlanguages");if($.trim(q.val())===""){q.hide();this.$("#infoboxlanguages a.linktext").show()}var r=this.$("#informationplatformrequirements");if($.trim(r.val())===""){r.hide();this.$("#infoboxprerequisites a.linktext").show()}},renderAssetRating:function(){mobilefirst.assetRatingView=new mobilefirst.AssetRatingView({assetId:this.model.attributes._id,parent:this});$("#mp_rating",this.$el).append(mobilefirst.assetRatingView.render())},addDownloadable:function(r){var q=this;if(this.model.id!=null){this.uploadDownloadable(r)}else{console.log("*** adding downloadble package");this.createNewAsset(function(){q.uploadDownloadable(r)})}return false},uploadDownloadable:function(s){globalModel=this;console.log("*** uploading packaged... ");var q=$("#uloadbutton",this.$el);q.hide();var u=$("<img/>").attr("src","images/icons/loading.gif").addClass("uploadindicator");$("#downloadablebuttons",this.$el).append(u);var r=s.currentTarget.files;var t=new FormData($("#wform")[0]);$.ajax({type:"POST",url:$("#wform")[0].action+"/"+this.model.attributes._id+"/attachments?name="+r[0].name+"&type="+mobilefirst.constants.attachmenttype.CONTENT,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:t,xhrFields:{withCredentials:true},contentType:false,context:this,processData:false,success:function(){if(typeof cm_uploadDownloadable!=="undefined"){cm_uploadDownloadable(this.model.id,this.model.attributes.name)}u.remove();q.show();this.model.fetch({success:this.renderDownloadableButtons})},error:function(v){mobilefirst.router.handleError(v,"#login",false,"Error:"+v.statusText)}});return false},deleteDownloadable:function(q){$.ajax({url:$("#dloadlink",this.$el).attr("href"),beforeSend:mobilefirst.constants.apiKeyBeforeSend,type:"DELETE",context:this,xhrFields:{withCredentials:true},success:function(){if(typeof cm_deleteDownloadable!=="undefined"){cm_deleteDownloadable(this.model.id,this.model.attributes.name)}this.model.fetch({success:this.renderDownloadableButtons})},error:function(r){mobilefirst.router.handleError(r,"#login",false,"Error:"+r.statusText)}});return false},addThumbnail:function(r){if(this.model.id!=null){this.uploadThumbnail(r)}else{var q=this;this.createNewAsset(function(){q.renderUploadLinks();q.uploadThumbnail(r)})}return false},uploadThumbnail:function(r){var q=r.currentTarget.files;var s=new FormData($("#iform")[0]);$.ajax({type:"POST",url:$("#iform")[0].action+"/thumbnail",beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:s,xhrFields:{withCredentials:true},contentType:false,context:this,processData:false,success:function(){if(typeof cm_uploadThumbnail!=="undefined"){cm_uploadThumbnail(this.model.id,this.model.attributes.name)}var t=this;this.model.fetch({success:t.renderThumbnail})},error:function(t){mobilefirst.router.handleError(t,"#login",false,"Error:"+t.statusText)}});return false},deleteThumbnail:function(q){$.ajax({type:"DELETE",url:$("#iform")[0].action+"/thumbnail",beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:false,xhrFields:{withCredentials:true},context:this,processData:false,success:function(){if(typeof cm_deleteThumbnail!=="undefined"){cm_deleteThumbnail(this.model.id,this.model.attributes.name)}var r=this;this.model.fetch({success:r.renderThumbnail})},error:function(r){mobilefirst.router.handleError(r,"#login",false,"Error:"+r.statusText)}});return false},renderThumbnail:function(){var u=this.model.getThumbnail();var r=$("#tnimage",this.$el);var w=this.model.getThumbnailAttachment();if(w.length!=0){$(".tnimage",this.$el).show();$(r).show();$("#tbadd",this.$el).hide();if(this.getMode()===mobilefirst.constants.modes.EDIT){var t=this.$("#thumbnail .tnimage");$('<a id="removethumbnail"/>').addClass("removeIcon removeThumbnailLocation").appendTo($(t));$(r).css("background","transparent")}else{$(".tnimage",this.$el).css("background","#fff");$(".tnimage",this.$el).css("border-radius","4px")}}else{$(r).hide();if(this.getMode()===mobilefirst.constants.modes.EDIT){$(".tblink",this.$el).show();$("#tbadd",this.$el).show()}else{$(".tblink",this.$el).hide();$("#tbadd",this.$el).hide();$(".tblink",this.$el).css("border","10px solid #fff");$(".tblink",this.$el).css("border-radius","4px")}$deletmark=$("#removethumbnail",this.$el).remove()}$(r).attr("src",u);var v={height:0,width:0};var q=$("#tnimagediv",this.$el);var s=new Image();s.src=u;s.onload=function(){v.height=s.height;v.width=s.width;mobilefirst.utils.common.fitInImageFrame(r,v,q)}},saveAssetCompanyLink:function(){var s=this.$("#mp_companylink");var r=s.val().trim();var q=$.extend(true,{},this.model.get("provider"));q.url=r;this.saveModel("provider",q);if(typeof cm_saveAssetCompanyLink!=="undefined"){cm_saveAssetCompanyLink(this.model.id,this.model.attributes.name)}if(r===""){this.$("#companyinfo a.linktext").show();s.hide()}},comingSoon:function(){alert("Future attraction! Coming soon...")},hideEditor:function(s){var r=this.getActiveEditor();if(r.length>0){if(r===mobilefirst.constants.richTextEditor){this.richEditorView.hideEditorArea();this.activeEditor=""}else{if(r.indexOf(mobilefirst.constants.apiReferenceEditor)===0){var q=r.substring(mobilefirst.constants.apiReferenceEditor.length);if((s!==undefined)&&(!$(s.target).closest(this.apiResourcesView.getAPIReferenceName(q)).length)){this.apiResourcesView.saveAndHideEditor(q);this.activeEditor=""}}}}},onMouseEnterIllustrationSection:function(){$("#illustrationsection",this.$el).css("background-color","#dae4f1");$("#imgframe",this.$el).css("background-color","#d7e1ee");$("#imgframe",this.$el).css("border-color","#d0dae7");$("#selector",this.$el).css("background-color","#d3ddea")},onMouseLeaveIllustrationSection:function(){$("#illustrationsection",this.$el).css("background-color","#f6f6f6");$("#imgframe",this.$el).css("background-color","#f4f4f4");$("#selector",this.$el).css("background-color","#f2f2f2");$("#imgframe",this.$el).css("border-color","#f0f0f0")},position:function(t,u){if(u){if(u.x){t.style.left=u.x+"px"}if(u.y){t.style.top=u.y+"px"}if(u.w){t.style.width=u.w+"px"}if(u.h){t.style.height=u.h+"px"}}else{var q=t;for(var s=0,r=0;q!=null;s+=q.offsetLeft,r+=q.offsetTop,q=q.offsetParent){}u={x:s,y:r,w:t.offsetWidth,h:t.offsetHeight}}return u},addPlatforms:function(q){this.$("#infoboxplatforms a.linktext").hide();this.$("#informationplatforms").show().focus();return false},addLanguages:function(q){this.$("#infoboxlanguages a.linktext").hide();this.$("#informationlanguages").show().focus();return false},addRequirements:function(q){this.$("#infoboxprerequisites a.linktext").hide();this.$("#informationplatformrequirements").show().focus();return false},addCompanyLink:function(q){this.$("#companyinfo a.linktext").hide();var r=this.$("#mp_companylink");r.css("display","inline");r.focus();return false},showValidationErrors:function(q){if(this.assetValidationErrorsView){this.assetValidationErrorsView.destroy()}this.assetValidationErrorsView=new mobilefirst.AssetValidationErrorsView({model:q,parent:this});$("#assetstatusheader",this.$el).html(this.assetValidationErrorsView.render({parent:this}))}});var j=mobilefirst.TemplateView.extend({templateName:"AuthorList",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{"click .rowDelete":"deleteAuthor","change #authorModeSelect":"updateAuthor"},render:function(){var r=this.model;this.$el.html(this.template(this.model));$("#authorModeSelect option[value='"+r.mode+"']",this.$el).attr("selected","selected");var q=mobilefirst.utils.loginUtils.getCookie("user");if(q===r.author_id){$(".rowDelete",this.$el).hide();$("#authorModeSelect",this.$el).attr("disabled","disabled")}return this.$el},updateAuthor:function(q){this.getAndUpdateAssetDetails(q,"updateMode")},deleteAuthor:function(q){this.getAndUpdateAssetDetails(q,"deleteAuthor")},getAndUpdateAssetDetails:function(s,t){var r=$("#assetShareLink").prop("value");var u=r.slice(r.lastIndexOf("/")+1);var v=s.target.value;var q=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+u,beforeSend:mobilefirst.constants.apiKeyBeforeSend,type:"GET",dataType:"json",xhrFields:{withCredentials:true},success:function(y){var w=y.authors;if("deleteAuthor"===t){for(var x=0;x<w.length;x++){if(w[x].author_id===q.model.author_id){w.splice(x,1);break}}}else{for(var x=0;x<w.length;x++){if(w[x].author_id===q.model.author_id){w[x].mode=v;break}}}y.authors=w;$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+u,type:"PUT",beforeSend:mobilefirst.constants.apiKeyBeforeSend,dataType:"json",contentType:"application/json",data:JSON.stringify(y),xhrFields:{withCredentials:true},success:function(z){if("deleteAuthor"===t){q.remove()}},error:function(z){var A="error saving asset details for asset id:"+u;mobilefirst.router.handleError(z,"#login",false,"Error:"+A)}})},error:function(w){var x="error gettting asset details for asset id:"+u;mobilefirst.router.handleError(w,"#login",false,"Error:"+x)}})}});var k=mobilefirst.TemplateView.extend({templateName:"AuthorDivMsg",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){var r=this.model;var q=r.attributes.authors;this.$el.html(this.template(q));return this.$el}});var h=mobilefirst.TemplateView.extend({templateName:"CommercialInfo",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}});var b=mobilefirst.TemplateView.extend({templateName:"CommercialTerms",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{"click input[name=assetcost]":"showSalesContainer","click input[name=assetfor]":"showCommercialRightDiv","click .mf_boxclose":"closeCommercialBox","click #addEntitlement":"addEntitlement","click #remEntitlement":"removeEntitlement","click input[name=assetisa]":"enableSaveButton","click #assetcost1":"hideSalesInfoContainer","click #assetCompany":"disableAssetAnyone","click #assetAnyone":"enableAssetAnyone"},hideSalesInfoContainer:function(){$("#salesInfoContainer").hide()},disableAssetAnyone:function(){$("#salesInfoContainer").hide();$("#entitlementcontainer").hide();$("#assetcost1",this.$el).prop("checked",false);$("#assetcost2",this.$el).prop("checked",false);$("#assetcost1",this.$el).prop("disabled",true);$("#assetcost2",this.$el).prop("disabled",true);$("#assetcostamount",this.$el).prop("disabled",true);$(".assetCostLabel",this.$el).addClass("disableAssetPriceFonts");$("#salespersonname",this.$el).val("");$("#salespersonemail",this.$el).val("");$("#salespersonnumber",this.$el).val("");$("#assetcostamount",this.$el).val("")},enableAssetAnyone:function(){$("#assetcost1",this.$el).prop("checked","checked");$("#assetcost1",this.$el).prop("disabled",false);$("#assetcost2",this.$el).prop("disabled",false);$("#assetcostamount",this.$el).prop("disabled",false);$("#assetcost2",this.$el).prop("checked",false);$(".assetCostLabel",this.$el).removeClass("disableAssetPriceFonts");if(this.model.attributes.type===marketplace.AssetType.api.toString()){$("#salesInfoContainer").show();$("#entitlementcontainer").show()}},enableSaveButton:function(){$("#mf_commercialSaveButton",this.$el).prop("disabled",false);$("#mf_commercialSaveButton",this.$el).removeClass("disablebuttonColor");$("#mf_commercialSaveButton",this.$el).addClass("enablebuttonColor")},showSalesContainer:function(s){var r=$(s.currentTarget).val();var q=$("input[name=assetfor]:checked").val();if(r==="free"){$("#salesInfoContainer").hide();$("#salespersonname",this.$el).val("");$("#salespersonemail",this.$el).val("");$("#salespersonnumber",this.$el).val("");$("#assetcostamount",this.$el).val("");if(q==="company"){$("#anyonewhopaid").hide();$("#thosewhopaid").hide();$("#onlycompany2").show()}else{if(q==="anyone"){$("#anyonewhopaid").show();$("#thosewhopaid").hide();$("#onlycompany2").hide()}}$("#assetcostamount",this.$el).prop("disabled",true)}else{$("#assetcostamount",this.$el).prop("disabled",false);if(marketplace.AssetType.getAssetType(this.model.attributes.type).isServiceOffering()){$("#plansInfoContainer").show()}else{$("#salesInfoContainer").show()}$("#anyonewhopaid").hide();$("#thosewhopaid").show();$("#onlycompany2").hide()}},addEntitlement:function(){var s=$("#entitlementlist");var r=$("#entitlementlist p").size()+1;var t=new Object();t.name="entitlement"+r;t.value="";$("#remEntitlement",this.$el).show();var q=new Backbone.Model(t);var u=new m({model:q,parent:this});s.append(u.render());return false},removeEntitlement:function(r){$(r.currentTarget).parents("p").remove();var q=$("#entitlementlist p").size();if(q==1){$("#remEntitlement",this.$el).hide()}return false},closeCommercialBox:function(){$("#overlayforcommercialbox").hide();$("#commercialContainerBox").hide()},showCommercialRightDiv:function(s){var q=$(s.currentTarget).val();var r=$("input[name=assetcost]").val();if(q==="anyone"){$("#anyone").show();$("#onlycompany1").hide();if(r==="free"){$("#anyonewhopaid").show();$("#thosewhopaid").hide();$("#onlycompany2").hide()}else{$("#thosewhopaid").show();$("#anyonewhopaid").hide()}}else{if(q==="company"){$("#anyone").hide();$("#onlycompany1").show();$("#anyonewhopaid").hide();if(r==="free"){$("#thosewhopaid").hide();$("#onlycompany2").show()}else{$("#thosewhopaid").show();$("#onlycompany2").hide()}}}},render:function(){this.$el.html(this.template(this.model));this.renderingCommercialTerm(this.model);this.renderAgreeementAttachent(this.model);return this.$el},renderingCommercialTerm:function(v){var x=v.attributes.licenses[0];var G=v.attributes.privacy;var t=mobilefirst.constants.licenseterms.ANYONE;var s=mobilefirst.constants.licenseterms.FREE;if(G===mobilefirst.constants.privacy.PRIVATE){$("#anyone",this.$el).hide();$("#anyonewhopaid",this.$el).hide();$("#onlycompany1",this.$el).show();$("#onlycompany2",this.$el).show();t=mobilefirst.constants.licenseterms.COMPANY}if(x.pricing.type===mobilefirst.constants.pricingtype.COST_BASED&&x.pricing.price=="0"){$("#assetcostamount",this.$el).val("");$("#assetcostamount",this.$el).prop("disabled",true)}else{if(x.pricing.type===mobilefirst.constants.pricingtype.COST_BASED&&x.pricing.price!="0"){$("#thosewhopaid",this.$el).show();$("#anyonewhopaid",this.$el).hide();$("#onlycompany2",this.$el).hide();s=mobilefirst.constants.licenseterms.NOTFREE}}var B=x.type;var D=$("input[name=assetisa]",this.$el);var y=$("input[name=assetfor]",this.$el);var u=$("input[name=assetcost]",this.$el);y.filter("[value="+t+"]").prop("checked",true);D.filter("[value="+B+"]").prop("checked",true);if(t===mobilefirst.constants.licenseterms.ANYONE){u.filter("[value="+s+"]").prop("checked",true);if(s===mobilefirst.constants.licenseterms.NOTFREE){$("#assetcostamount",this.$el).val(x.pricing.price);if(marketplace.AssetType.getAssetType(v.attributes.type).isServiceOffering()){$("#plansInfoContainer",this.$el).show()}else{$("#salesInfoContainer",this.$el).show()}}}else{this.disableAssetAnyone()}var w=$("#entitlementlist",this.$el);var J=new Object();var F=x.pricing.entitlements;if(typeof F!="undefined"){for(var E=0;E<F.length;E++){var C=F[E].value;J.name="entitlement"+(E+1);J.value=C;var r=new Backbone.Model(J);var z=new m({model:r,parent:this});w.append(z.render())}if(F.length==1){$("#remEntitlement",this.$el).hide()}}else{J.name="entitlement1";J.value="";var r=new Backbone.Model(J);var z=new m({model:r,parent:this});w.append(z.render());$("#remEntitlement",this.$el).hide()}var H=x.salesContact;if(typeof H!="undefined"){var A=H.name;var I=H.email;var q=H.phone;if(marketplace.AssetType.getAssetType(v.attributes.type).isServiceOffering()){$("#enterplan1",this.$el).val(A);$("#enterplan2",this.$el).val(I);$("#enterplan3",this.$el).val(q)}else{$("#salespersonname",this.$el).val(A);$("#salespersonemail",this.$el).val(I);$("#salespersonnumber",this.$el).val(q)}}},renderAgreeementAttachent:function(r){var u=r.attributes._id;if(u!=null){var t=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix;var q=t+mobilefirst.constants.urlseparator+u+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.ATTACHMENTS;var s=this;$.ajax({type:"GET",url:q,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:"",xhrFields:{withCredentials:true},contentType:"application/json",dataType:"json",context:this,processData:false,success:function(w){for(var v=0;v<w.length;v++){if(w[v].type===mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){$("#attachedagreement",s.$el).show();$("#agreement",s.$el).hide();$("#attachmentName",s.$el).html("");$("#attachmentName",s.$el).html(w[v].name);break}}},error:function(v){var w="error gettting asset details for asset id:"+assetId;mobilefirst.router.handleError(v,"#login",false,"Error:"+w)}})}}});var h=mobilefirst.TemplateView.extend({templateName:"CommercialInfo",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(q){var r=this.model;this.$el.html(this.template(this.model.attributes));if(typeof this.model.attributes.salesContact!="undefined"){if(marketplace.AssetType.getAssetType(q).isServiceOffering()){$("#planInfo",this.$el).show();$("#contactInfo",this.$el).hide();$("#showplan1",this.$el).html(this.model.attributes.salesContact.name);$("#showplan2",this.$el).html(this.model.attributes.salesContact.email);$("#showplan3",this.$el).html(this.model.attributes.salesContact.phone)}else{$("#contactInfo",this.$el).show();$("#planInfo",this.$el).hide();$("#salesContactName",this.$el).html(this.model.attributes.salesContact.name)}}if(this.model.attributes.type===mobilefirst.constants.licensetype.full){$("#releasetypeId",this.$el).html(NLS.bind("mf_asset_full_version"))}else{if(this.model.attributes.type===mobilefirst.constants.licensetype.trial){$("#releasetypeId",this.$el).html(NLS.bind("mf_asset_trial_version"))}else{if(this.model.attributes.type===mobilefirst.constants.licensetype.beta){$("#releasetypeId",this.$el).html(NLS.bind("mf_asset_prerelease_version"))}}}return this.$el}});var m=mobilefirst.TemplateView.extend({templateName:"Entitlement",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}});var a=mobilefirst.TemplateView.extend({templateName:"PurchaseDialog",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}});var f=mobilefirst.TemplateView.extend({templateName:"DownloadContainer",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}});var n=mobilefirst.TemplateView.extend({templateName:"RequestEntitlement",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}});var d=mobilefirst.TemplateView.extend({templateName:"DeveloperKeysView",tagName:"div",initialize:function(){this.loadTemplate(d);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.options));var r=this.options.apiKeys;var q=this;_.each(r.split(","),function(s){$(".apikeysbox",q.$el).append(new c({apiKey:s.trim(),parent:this}).render())});if(!this.options.grantComments||this.options.grantComments.trim().length==0){$(".apikeyusagebox",this.$el).hide()}return this.$el}});var c=mobilefirst.TemplateView.extend({templateName:"DeveloperKeyItem",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.options));return this.$el}});var e=mobilefirst.TemplateView.extend({templateName:"TagTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}});var o=mobilefirst.TemplateView.extend({templateName:"IndustryTagsTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}});var g=mobilefirst.TemplateView.extend({templateName:"PlatformTagsTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};mobilefirst.MyAssetHeaderView=mobilefirst.TemplateView.extend({templateName:"MyAssetHeader",tagName:"div",events:function(){return this.getEvents()},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render","gotoAssetViewPage")},getEvents:function(){var d={"click #mf_approveNpublishLink":"approveNpublish","click #mf_requireEditLink":"requireEdits","click .reviewCommentsSubmit":"submitReviewerComments","keypress .reviewCommentsSubmit":"keypressReviewComments"};var b={"click #mf_resellingApproveLink":"approveResellingAsset","click #mf_resellingRejectLink":"rejectResellingAsset"};var e={"click #mf_backButton":"goBack","click #mf_cancelPublishLink":"cancelPublish","click #mf_reviewerComments":"readReviewerNotes"};var a={};var c={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(c,e);break;case mobilefirst.constants.modes.EDIT:_.extend(c,e,a);break;case mobilefirst.constants.modes.APPROVAL:_.extend(c,d);break;case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(c,b);break;default:console.error("UNKNOWN MODE")}return c},render:function(){(this.$el).html(this.template(this.model.attributes));if(this.model.attributes.state==="awaiting_approval"){if(this.getMode()===mobilefirst.constants.modes.APPROVAL){$("#mf_cancelPublishContainer",this.$el).remove();$("#mf_backButton",this.$el).remove();$("#mf_reviewerComments",this.$el).remove();$("#mf_headerStatusMessage_view",this.$el).remove();$("#mf_resellingApproveLink",this.$el).remove();$("#mf_resellingRejectLink",this.$el).remove();$("#mf_approveNpublishLink",this.$el).show();$("#mf_requireEditLink",this.$el).show();$("#mf_headerStatusMessage_approval",this.$el).show()}else{$("#mf_reviewerComments",this.$el).remove()}}else{if(this.model.attributes.state==="need_more_info"){$("#mf_headerStatusMessage_view",this.$el).html(NLS.bind("mf_asset_actionRequired"));$("#mf_cancelPublishContainer",this.$el).remove();$("#mf_backButton",this.$el).remove()}else{if(this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL){$("#mf_cancelPublishContainer",this.$el).remove();$("#mf_backButton",this.$el).remove();$("#mf_reviewerComments",this.$el).remove();$("#mf_headerStatusMessage_view",this.$el).remove();$("#mf_approveNpublishLink",this.$el).remove();$("#mf_requireEditLink",this.$el).remove();$("#mf_resellingApproveLink",this.$el).show();$("#mf_resellingRejectLink",this.$el).show();$("#mf_headerStatusMessage_approval",this.$el).show()}}}return this.$el},goBack:function(){Backbone.history.history.back()},cancelPublish:function(){var a=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:'{ "action" : "cancel"}',xhrFields:{withCredentials:true},success:function(){a.goBack()},error:function(b){mobilefirst.router.handleError(b,"#login",false,"Error:"+b.statusText)}})},approveNpublish:function(){var a=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:'{ "action" : "approve"}',xhrFields:{withCredentials:true},success:function(){a.gotoAssetViewPage()},error:function(b){mobilefirst.router.handleError(b,"#login",false,"Error:"+b.statusText)}})},approveResellingAsset:function(){var c=this.options.parent;var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.approvals;var b=this;var d=[{assetId:this.model.attributes._id,resellerId:mobilefirst.marketplaceId,comments:""}];$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"POST",data:JSON.stringify(d),xhrFields:{withCredentials:true},success:function(){b.gotoAssetViewPage()},error:function(e){mobilefirst.router.handleError(e,"#login",false,"Error:"+e.statusText)}})},rejectResellingAsset:function(){var c=this.options.parent;var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.rejections;var b=this;var d=[{assetId:this.model.attributes._id,resellerId:mobilefirst.marketplaceId,comments:""}];$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"POST",data:JSON.stringify(d),xhrFields:{withCredentials:true},success:function(){b.gotoAssetViewPage()},error:function(e){mobilefirst.router.handleError(e,"#login",false,"Error:"+e.statusText)}})},sendEditRequest:function(b){if(b==null||b==""){return}var a=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:JSON.stringify({action:"need_more_info",comments:b}),xhrFields:{withCredentials:true},success:function(){a.gotoAssetViewPage()},error:function(c){mobilefirst.router.handleError(c,"#login",false,"Error:"+c.statusText)}})},getReviewComments:function(a){var b=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"GET",data:null,contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},success:function(c){a(b,c.reviewed)},error:function(c){mobilefirst.router.handleError(c,"#login",false,"Error:"+c.statusText)}})},requireEdits:function(){var a=new mobilefirst.PopupComments({mode:this.getMode(),parent:this});$(".PopupComment",this.$el).append(a.render());$(".reviewCommentTextBox").focus()},submitReviewerComments:function(){var a=$(".reviewCommentTextBox").val();if(a!=null&&a!=""&&a!="add message"){this.sendEditRequest(a);$(".PopupComment",this.$el).hide();$("#overlay").hide()}},keypressReviewComments:function(a){if(a.keyCode===13){this.submitReviewerComments()}},readReviewerNotes:function(){this.getReviewComments(this.showReviewPopupView)},showReviewPopupView:function(c,a){if(a!=undefined){var b=new mobilefirst.PopupComments({review:a,mode:c.getMode(),parent:c});b.review=a;b.mode=c.getMode();$(".PopupComment",c.$el).append(b.render())}},gotoAssetViewPage:function(){mobilefirst.router.navigate("#mobilefirst/view/"+this.model.attributes._id,true)}});var mobilefirst=mobilefirst||{};mobilefirst.SliderView=mobilefirst.TemplateView.extend({templateName:"SliderTemplate",className:"slider-block",events:{"click #editAsset":"gotoAssetDetails","click #assetInfo":"gotoAssetDetails"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},gotoAssetDetails:function(){if(this.model.attributes.state==="published"||this.model.attributes.state==="awaiting_approval"){this.viewAsset()}else{this.editAsset()}},editAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#mobilefirst/"+this.model.id,true)},viewAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#mobilefirst/view/"+this.model.id,true)},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}});var mobilefirst=mobilefirst||{};mobilefirst.AssetAnalyticsView=mobilefirst.TemplateView.extend({templateName:"AssetAnalytics",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},render:function(){(this.$el).html(this.template(this.model.attributes.feedback));return this.$el}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.APIResourceItemView=mobilefirst.TemplateView.extend({templateName:"APIResourceItemTemplate",tagName:"div",events:function(){return this.getEvents()},initialize:function(){this.detach();_.bindAll(this,"getEvents","render","switchToEditMode","changeAPIReferenceMode","isReadOnly","detach","hasEditableContent","getEditorId","showReferenceMenu","hideReferenceMenu","addSelectedMethodToReference","addGetToReference","addPostToReference","addPutToReference","addDeleteToReference","onMouseEnterAPIReferenceContainer","onMouseLeaveAPIReferenceContainer","isFirstReferenceWithoutContent","apiReferenceHasFocus");this.constructor.__super__.initialize.apply(this,arguments)},getEvents:function(){var c={};var a={"click .addReferenceMenu":"showReferenceMenu","mouseleave .addReferenceMenu":"hideReferenceMenu","mouseenter .referenceDropdownItems":"referenceDropdownItemsMouseEnter","mouseleave .referenceDropdownItems":"referenceDropdownItemsMouseLeave","click .addGetMethod":"addGetToReference","click .addPostMethod":"addPostToReference","click .addPutMethod":"addPutToReference","click .addDeleteMethod":"addDeleteToReference","click .methdelete":"deleteResource","blur .apiEditable":"changeInputColor"};a["click "+mobilefirst.constants.refcontentId+this.options.index+".refmethod .methdelete"]="deleteResource";a["click "+mobilefirst.constants.refcontentId+this.options.index+" .methitem"]="onChangeMethodType";a["click "+mobilefirst.constants.refcontentId+this.options.index]="switchToEditMode";a["mouseenter "+mobilefirst.constants.refcontentId+this.options.index]="onMouseEnterAPIReferenceContainer";a["mouseleave "+mobilefirst.constants.refcontentId+this.options.index]="onMouseLeaveAPIReferenceContainer";var b={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(b,c);break;case mobilefirst.constants.modes.EDIT:_.extend(b,c,a);break;default:console.error("UNKNOWN MODE")}return b},render:function(){this.$el.html(this.template(this));$("#methinput",this.$el).val(this.model.name);$(".apiEditable",this.$el).each(function(){if(this.value==""){$(this).removeClass("inputfield_active")}else{$(this).addClass("inputfield_active")}});if(this.getMode()===mobilefirst.constants.modes.VIEW){$("#methinput",this.$el).attr("disabled",true);$("#methdesc",this.$el).attr("disabled",true);$(".methdelete",this.$el).hide()}this.hideReferenceMenu();return this.$el},isReadOnly:function(){return($("#methinput",this.$el).attr("class").indexOf(mobilefirst.constants.apiReadOnly)>0)},switchToEditMode:function(a){this.options.setActiveEditor(this.getEditorId(),a);if(this.isReadOnly()){this.changeAPIReferenceMode(mobilefirst.constants.modes.EDIT)}},getEditorId:function(){return(mobilefirst.constants.apiReferenceEditor+this.options.index)},getName:function(){var a=$("#methinput",this.$el).val();if(a===mobilefirst.constants.specialPlaceHolderCharacter){a=""}return a},getType:function(){return $(".methholder",this.$el).html()},getDescription:function(){var a=$("#methdesc",this.$el).val();if(a===mobilefirst.constants.specialPlaceHolderCharacter){a=""}return a},hasEditableContent:function(){var a=this.getName();var b=this.getDescription();return((a!=""&&a!=undefined)||(b!=""&&b!=undefined))},isFirstReferenceWithoutContent:function(){var a=false;if((this.options.numberOfEditors()===1)&&(this.options.index===0)){a=!(this.hasEditableContent())}return a},changeAPIReferenceMode:function(a){if(a===mobilefirst.constants.modes.VIEW){if($("#methinput",this.$el).val()===""){$("#methinput",this.$el).val(mobilefirst.constants.specialPlaceHolderCharacter)}if($("#methdesc",this.$el).val()===""){$("#methdesc",this.$el).val(mobilefirst.constants.specialPlaceHolderCharacter)}$(".addReferenceMenu",this.$el).css({"margin-left":"0px"});$("#methinput",this.$el).css({width:"87%"});$("#methdesc",this.$el).css({width:"98%"});$("#apiButtonDiv",this.$el).hide();$("#apiEndpointInstruction",this.$el).html("&nbsp;");$(".referenceHeaderBtns .dropdown",this.$el).hide();$(".apiResourceItem",this.$el).css({border:"none"});$(".methdelete",this.$el).hide();$(".apiEditable",this.$el).addClass("apiReadOnly")}else{$(".apiEditable",this.$el).removeClass("apiReadOnly");if($("#methinput",this.$el).val()===mobilefirst.constants.specialPlaceHolderCharacter){$("#methinput",this.$el).val("")}if($("#methdesc",this.$el).val()===mobilefirst.constants.specialPlaceHolderCharacter){$("#methdesc",this.$el).val("")}$(".addReferenceMenu",this.$el).css({"margin-left":"20px"});$("#methinput",this.$el).css({width:"80%"});$("#methdesc",this.$el).css({width:"96%"});$("#apiButtonDiv",this.$el).show();$("#apiEndpointInstruction",this.$el).html(NLS.bind("mf_apiEndpoint_addDesc"));$(".referenceHeaderBtns .dropdown",this.$el).show();$(".apiResourceItem",this.$el).css({"border-color":"#CCCCCC","border-width":"2px","border-style":"dashed"});$(".methdelete",this.$el).show()}},onChangeMethodType:function(b){var a=b.currentTarget;$(".methholder",this.$el).text($(a).text());b.preventDefault()},detach:function(){$(this.el).unbind()},deleteResource:function(a){this.options.setActiveEditor("",a);this.options.deleteResource(this.options.index)},showReferenceMenu:function(a){$(mobilefirst.constants.referenceHeaderDropdown,this.$el).show()},hideReferenceMenu:function(){$(mobilefirst.constants.referenceHeaderDropdown,this.$el).hide()},addSelectedMethodToReference:function(b,a){b.preventDefault();$(mobilefirst.constants.methholder,this.$el).text(NLS.bind(a));this.hideReferenceMenu();b.stopPropagation()},addGetToReference:function(a){this.addSelectedMethodToReference(a,"mf_apiEndpoint_method_get")},addPostToReference:function(a){this.addSelectedMethodToReference(a,"mf_apiEndpoint_method_post")},addPutToReference:function(a){this.addSelectedMethodToReference(a,"mf_apiEndpoint_method_put")},addDeleteToReference:function(a){this.addSelectedMethodToReference(a,"mf_apiEndpoint_method_delete")},apiReferenceHasFocus:function(){return($("#methinput",this.$el).is(":focus")||$("#methdesc",this.$el).is(":focus"))},referenceDropdownItemsMouseEnter:function(a){$(a.currentTarget).addClass("referenceDropdownItemHover")},referenceDropdownItemsMouseLeave:function(a){$(a.currentTarget).removeClass("referenceDropdownItemHover")},onMouseEnterAPIReferenceContainer:function(a){this.changeAPIReferenceMode(mobilefirst.constants.modes.EDIT);$(mobilefirst.constants.refcontentId+this.options.index).css("cursor","pointer")},onMouseLeaveAPIReferenceContainer:function(a){if(this.isFirstReferenceWithoutContent()||this.apiReferenceHasFocus()){return}$(mobilefirst.constants.refcontentId+this.options.index).css("cursor","default");this.changeAPIReferenceMode(mobilefirst.constants.modes.VIEW)},changeInputColor:function(a){if(a.currentTarget.value==""){$(a.currentTarget).removeClass("inputfield_active")}else{$(a.currentTarget).addClass("inputfield_active")}}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.APIResourceView=mobilefirst.TemplateView.extend({templateName:"APIResourceTemplate",tagName:"div",className:"apireferencecontainer",apiResourceitemEditors:[],events:function(){return this.getEvents()},initialize:function(){this.detach();this.apiResourceitemEditors=[];_.bindAll(this,"getEvents","render","saveAndHideEditor","addAPIReference","populateResources","deleteResource","getAPIReferenceName","createAndAddAPIReference","numberOfEditors");this.constructor.__super__.initialize.apply(this,arguments)},getEvents:function(){var c={};var a={"click #addAnotherReferenceDiv":"addAPIReference"};var b={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(b,c);break;case mobilefirst.constants.modes.EDIT:_.extend(b,c,a);break;case mobilefirst.constants.modes.APPROVAL:_.extend(b,c);break;default:console.error("UNKNOWN MODE")}return b},render:function(){this.$el.html(this.template(this.model.attributes));if(this.getMode()===mobilefirst.constants.modes.VIEW){$("#addAnotherReferenceDiv",this.$el).hide()}else{$("#addAnotherReferenceDiv",this.$el).show()}this.onLoadCompleted(this.$el);return this.$el},detach:function(){$(this.el).unbind();this.model.unbind()},onLoadCompleted:function(a){var b=this.model.get("resources");if(b.length==0){if(this.getMode()===mobilefirst.constants.modes.EDIT){this.createAndAddAPIReference(0)}}else{this.populateResources(b,a)}},getAPIReferenceName:function(a){return mobilefirst.constants.refcontentId+a},addAPIReference:function(c){c.stopPropagation();var d=this.model.get("resources").length;if(this.apiResourceitemEditors.length>d){var a=this.apiResourceitemEditors.length-1;var b=this.apiResourceitemEditors[a];if(b.hasEditableContent()){d=this.apiResourceitemEditors.length}else{this.options.setActiveEditor(b.getEditorId(),c);b.changeAPIReferenceMode(mobilefirst.constants.modes.EDIT);return}}this.createAndAddAPIReference(d,c)},createAndAddAPIReference:function(e,c){var d={};d.name="";d.type=NLS.bind("mf_apiEndpoint_method_get");d.description="";var b=new mobilefirst.APIResourceItemView({model:d,mode:this.getMode(),index:e,setActiveEditor:this.options.setActiveEditor,deleteResource:this.deleteResource,numberOfEditors:this.numberOfEditors,parent:this});this.apiResourceitemEditors[this.apiResourceitemEditors.length]=b;this.options.setActiveEditor(b.getEditorId(),c);var a=$("#reffooter",this.$el);a.append(b.render());a.show()},populateResources:function(h,f){var b;if(f){b=$("#reffooter",f)}else{b=$("#reffooter")}var c=this.apiResourceitemEditors.length;for(var e=0;e<c;e++){this.apiResourceitemEditors[e].detach()}b.html("");var d=h.length;this.apiResourceitemEditors=[];for(var e=0;e<d;e++){var g=h[e];var a=new mobilefirst.APIResourceItemView({model:g,mode:this.getMode(),index:e,setActiveEditor:this.options.setActiveEditor,deleteResource:this.deleteResource,numberOfEditors:this.numberOfEditors,parent:this});this.apiResourceitemEditors[e]=a;b.append(a.render());a.changeAPIReferenceMode(mobilefirst.constants.modes.VIEW)}if(h.length>0){b.show()}},deleteResource:function(a){this.model.removeResource(a);this.model.save();this.populateResources(this.model.get("resources"))},saveAndHideEditor:function(c){var a=this.apiResourceitemEditors.length;if(c<0||c>a-1){return}var f=this.apiResourceitemEditors[c];var b=f.getName();var d=f.getType();var e=f.getDescription();if(this.model.updateResource(c,b,d,e)){this.model.save()}if(!this.apiResourceitemEditors[c].isFirstReferenceWithoutContent()){f.changeAPIReferenceMode(mobilefirst.constants.modes.VIEW)}},numberOfEditors:function(){return this.apiResourceitemEditors.length}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.SyndicateSupplierView=mobilefirst.TemplateView.extend({templateName:"SyndicateSupplierTemplate",tagName:"div",id:"syndicateinfo",events:{"click .promotenow":"syndicateAsset","click .removedialog":"closeDialog","click .customer":"openCustomerPage"},initialize:function(){this.loadTemplate(marketplace.SyndicationView)},render:function(){this.$el.html(this.template());if(this.model.attributes.syndicate){var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix+mobilefirst.constants.urlseparator+"forasset/"+this.model.id+"?state=APPROVED";var b=this;$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"GET",xhrFields:{withCredentials:true},success:function(c){b.populateStores(c);b.$("#stores").show()}})}else{this.$("#stores").hide();this.$("#firstpromotion").show()}return this.$el},populateStores:function(d){var a=this.$("#storelist");a.empty();var b=d.length;this.$(".storesize").text(NLS.bind("mf_supplier_storesize",b,b));var c=this;$.each(d,function(e,f){var g=new mobilefirst.SyndicateStoreView({model:f,parent:c});a.append(g.render())})},syndicateAsset:function(){var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix;var c={};c.preference="ALL";c.add=[];c.add.push({assetId:this.model.id});var b=this;$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"POST",data:JSON.stringify(c),xhrFields:{withCredentials:true},success:function(){b.model.fetch({});$("#assetPromotion").hide()}});return false},closeDialog:function(){$("#assetPromotion").hide()},openCustomerPage:function(){alert("Not implemented yet!")}});mobilefirst.SyndicateStoreView=mobilefirst.TemplateView.extend({templateName:"SyndicateStoreTemplate",tagName:"div",className:"reseller",events:{"click .removebtn":"removeAssetOutOfStore"},initialize:function(){this.loadTemplate(mobilefirst.SyndicateStoreView)},render:function(){this.$el.html(this.template(this.model));this.renderAddedOnTime();return this.$el},renderAddedOnTime:function(){var a=mobilefirst.utils.getTimeString(this.model.updatedOn);this.$(".addedon").text(NLS.bind("mf_supplier_addedon",a))},removeAssetOutOfStore:function(){var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix;var c={};c.remove=[];c.remove.push({assetId:this.options.parent.model.id,resellerId:this.model.id});var b=this;$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PATCH",data:JSON.stringify(c),xhrFields:{withCredentials:true},success:function(){b.$(".removebtn").text(NLS.bind("mf_supplier_removedlabel")).css({cursor:"text",color:"red"})},error:function(d){}});return false}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.MyAssetView=mobilefirst.TemplateView.extend({templateName:"MyAsset",tagName:"div",className:"assetPolaroid",events:{"click #removeAsset":"showConfirmDelete","click #yes":"confirmDeleteUnpublish","click #no":"hideConfirmDelete","click #editAsset":"gotoAssetDetails","click #assetInfo":"gotoAssetDetails","click #assetAccessInfoFooter":"showGrantAccessView","click .pick":"pickAsset","click #syndicatecb":"selectForSyndicate"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render");marketplace.ValidateAssetType(this)},render:function(){this.model.attributes.thumbnail=this.model.getThumbnail();this.$el.attr("id",this.model.id);this.$el.html(this.template(this.model.attributes));var assetType=marketplace.AssetType.getAssetType(this.model.attributes.type);$("#assetType",this.$el).html(NLS.bind("mf_myassets_"+assetType.getId())).addClass("mf_asset_view_"+assetType.getId());if(this.options.showAssetStatusInfoHeader){switch(this.model.attributes.state){case"draft":$("#assetStatus",this.$el).html(NLS.bind("mf_myasset_status_incomplete"));$("#assetStatus",this.$el).addClass("incompleteStatus");$("#removeAsset",this.$el).show();$("#editAsset",this.$el).show();break;case"published":var date=new Date(this.model.attributes.published.on);var formattedPublishedOn=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();$("#assetStatus",this.$el).html(NLS.bind("mf_myasset_status_published",formattedPublishedOn));$("#assetStatus",this.$el).addClass("publishedStatus");$("#removeAsset",this.$el).show();$("#deleteAssetMsg",this.$el).html(NLS.bind("mf_myasset_unpublish"));$("#syndicatecb",this.$el).show();break;case"awaiting_approval":$("#assetStatus",this.$el).html(NLS.bind("mf_myasset_status_awaiting_approval"));$("#assetStatus",this.$el).addClass("awaitingApprovalStatus");$("#removeAsset",this.$el).show();$("#editAsset",this.$el).show();break;default:$("#assetStatus",this.$el).html(NLS.bind("mf_myasset_status_complete"));$("#assetStatus",this.$el).addClass("completeStatus");$("#removeAsset",this.el).show();$("#editAsset",this.$el).show();break}}else{$(".assetStatusInfoHeader",this.$el).hide()}var rank=this.model.attributes.rating||0;for(var i=0;i<5;i++){$("#rating",this.$el).append(new mobilefirst.RatingView({model:{enable:eval(i<rank)}}).render())}$("hr",this.$el).hide();if(this.options.showAccessInfoFooter){var userId=mobilefirst.utils.loginUtils.getCookie("user")}else{$("#assetAccessInfoFooter",this.$el).hide()}if(this.model.attributes.featured==="yes"){$(".right-corner-triangle",this.$el).show()}return this.$el},gotoAssetDetails:function(){if(this.model.attributes.state==="published"||this.model.attributes.state==="awaiting_approval"){this.viewAsset()}else{this.editAsset()}},editAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#mobilefirst/"+this.model.id,true)},viewAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#mobilefirst/view/"+this.model.id,true)},showGrantAccessView:function(event){var grantAccessDetailsView=new GrantAccessDetailsView({model:this.model,parent:this});$("#details").html(grantAccessDetailsView.render());$(".up-pointing-triangle").css("margin-left",event.target.offsetLeft-100);var nodes=$(".assetPolaroid");nodes.each(function(i){if(event.target.offsetTop<nodes[i].offsetTop){$("#grantAccessDetails").insertBefore($(this));return false}else{if(i==nodes.length-1){$("#grantAccessDetails").insertAfter($(this))}}});$("#grantAccessDetails").show()},pickAsset:function(event){alert("coming soon...")},showConfirmDelete:function(){$("#confirmDelete",this.$el).show()},hideConfirmDelete:function(){$("#confirmDelete",this.$el).hide()},confirmDeleteUnpublish:function(){if(this.model.attributes.state==="published"){this.unpublishAsset()}else{this.deleteAsset()}},unpublishAsset:function(){var myview=this;var parent=this.options.parent;$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.model.id+mobilefirst.constants.urlseparator+mobilefirst.constants.statetext,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:'{ "action" : "unpublish"}',xhrFields:{withCredentials:true},success:function(){parent.render()},error:function(response){}})},deleteAsset:function(){var myview=this;var parent=this.options.parent;this.model.destroy({success:function(model,response){if(typeof cm_deleteAsset!=="undefined"){cm_deleteAsset()}parent.render()},error:function(model,response){}});$(".confirmPopupContainer",this.$el).hide()},selectForSyndicate:function(e){var container=$("#syndicatedetails");container.empty();var syndicateSupplierView=new mobilefirst.SyndicateSupplierView({model:this.model,parent:this});container.append(syndicateSupplierView.render());var leftNode=$("#assetsCollection");var leftOffset=leftNode.offset();var currentNode=$("#"+this.model.id);var offset=currentNode.offset();var marginLeft=offset.left-leftOffset.left+80;$(".assetpointer").css("margin-left",marginLeft);var nodes=$(".assetPolaroid");var size=nodes.length;nodes.each(function(i,node){if(e.target.offsetTop<node.offsetTop){$("#assetPromotion").insertBefore($(this));return false}else{if(i===size-1){$("#assetPromotion").insertAfter($(this))}}});$("#assetPromotion").show()}});var MyAssetAccessInfoFooterView=mobilefirst.TemplateView.extend({templateName:"MyAssetAccessInfoFooter",tagName:"div",events:{},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},render:function(){this.$el.html(this.template(this.model));if(this.model.users===0&&this.model.pending===0){$("#pendingRequestsInfo",this.$el).hide();$("#usersInfo",this.$el).html(NLS.bind("mf_myasset_no_users"));$(".assetAccessInfoFooter",this.$el).removeClass("assetAccessFooterInfoAvailable");$(".assetAccessInfoFooter",this.$el).addClass("assetAccessFooterInfoNotAvailable")}else{if(this.model.users===0){$("#usersInfo",this.$el).hide()}else{if(this.model.pending===0){$("#pendingRequestsInfo",this.$el).hide()}}}return this.$el}});var GrantAccessDetailsView=mobilefirst.TemplateView.extend({templateName:"GrantAccessTemplate",tagName:"div",openTab:"allUsers",events:{"click #grantedUsers":"showGrantedUsersView","click #pendingRequests":"showPendingRequestsView","click #grantAccessDetailsClose":"closeView","mouseenter #grantAccessDetailsClose":"grantAccessDetailsCloseMouseEnter","mouseleave #grantAccessDetailsClose":"grantAccessDetailsCloseMouseLeave"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render","showGrantedUsersView","showPendingRequestsView")},render:function(){var userId=mobilefirst.utils.loginUtils.getCookie("user");return this.$el},renderGrants:function(){var userId=mobilefirst.utils.loginUtils.getCookie("user")},showGrantedUsersView:function(){this.openTab="allUsers";this.renderGrants();$(".myAssetsHeader",this.$el).removeClass("selectedItem");$("#grantedUsers",this.$el).addClass("selectedItem")},showPendingRequestsView:function(){this.openTab="pending";this.renderGrants();$(".myAssetsHeader",this.$el).removeClass("selectedItem");$("#pendingRequests",this.$el).addClass("selectedItem")},closeView:function(event){this.destroy();$("#grantAccessDetails").hide();$("#grantAccessDetails").insertAfter($("#assetsCollection"))},grantAccessDetailsCloseMouseEnter:function(event){$("#grantAccessDetailsClose",this.$el).css("opacity",0.7)},grantAccessDetailsCloseMouseLeave:function(event){$("#grantAccessDetailsClose",this.$el).css("opacity",0.2)}});var GrantAccessItemView=mobilefirst.TemplateView.extend({templateName:"GrantAccessItemTemplate",tagName:"div",events:{"click .actionButton":"doAction","click #changeAgreement":"changeAgreement","change #licensefile":"updateAgreementFileName","click #attachmentName":"viewAgreement"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);this.agreementFileExtError=false;_.bindAll(this,"render")},render:function(){var self=this;var model=this.model;var parent=this.options.parent;this.delegateEvents();$.ajax({type:"GET",url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix+"/"+model.attributes.userId,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",data:null,xhrFields:{withCredentials:true},dataType:"json",success:function(invitee){model.attributes.userName=invitee.name;if(model.attributes.grantedOn.length>0){var date=new Date(model.attributes.grantedOn);model.attributes.formattedGrantedOn=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear()}else{model.attributes.formattedGrantedOn=""}self.$el.html(self.template(model.attributes));if(model.attributes.state!==mobilefirst.constants.purchaseorders.GRANTED){$(".actionButton",self.$el).html(NLS.bind("mf_myasset_grant_access"));$(".grantedDate",self.$el).hide();$("#comments",self.$el).shorten({showChars:340,moreText:NLS.bind("mf_common_read_more"),lessText:NLS.bind("mf_common_read_less")})}else{$("#separator",self.$el).hide();$("#changeAgreement",self.$el).hide();$("#commentsSection",self.$el).hide()}var product=new mobilefirst.Product({_id:parent.model.attributes._id});product.fetch({success:function(){_.each(product.attributes.attachments,function(attachment){if(attachment.type===mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){$("#attachmentName",self.$el).html(attachment.name);self.assetAgreementUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+attachment.url}});var urlRoot=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix;var purchaseOrder=new mobilefirst.PurchaseOrder({_id:model.attributes._id});purchaseOrder.urlRoot=urlRoot;purchaseOrder.fetch({success:function(){_.each(purchaseOrder.attributes.attachments,function(attachment){if(attachment.type===mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){$("#attachmentName",self.$el).html(attachment.name);self.purchaseOrderAgreementUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+self.applyApiKey(attachment.url)}})},error:function(response){var errMsg="error fetching purchase order for order id="+model.attributes._id}})},error:function(response){var errMsg="error fetching product for asset_id="+asset._id}})},error:function(response){}});return this.$el},doAction:function(event){if(this.model.attributes.state===mobilefirst.constants.purchaseorders.GRANTED){this.revokeAccess(event)}else{this.grantAccess(event)}},grantAccess:function(event){var grantUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.grants;var self=this;var apiKeys="";var grantComments="";if(!this.agreementFileExtError){$.ajax({type:"POST",url:grantUrl,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",data:JSON.stringify({purchaseOrderId:self.model.attributes._id,apiKeys:apiKeys,comments:grantComments}),xhrFields:{withCredentials:true},dataType:"json",success:function(){if(typeof cm_grantAccess!=="undefined"){cm_grantAccess(self.model.attributes.companyId,self.model.attributes.userId,self.model.attributes.assetId,self.model.attributes.grantedBy)}if(self.agreementfile){self.saveAgreement()}self.options.parent.render()},error:function(response){}})}},saveAgreement:function(){var saveAgreementUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+this.model.attributes._id+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.ATTACHMENTS+"?type="+mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT+"&name="+this.agreementfile.name;var data=this.agreementfile;$.ajax({type:"POST",url:saveAgreementUrl,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:data,xhrFields:{withCredentials:true},contentType:false,context:this,processData:false,error:function(response){}})},revokeAccess:function(event){var revokeUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.revokes;var self=this;$.ajax({type:"POST",url:revokeUrl,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",data:JSON.stringify({purchaseOrderId:self.model.attributes._id}),xhrFields:{withCredentials:true},dataType:"json",success:function(invitee){self.options.parent.render()},error:function(response){}})},applyApiKey:function(url){if(url&&url.indexOf("?apiKey=")<0){url=url+"?apiKey="+mobilefirst.constants.marketplace.apiKey}return url},changeAgreement:function(event){$("#licensefile",this.$el).click();event.preventDefault()},updateAgreementFileName:function(event){var files=event.currentTarget.files;var file=files[0];var filename=file.name;this.agreementfile=file;if(typeof file!="undefined"){$("#attachmentName",this.$el).html(filename);var ext=filename.substr(filename.lastIndexOf("."));if(ext!==".txt"){$(".agreementexterror",this.$el).show();this.agreementFileExtError=true}else{$(".agreementexterror",this.$el).hide();this.agreementFileExtError=false}}},viewAgreement:function(event){if(this.purchaseOrderAgreementUrl){window.open(this.purchaseOrderAgreementUrl)}else{window.open(this.assetAgreementUrl)}}})});var mobilefirst=mobilefirst||{};mobilefirst.MyAssetHeaderView=mobilefirst.TemplateView.extend({templateName:"MyAssetHeader",tagName:"div",events:function(){return this.getEvents()},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render","gotoAssetViewPage")},getEvents:function(){var d={"click #mf_approveNpublishLink":"approveNpublish","click #mf_requireEditLink":"requireEdits","click .reviewCommentsSubmit":"submitReviewerComments","keypress .reviewCommentsSubmit":"keypressReviewComments"};var b={"click #mf_resellingApproveLink":"approveResellingAsset","click #mf_resellingRejectLink":"rejectResellingAsset"};var e={"click #mf_backButton":"goBack","click #mf_cancelPublishLink":"cancelPublish","click #mf_reviewerComments":"readReviewerNotes"};var a={};var c={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(c,e);break;case mobilefirst.constants.modes.EDIT:_.extend(c,e,a);break;case mobilefirst.constants.modes.APPROVAL:_.extend(c,d);break;case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(c,b);break;default:console.error("UNKNOWN MODE")}return c},render:function(){(this.$el).html(this.template(this.model.attributes));if(this.model.attributes.state==="awaiting_approval"){if(this.getMode()===mobilefirst.constants.modes.APPROVAL){$("#mf_cancelPublishContainer",this.$el).remove();$("#mf_backButton",this.$el).remove();$("#mf_reviewerComments",this.$el).remove();$("#mf_headerStatusMessage_view",this.$el).remove();$("#mf_resellingApproveLink",this.$el).remove();$("#mf_resellingRejectLink",this.$el).remove();$("#mf_approveNpublishLink",this.$el).show();$("#mf_requireEditLink",this.$el).show();$("#mf_headerStatusMessage_approval",this.$el).show()}else{$("#mf_reviewerComments",this.$el).remove()}}else{if(this.model.attributes.state==="need_more_info"){$("#mf_headerStatusMessage_view",this.$el).html(NLS.bind("mf_asset_actionRequired"));$("#mf_cancelPublishContainer",this.$el).remove();$("#mf_backButton",this.$el).remove()}else{if(this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL){$("#mf_cancelPublishContainer",this.$el).remove();$("#mf_backButton",this.$el).remove();$("#mf_reviewerComments",this.$el).remove();$("#mf_headerStatusMessage_view",this.$el).remove();$("#mf_approveNpublishLink",this.$el).remove();$("#mf_requireEditLink",this.$el).remove();$("#mf_resellingApproveLink",this.$el).show();$("#mf_resellingRejectLink",this.$el).show();$("#mf_headerStatusMessage_approval",this.$el).show()}}}return this.$el},goBack:function(){Backbone.history.history.back()},cancelPublish:function(){var a=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:'{ "action" : "cancel"}',xhrFields:{withCredentials:true},success:function(){a.goBack()},error:function(b){mobilefirst.router.handleError(b,"#login",false,"Error:"+b.statusText)}})},approveNpublish:function(){var a=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:'{ "action" : "approve"}',xhrFields:{withCredentials:true},success:function(){a.gotoAssetViewPage()},error:function(b){mobilefirst.router.handleError(b,"#login",false,"Error:"+b.statusText)}})},approveResellingAsset:function(){var c=this.options.parent;var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.approvals;var b=this;var d=[{assetId:this.model.attributes._id,resellerId:mobilefirst.marketplaceId,comments:""}];$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"POST",data:JSON.stringify(d),xhrFields:{withCredentials:true},success:function(){b.gotoAssetViewPage()},error:function(e){mobilefirst.router.handleError(e,"#login",false,"Error:"+e.statusText)}})},rejectResellingAsset:function(){var c=this.options.parent;var a=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resellorder.rejections;var b=this;var d=[{assetId:this.model.attributes._id,resellerId:mobilefirst.marketplaceId,comments:""}];$.ajax({url:a,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"POST",data:JSON.stringify(d),xhrFields:{withCredentials:true},success:function(){b.gotoAssetViewPage()},error:function(e){mobilefirst.router.handleError(e,"#login",false,"Error:"+e.statusText)}})},sendEditRequest:function(b){if(b==null||b==""){return}var a=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id+"/state",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:JSON.stringify({action:"need_more_info",comments:b}),xhrFields:{withCredentials:true},success:function(){a.gotoAssetViewPage()},error:function(c){mobilefirst.router.handleError(c,"#login",false,"Error:"+c.statusText)}})},getReviewComments:function(a){var b=this;$.ajax({url:mobilefirst.constants.prefix.restapiurl+"ma/v1/assets/"+this.model.id,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"GET",data:null,contentType:"application/json",dataType:"json",xhrFields:{withCredentials:true},success:function(c){a(b,c.reviewed)},error:function(c){mobilefirst.router.handleError(c,"#login",false,"Error:"+c.statusText)}})},requireEdits:function(){var a=new mobilefirst.PopupComments({mode:this.getMode(),parent:this});$(".PopupComment",this.$el).append(a.render());$(".reviewCommentTextBox").focus()},submitReviewerComments:function(){var a=$(".reviewCommentTextBox").val();if(a!=null&&a!=""&&a!="add message"){this.sendEditRequest(a);$(".PopupComment",this.$el).hide();$("#overlay").hide()}},keypressReviewComments:function(a){if(a.keyCode===13){this.submitReviewerComments()}},readReviewerNotes:function(){this.getReviewComments(this.showReviewPopupView)},showReviewPopupView:function(c,a){if(a!=undefined){var b=new mobilefirst.PopupComments({review:a,mode:c.getMode(),parent:c});b.review=a;b.mode=c.getMode();$(".PopupComment",c.$el).append(b.render())}},gotoAssetViewPage:function(){mobilefirst.router.navigate("#mobilefirst/view/"+this.model.attributes._id,true)}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.MyAssetsView=mobilefirst.TemplateView.extend({templateName:"MyAssets",tagName:"div",model:{},events:function(){var a=new marketplace.Events();a.addHandler(new marketplace.EventHandler("click","#allAssetsLink",this.showAllAssets));a.addHandler(new marketplace.EventHandler("click","#draftAssetsLink",this.showDraftAssets));a.addHandler(new marketplace.EventHandler("click","#publishedAssetsLink",this.showPublishedAssets));a.addHandler(new marketplace.EventHandler("mouseenter",".addAssetItem",this.addAssetItemMouseEnter));a.addHandler(new marketplace.EventHandler("mouseleave",".addAssetItem",this.addAssetItemMouseLeave));a.addHandler(new marketplace.EventHandler("click",".addAssetItem",this.addAssetToStore));a.addHandler(new marketplace.EventHandler("click","#allAssetsLink",this.showAllAssets));a.addHandler(new marketplace.EventHandler("click","#draftAssetsLink",this.showDraftAssets));a.addHandler(new marketplace.EventHandler("click","#publishedAssetsLink",this.showPublishedAssets));a.addHandler(new marketplace.EventHandler("mouseenter",".addAssetItem",this.addAssetItemMouseEnter));a.addHandler(new marketplace.EventHandler("mouseleave",".addAssetItem",this.addAssetItemMouseLeave));a.addHandler(new marketplace.EventHandler("click",".addAssetItem",this.addAssetToStore));return a},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);this.tabState="all";_.bindAll(this,"render","showAllAssets","showDraftAssets","showPublishedAssets")},render:function(){var b=new mobilefirst.DraftAssets();var c=new mobilefirst.PublishedAssets();var a=this;b.fetch({success:function(d){a.model.drafts=d.length;c.fetch({success:function(e){a.model.published=e.length;a.$el.html(a.template(a.model));var g=$("#assetAdditionActions",a.$el);for(var f=0;f<marketplace.extension.myassets.assetTypes.length;f++){g.append(marketplace.extension.myassets.assetTypes[f].getNode())}mobilefirst.router.setContentLayout();switch(a.tabState){case"all":a.showAllAssets();break;case"drafts":a.showDraftAssets();break;case"published":a.showPublishedAssets();break;default:break}}})}});return this.$el},showDraftAssets:function(){var a=new mobilefirst.DraftAssets();this.renderAssets(a,false,this);this.tabState="drafts";this.showSelectedTab(this.tabState)},showPublishedAssets:function(){var a=new mobilefirst.PublishedAssets();this.renderAssets(a,true,this);this.tabState="published";this.showSelectedTab(this.tabState)},showAllAssets:function(){var a=new mobilefirst.AllAssets();this.renderAssets(a,true,this);this.tabState="all";this.showSelectedTab(this.tabState)},showSelectedTab:function(a){$(".myAssetsHeader",this.$el).removeClass("selectedItem");switch(a){case"all":$("#allAssetsLink",this.$el).addClass("selectedItem");break;case"drafts":$("#draftAssetsLink",this.$el).addClass("selectedItem");break;case"published":$("#publishedAssetsLink",this.$el).addClass("selectedItem");break;default:break}},addAssetItemMouseEnter:function(a){this.addAssetItemMouseLeave(a);$("#"+a.target.id,this.$el).addClass("addAssetItemSelected")},addAssetItemMouseLeave:function(a){$(".addAssetItem").removeClass("addAssetItemSelected")},renderAssets:function(d,e,b){var a=this;var c=this.getChildren();this.clearChildren();d.fetch({reset:true,success:function(f){if(d.length>0){_.each(d.models,function(g){myAssetView=new mobilefirst.MyAssetView({model:g,parent:b,showAccessInfoFooter:true,showAssetStatusInfoHeader:true});$("#assetsCollection",a.$el).append(myAssetView.render())})}else{$("#assetsCollection",a.$el).append("")}a.destroyChildren(c)},error:function(h,f,g){var j="Error fetching assets";a.destroyChildren(c)}})},addAssetToStore:function(a){Backbone.history.state=this.tabState;var b=$(a.currentTarget).attr("id");mobilefirst.router.navigate("#mobilefirst/create/"+b,true)}})});var mobilefirst=mobilefirst||{};mobilefirst.utils={};mobilefirst.utils.Menu=mobilefirst.TemplateView.extend({templateName:"utils/menu",events:{"mouseenter .addToStoreMenu":"showMenu","mouseleave .addToStoreMenu":"hideMenu","click .nonHeaderRow":"triggerSelectedEvent"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(a){this.$el.html(this.template({menuItems:a}));this.hideMenu();return this.$el},hideMenu:function(){$(".nonHeaderRow",this.$el).hide()},showMenu:function(){$(".nonHeaderRow",this.$el).show()},triggerSelectedEvent:function(a){this.trigger("menuItemSelected",a.currentTarget.id)}});mobilefirst.utils.common={fitInImageFrame:function(d,c,a){var h=a.width()-2;var j=a.height()-1;var f=0;var b=c.width;var k=c.height;if(k>b){f=j/k;d.css("height",j);var e=b*f;if(e>h){d.css("width",h);f=maxwidth/b;g=k*f;d.css("height",g)}else{d.css("width",e)}}else{f=h/b;d.css("width",h);var g=k*f;if(g>j){d.css("height",j);f=j/k;e=b*f;d.css("width",e)}else{d.css("height",g)}}}};mobilefirst.utils.loginUtils={getUser:function(){return this.getCookie("user")},setCookie:function(a,d,b){var e=new Date();e.setDate(e.getDate()+b);var c=escape(d)+((b==null)?"":"; expires="+e.toUTCString());document.cookie=a+"="+c},getCookie:function(b){var c=document.cookie;var d=c.indexOf(" "+b+"=");if(d==-1){d=c.indexOf(b+"=")}if(d==-1){c=null}else{d=c.indexOf("=",d)+1;var a=c.indexOf(";",d);if(a==-1){a=c.length}c=unescape(c.substring(d,a))}return c},eraseCookie:function(a){this.setCookie(a,"",-1)},isEmpty:function(a){return(a==="undefined"||a==null||a.length<=0)?true:false},isLoggedIn:function(){var a=mobilefirst.utils.loginUtils.getCookie("name");var b=mobilefirst.utils.loginUtils.getCookie("user");if(mobilefirst.utils.loginUtils.isEmpty(a)||mobilefirst.utils.loginUtils.isEmpty(b)){return false}return true},setCurrentUser:function(b){if(mobilefirst.utils.loginUtils.isLoggedIn()){var a=mobilefirst.utils.loginUtils.getCookie("user");mobilefirst.currentUser=new mobilefirst.Invitee({_id:a});mobilefirst.currentUser.fetch({error:function(e,c,d){mobilefirst.router.handleError(c,"#login",false,"Not logged in")},success:function(){if(b&&$.isFunction(b)){b()}}})}},getCurrentUser:function(){return mobilefirst.currentUser},setMarketplaceId:function(){if(mobilefirst.marketplaceId){return}if(mobilefirst.currentUser){var b=mobilefirst.currentUser;var a=mobilefirst.utils.loginUtils.getCookie("user");var d=mobilefirst.constants.prefix.restapiurl+"ma/v1/";if($.inArray("admin",b.role)!==-1){d+="registrations?q=userId="+a}else{d+="users/"+a}var c="";$.ajax({type:"GET",url:d,xhrFields:{withCredentials:true},success:function(e){if($.inArray("admin",b.role)!==-1){mobilefirst.marketplaceId=e[0].marketplaceId}else{mobilefirst.marketplaceId=e.marketplaceId}}})}else{this.setCurrentUser(this.setMarketplaceId)}}};mobilefirst.utils.getDateOfAWeekAgo=function(){var a=new Date(new Date()-(7*86400000));return a};mobilefirst.utils.getTimeString=function(a){if(!a){return""}var c=new Date(a);var b=mobilefirst.constants.month[c.getMonth()]+" "+c.getDate()+", "+c.getFullYear();b+=" at ";b+=mobilefirst.utils.format12Hour(c);return b},mobilefirst.utils.format12Hour=function(e){var c=e.getHours();var a=e.getMinutes();var b=c>=12?"PM":"AM";c=c%12;c=c?c:12;a=a<10?"0"+a:a;var f=c+":"+a+" "+b;return f};mobilefirst.utils.filters=function(d,c,b,a){this.featured=d||[];this.industry=c||[];this.license=b||[];this.version=a||[];this.pushFilterCategory=function(e,f){if(!this[e.id]||!(this[e.id] instanceof marketplace.FilterQuery)){this[e.id]=new marketplace.FilterQuery(e.queryPrefix)}this[e.id].addFilter(f);return this};this.pushFeatured=function(e){if(this.featured.indexOf(e)===-1){this.featured.push(e)}return this};this.pushIndustry=function(e){if(this.industry.indexOf(e)===-1){this.industry.push(e)}return this};this.pushLicense=function(e){if(this.license.indexOf(e)===-1){this.license.push(e)}return this};this.pushVersion=function(e){if(this.version.indexOf(e)===-1){this.version.push(e)}return this};this.reset=function(){this.featured=[];this.industry=[];this.license=[];this.version=[];return this};this.getFilterQuery=function(){var e="";_.each(this.featured,function(g,f){if(g==="New"){e+="published.on>"+mobilefirst.utils.getDateOfAWeekAgo()+"&"}if(g==="OurPicks"){e+="featured=yes&"}});if(this.industry.length>0){e+="tags="+this.industry.join("|")+"&"}if(this.license.length===1){if(this.license[0]==="FREE"){e+="licenses.pricing.price=0&licenses.pricing.type=COST_BASED&"}else{if(this.license[0]==="PAID"){e+="licenses.pricing.price=!0&licenses.pricing.type=COST_BASED&"}}}if(this.version.length>0){e+="licenses.type="+this.version.join("|")+"&"}for(property in this){if(this[property] instanceof marketplace.FilterQuery){e+=this[property].getQueryString()}}return e};this.toString=function(){return"featured="+this.featured+", industry="+this.industry+", license="+this.license+", version="+this.version}};var mobilefirst=mobilefirst||{};mobilefirst.RatingView=mobilefirst.TemplateView.extend({templateName:"",tagName:"img",className:"ratingImage",initialize:function(){if(this.model.enable){this.$el.attr("src","images/star-yellow.png");this.$el.attr("alt","Selected star")}else{this.$el.attr("src","images/star-gray.png");this.$el.attr("alt","Empty star")}},render:function(){return this.$el}});var mobilefirst=mobilefirst||{};mobilefirst.ExplorePageView=mobilefirst.TemplateView.extend({templateName:"SearchResultPageTemplate",tagName:"div",events:function(){var a=new marketplace.Events();a.addHandler(new marketplace.EventHandler("click",".mf_searchResultsFilterText",this.switchExploreType));a.addHandler(new marketplace.EventHandler("click",".mf_selectAll",this.toggleSelectRemoveAll));a.addHandler(new marketplace.EventHandler("click",".mf_selectFilter",this.selectFilter));a.addHandler(new marketplace.EventHandler("click",".mf_selectedFilter",this.clearSelectedFilter));a.addHandler(new marketplace.EventHandler("click",".mf_deselectFilter",this.deselectFilter));a.addHandler(new marketplace.EventHandler("touchstart",".mf_selectFilter",this.selectFilter));a.addHandler(new marketplace.EventHandler("touchstart",".mf_selectedFilter",this.clearSelectedFilter));a.addHandler(new marketplace.EventHandler("touchstart",".mf_deselectFilter",this.deselectFilter));a.addHandler(new marketplace.EventHandler("click","#sortBySelectedBox",this.showSortOptionsMenu));a.addHandler(new marketplace.EventHandler("click",".sortOption",this.sort));a.addHandler(new marketplace.EventHandler("mouseenter",".sortOption",this.sortOptionMouseEnter));a.addHandler(new marketplace.EventHandler("mouseleave",".sortOption",this.sortOptionMouseLeave));a.addHandler(new marketplace.EventHandler("mouseenter",".mf_searchResultsFilterText",this.searchResultsFilterMouseEnter));a.addHandler(new marketplace.EventHandler("mouseleave",".mf_searchResultsFilterText",this.searchResultsFilterMouseLeave));a.addHandler(new marketplace.EventHandler("mouseenter",".mf_selectFilter",this.searchFilterMouseEnter));a.addHandler(new marketplace.EventHandler("mouseleave",".mf_selectFilter",this.searchFilterMouseLeave));a.addHandler(new marketplace.EventHandler("mouseleave",".mf_selectedFilter",this.searchFilterMouseLeave));for(var c=0;c<marketplace.extension.explore.filters.length;c++){a.addHandler(marketplace.extension.explore.filters[c].eventHandler)}var d=marketplace.extension.explore.getEventHandlers();for(var b=0;b<d.length;b++){a.addHandler(d[b])}return a},initialize:function(){this.detach();this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render","renderSectionFilters","clickableSwitchForType")},detach:function(){$(this.el).unbind();this.model.unbind()},applyFilters:function(){var k=$(".mf_selectedFilter",$("#featuredFiltersContainer"));var g=$(".mf_selectedFilter",$("#industryFiltersContainer"));var e=$(".mf_selectedFilter",$("#licenseFiltersContainer"));var n=$(".mf_selectedFilter",$("#versionFiltersContainer"));var c=new mobilefirst.utils.filters();for(var f=0;f<k.length;f++){c.pushFeatured($(k[f]).attr("id"))}for(var f=0;f<g.length;f++){c.pushIndustry($(g[f]).attr("id"))}for(var f=0;f<e.length;f++){c.pushLicense($(e[f]).attr("id"))}for(var f=0;f<n.length;f++){c.pushVersion($(n[f]).attr("id"))}var h=marketplace.extension.explore.filterCategories;for(var a=0;a<h.length;a++){var m=$(".mf_selectedFilter",$("#mf_"+h[a].id+"_FiltersContainer"));for(var f=0;f<m.length;f++){var j=h[a];for(var d=0;d<j.filters.length;d++){var b=$(m[f]).attr("id");if(j.filters[d].id==b){c.pushFilterCategory(h[a],j.filters[d])}}}}this.model.setFilters(c)},render:function(){this.$el.html(this.template());this.renderTopGuiExtension();this.renderExploreFilters();this.renderLeftPane();this.renderSearchResults();return this.$el},renderTopGuiExtension:function(){$("#marketplace_extension_explore_top",this.$el).append(marketplace.extension.explore.getTopGuiExtension())},renderExploreFilters:function(){for(var a=0;a<marketplace.extension.explore.filters.length;a++){$("#searchFiltersContainer",this.$el).append(marketplace.extension.explore.filters[a].getNode())}},renderSectionFilters:function(){if(marketplace.extension.explore.featuredFilters.length>0){$("#mf_featured_filter",this.$el).show();for(var d=0;d<marketplace.extension.explore.featuredFilters.length;d++){$("#featuredFiltersContainer",this.$el).append(marketplace.extension.explore.featuredFilters[d].getNode());var f=marketplace.extension.explore.featuredFilters[d].getId();var a=$("#"+f,this.$el);$(".mf_filterName",a).html(marketplace.FeaturedType.getFeaturedTypeById(f).getName())}}if(marketplace.extension.explore.categoryFilters.length>0){$("#mf_industries_filter",this.$el).show();for(var d=0;d<marketplace.extension.explore.categoryFilters.length;d++){$("#industryFiltersContainer",this.$el).append(marketplace.extension.explore.categoryFilters[d].getNode());var e=marketplace.extension.explore.categoryFilters[d].getId();var a=$("#"+e,this.$el);$(".mf_filterName",a).html(marketplace.AssetCategory.getAssetCategoryById(e).getName())}}if(marketplace.extension.explore.licenseFilters.length>0){$("#mf_license_filter",this.$el).show();for(var d=0;d<marketplace.extension.explore.licenseFilters.length;d++){$("#licenseFiltersContainer",this.$el).append(marketplace.extension.explore.licenseFilters[d].getNode());var c=marketplace.extension.explore.licenseFilters[d].getId();var a=$("#"+c,this.$el);$(".mf_filterName",a).html(marketplace.LicenseType.getLicenseTypeById(c).getName())}}if(marketplace.extension.explore.versionFilters.length>0){$("#mf_version_filter",this.$el).show();for(var d=0;d<marketplace.extension.explore.versionFilters.length;d++){$("#versionFiltersContainer",this.$el).append(marketplace.extension.explore.versionFilters[d].getNode());var b=marketplace.extension.explore.versionFilters[d].getId();var a=$("#"+b,this.$el);$(".mf_filterName",a).html(marketplace.VersionType.getVersionTypeById(b).getName())}}},renderSearchResults:function(){var a=this;this.model.fetch({reset:true,beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(b){a.clickableSwitchForType();a.setExploreSearchTitle();a.setCurrentFilters();var c=b.length>1?NLS.bind("mf_search_result_count_many",b.length):NLS.bind("mf_search_result_count_zero_one",b.length);$(".mf_searchResultsCount",a.$el).html(c);$(".mf_searchResultsTiles",a.$el).html("");_.each(b.models,function(e,d){var f=new mobilefirst.MyAssetView({model:e,page:"search",parent:a});f.delegateEvents();$(".mf_searchResultsTiles",a.$el).append(f.render())})},error:function(d,b,c){mobilefirst.router.handleError(b,"#login",true,"Error fetching search results")}})},updateAssetCounts:function(){for(var b=0;b<marketplace.extension.explore.filters.length;b++){this.updateCount(marketplace.AssetType.getAssetTypeById(marketplace.extension.explore.filters[b].getId()))}for(var b=0;b<marketplace.extension.explore.featuredFilters.length;b++){this.updateCount(marketplace.FeaturedType.getFeaturedTypeById(marketplace.extension.explore.featuredFilters[b].getId()))}for(var b=0;b<marketplace.extension.explore.categoryFilters.length;b++){this.updateCount(marketplace.AssetCategory.getAssetCategoryById(marketplace.extension.explore.categoryFilters[b].getId()))}for(var b=0;b<marketplace.extension.explore.licenseFilters.length;b++){this.updateCount(marketplace.LicenseType.getLicenseTypeById(marketplace.extension.explore.licenseFilters[b].getId()))}for(var b=0;b<marketplace.extension.explore.versionFilters.length;b++){this.updateCount(marketplace.VersionType.getVersionTypeById(marketplace.extension.explore.versionFilters[b].getId()))}var c=marketplace.extension.explore.filterCategories;for(var e=0;e<c.length;e++){var a=c[e];for(var d=0;d<a.filters.length;d++){this.updateCount(a.filters[d],a)}}},updateCount:function(g,c){var f=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix;f+="?state="+mobilefirst.constants.assetstate.published;var b=null;if(g==null){b="all"}else{b=g.getId();if(g instanceof marketplace.AssetType){f+="&type="+g.getName()}else{if(this.model.selectedAssetTypeId!=="all"){f+="&type="+marketplace.AssetType.getAssetTypeById(this.model.selectedAssetTypeId).getName()}var e=new mobilefirst.utils.filters();var h="";if(g instanceof marketplace.LicenseType){h=e.reset().pushLicense(b).getFilterQuery()}else{if(g instanceof marketplace.VersionType){h=e.reset().pushVersion(b).getFilterQuery()}else{if(g instanceof marketplace.FeaturedType){h=e.reset().pushFeatured(b).getFilterQuery()}else{if(g instanceof marketplace.AssetCategory){h=e.reset().pushIndustry(b).getFilterQuery()}else{if(g instanceof marketplace.Filter){h=e.reset().pushFilterCategory(c,g).getFilterQuery()}}}}}if(h.length>0){f+="&"+h.substring(0,h.length-1)}}}var d=$(location).attr("href").split("#search/");if(this.model.queryString){f+="&q="+this.model.queryString}var a="#"+b+"Count";$.ajax({url:f,type:"HEAD",dataType:"text/plain",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(k,n,m){var j=m.getResponseHeader("count");$(a).html("("+j+")")},error:function(k,m,j){$(a).html("(0)")}})},renderLeftPane:function(){var b=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.summary+"?fields=tags";var a=this;$.ajax({url:b,type:"GET",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(h,e,m){for(var j=0;j<h.length;j++){var g=h[j];if(g.filterName==="tags"){var d=[];_.each(g.filterValue.sort(),function(n){if(!marketplace.AssetCategory.getAssetCategoryById(n)){marketplace.AssetCategory.addAssetCategory(new marketplace.AssetCategory(n,n))}d.push(new marketplace.BackboneLink(n,null,null,["mf_clickable","mf_selectFilter"]).append(new marketplace.BackboneLink(null,null,null,["mf_filterName"])).append(new marketplace.BackboneLink(null,null,null,["mf_deselectFilter","mf_clickable"])).append(new marketplace.BackboneLink(null,null,null,["mf_filterhover"])).append(new marketplace.BackboneLink(n+"Count",null,null,["mf_filterCount"])))});marketplace.extension.explore.categoryFilters=d;var f=$("#mf_filter_categories",this.$el);var k=marketplace.extension.explore.filterCategories;for(var c=0;c<k.length;c++){f.append(k[c].getNode())}a.renderSectionFilters();a.updateAssetCounts()}}},error:function(d,e,c){$("#mf_industries_filter").hide();a.renderSectionFilters();a.updateAssetCounts()}})},clickableSwitchForType:function(){$(".mf_searchResultsFilterTextSelected").removeClass("mf_searchResultsFilterTextSelected").addClass("mf_searchResultsFilterText mf_clickable");var a=this.model.selectedAssetTypeId||"all";var b=$("#"+a,this.$el);b.removeClass("mf_searchResultsFilterText mf_clickable");b.addClass("mf_searchResultsFilterTextSelected")},switchExploreType:function(b){var a=$(b.currentTarget);var c=a.attr("id");this.searchResultsFilterMouseLeave(b);this.model.setAssetTypeID(c);this.updateAssetCounts();this.clickableSwitchForType();this.renderSearchResults()},clearSectionFilters:function(){$("#featuredFiltersContainer").html("");$("#industryFiltersContainer").html("");$("#licenseFiltersContainer").html("");$("#versionFiltersContainer").html("")},toggleSelectRemoveAll:function(c){var a=this;var b=$(c.target).html();if(b===NLS.bind("mf_search_select_all")){_.each($(".mf_selectFilter",$(c.target).parent().parent()),function(e,d){a.toggleFilteSelectionClass($(e),"select")});$(c.target).html(NLS.bind("mf_search_remove_all"))}else{if(b===NLS.bind("mf_search_remove_all")){_.each($(".mf_selectedFilter",$(c.target).parent().parent()),function(e,d){a.toggleFilteSelectionClass($(e),"deselect")});$(c.target).html(NLS.bind("mf_search_select_all"))}}this.applyFilters();this.renderSearchResults()},toggleFilteSelectionClass:function(b,d){if(d==="select"){b.removeClass("mf_selectFilter").addClass("mf_selectedFilter");$(".mf_deselectFilter",b).show();if(b.siblings(".mf_selectFilter").size()===0){var a=b.parent().siblings(".mf_filterHeading").get(0);var c=$(a).children(".mf_selectAll").get(0);$(c).html(NLS.bind("mf_search_remove_all"))}}else{if(d==="deselect"){b.removeClass("mf_selectedFilter").addClass("mf_selectFilter");$(".mf_deselectFilter",b).hide();if(b.siblings(".mf_selectedFilter").size()===0){var a=b.parent().siblings(".mf_filterHeading").get(0);var c=$(a).children(".mf_selectAll").get(0);$(c).html(NLS.bind("mf_search_select_all"))}}}},selectFilter:function(a){var b=$(a.target).parent();this.toggleFilteSelectionClass(b,"select");this.applyFilters();this.renderSearchResults()},clearSelectedFilter:function(a){$(a.target).siblings(".mf_deselectFilter").click()},deselectFilter:function(a){var b=$(a.target).parent();this.toggleFilteSelectionClass(b,"deselect");this.applyFilters();this.renderSearchResults()},showSortOptionsMenu:function(b){var a=$("#sortByOptions").is(":visible");if(a){$("#sortByOptions").hide();$("#sortByIcon").removeClass("foldupIcon").addClass("dropdownIcon")}else{$("#sortByOptions").show();$("#sortByIcon").addClass("foldupIcon").removeClass("dropdownIcon")}},sort:function(c){$("#sortByOptions").hide();$("#sortByIcon").removeClass("foldupIcon").addClass("dropdownIcon");var a=$(c.target).html();var b=$("#sortBySelectedText").html();if(a!==b){$("#sortBySelectedText").html($(c.target).html());if(a===NLS.bind("mf_search_sort_by_downloads")){alert("coming soon")}else{if(a==NLS.bind("mf_search_sort_by_date_added")){this.model.setSortMethod(mobilefirst.constants.explorelink.dateadded)}else{if(a==NLS.bind("mf_search_sort_by_ranking")){this.model.setSortMethod(mobilefirst.constants.explorelink.ranking)}}this.renderSearchResults()}}},sortOptionMouseEnter:function(a){$(a.target).addClass("sortByOptionHover")},sortOptionMouseLeave:function(a){$(a.target).removeClass("sortByOptionHover")},searchFilterMouseEnter:function(a){var b=$(a.target).parent();$(".mf_filterhover",b).show();b.addClass("mf_selectedFilterHover")},searchFilterMouseLeave:function(a){var b=$(a.target).parent();$(".mf_filterhover",$(a.target).parent()).hide();b.removeClass("mf_selectedFilterHover")},searchResultsFilterMouseEnter:function(a){var b=$(a.target).parent();$(".mf_filterhover",b).show();b.addClass("mf_searchResultsFilterTextSelected")},searchResultsFilterMouseLeave:function(a){var b=$(a.target).parent();$(".mf_filterhover",$(a.target).parent()).hide();b.removeClass("mf_searchResultsFilterTextSelected")},setCurrentFilters:function(){var b=NLS.bind("mf_search_everything");if(this.model.selectedAssetType){b=NLS.bind("mf_search_"+this.model.selectedAssetType.getId())}var a=$(".mf_selectedFilter",this.$el);_.each(a,function(c){b+=", "+$(c).children(".mf_filterName").html()});$("#currentFilters",this.$el).html(b)},setExploreSearchTitle:function(){if(this.model.queryString&&$.trim(this.model.queryString).length>0){if(this.model.selectedAssetType){$("#mf_search_explore_title",this.$el).html(NLS.bind("mf_search_searching",this.model.selectedAssetType.getName()))}else{$("#mf_search_explore_title",this.$el).html(NLS.bind("mf_search_searching",NLS.bind("mf_search_all_asset_types")))}}else{if(this.model.selectedAssetType){$("#mf_search_explore_title",this.$el).html(NLS.bind("mf_search_exploring",this.model.selectedAssetType.getName()))}else{$("#mf_search_explore_title",this.$el).html(NLS.bind("mf_search_exploring",NLS.bind("mf_search_all_asset_types")))}}}});var mobilefirst=mobilefirst||{};mobilefirst.constants.month=["January","February","March","April","May","June","July","August","September","October","November","December"];mobilefirst.constants.api={version:"v1",contextroot:"ma",asset:{prefix:"assets",collection:"products",featured:"featuredAssets",summary:"summary",subscribe:"subscribe"},reseller:{prefix:"resellers",assets:"assets",forapproval:"forapproval",forSale:"forSale"},resellorder:{prefix:"resellordercollection",approvals:"approvals",rejections:"rejections"},comment:{prefix:"threads",posts:"posts"},review:{prefix:"assetreviews"},resource:{prefix:"references"},server:{originURL:"https://asset-websphere.ibm.com/ma"}};mobilefirst.constants.attachmenttype={CONTENT:"CONTENT",ILLUSTRATION:"ILLUSTRATION",DOCUMENTATION:"DOCUMENTATION",THUMBNAIL:"THUMBNAIL",LICENSE_AGREEMENT:"LICENSE"};mobilefirst.constants.license={checkType:false,hideTypeList:[]};mobilefirst.constants.fieldlimits={ASSET_DETAILS_NAME:80,ASSET_DETAILS_NAME_DYNAMIC_CSS:32,ASSET_DETAILS_SHORT_DESCRIPTION:500,ASSET_LIST_NAME:50,ASSET_LIST_SHORT_DESCRIPTION:400,ASSET_TILE_SHORT_DESCRIPTION:190,ASSET_TYPE:25,COMMENT:1000,COMPATIBILITY:350,DESCRIPTION:10000,LANGUAGES:350,PLATFORM_VERSION:150,RELEASED:18,RESOURCE:50};mobilefirst.constants.illustration={caption_prefix:"caption"};mobilefirst.constants.search={reservedForEmpty:"@&#",unsupported:[";","*","#","&","%","<",">","=","'"],hidden:"search"};mobilefirst.constants.explorelink={date:"lastUpdatedOn",name:"name",rating:"rating"};mobilefirst.constants.profileurl="https://www.ibm.com/developerworks/community/profiles/html/profileView.do?lang=en&userid=";mobilefirst.constants.query={sectionDelimiter:";",keypairDelimiter:"=",valueDelimiter:"|",searchKey:"q",assetTypeKey:"type",assetTypeClear:"all",sortByKey:"sortby",sortByKeyFeatured:"wlpInformation.featuredWeight",sortByKeyDate:"lastUpdatedOn",sortByKeyName:"name",sortByKeyRating:"rating",sortByKeyRelevance:"relevance",sortOrderKey:"sortorder",sortOrderKeyAsc:"asc",sortOrderKeyDesc:"desc",viewModeKey:"viewmode",viewModeList:"list",viewModeTitle:"title"};mobilefirst.constants.maxReviewTitleLength=140;mobilefirst.constants.sliderImages=3;mobilefirst.constants.locale_list=[{code:"af",description:"Afrikaans"},{code:"sq",description:"Albanian - shqipe"},{code:"am",description:"Amharic - አማርኛ"},{code:"ar",description:"Arabic - العربية"},{code:"hy",description:"Armenian - Հայերէն"},{code:"az",description:"Azerbaijani - azərbaycanca"},{code:"eu",description:"Basque - euskara"},{code:"be",description:"Belarusian - беларуская"},{code:"bn",description:"Bengali - বাংলা"},{code:"bh",description:"Bihari"},{code:"bs",description:"Bosnian - bosanski"},{code:"br",description:"Breton"},{code:"bg",description:"Bulgarian - български"},{code:"ca",description:"Catalan - català"},{code:"zh",description:"Chinese - 中文"},{code:"zh-CN",description:"Chinese (Simplified Han) - 中文（简体中文）"},{code:"zh-TW",description:"Chinese (Traditional Han) - 中文 (繁體中文)"},{code:"co",description:"Corsican"},{code:"hr",description:"Croatian - hrvatski"},{code:"cs",description:"Czech - čeština"},{code:"da",description:"Danish - dansk"},{code:"nl",description:"Dutch - Nederlands"},{code:"en",description:"English"},{code:"en-AU",description:"English (Australia)"},{code:"en-CA",description:"English (Canada)"},{code:"en-NZ",description:"English (New Zealand)"},{code:"en-ZA",description:"English (South Africa)"},{code:"en-GB",description:"English (United Kingdom)"},{code:"en-US",description:"English (United States)"},{code:"eo",description:"Esperanto - esperanto"},{code:"et",description:"Estonian - eesti"},{code:"fo",description:"Faroese - føroyskt"},{code:"fil",description:"Filipino"},{code:"fi",description:"Finnish - suomi"},{code:"fr",description:"French - français"},{code:"fr-CA",description:"French (Canada) - français (Canada)"},{code:"fr-FR",description:"French (France) - français (France)"},{code:"fr-CH",description:"French (Switzerland) - français (Suisse)"},{code:"gl",description:"Galician - galego"},{code:"ka",description:"Georgian - ქართული"},{code:"de",description:"German - Deutsch"},{code:"de-AT",description:"German (Austria) - Deutsch (Österreich)"},{code:"de-DE",description:"German (Germany) - Deutsch (Deutschland)"},{code:"de-CH",description:"German (Switzerland) - Deutsch (Schweiz)"},{code:"el",description:"Greek - Ελληνικά"},{code:"gn",description:"Guarani"},{code:"gu",description:"Gujarati - ગુજરાતી"},{code:"ha",description:"Hausa"},{code:"haw",description:"Hawaiian - ʻōlelo Hawaiʻi"},{code:"he",description:"Hebrew - עברית"},{code:"hi",description:"Hindi - हिन्दी"},{code:"hu",description:"Hungarian - magyar"},{code:"is",description:"Icelandic - íslenska"},{code:"in",description:"Indonesian"},{code:"id",description:"Indonesian - Bahasa Indonesia"},{code:"ia",description:"Interlingua"},{code:"ga",description:"Irish - Gaeilge"},{code:"it",description:"Italian - italiano"},{code:"it-IT",description:"Italian (Italy) - italiano (Italia)"},{code:"it-CH",description:"Italian (Switzerland) - italiano (Svizzera)"},{code:"ja",description:"Japanese - 日本語"},{code:"jw",description:"Javanese"},{code:"kn",description:"Kannada - ಕನ್ನಡ"},{code:"kk",description:"Kazakh - Қазақ"},{code:"km",description:"Khmer - ភាសាខ្មែរ"},{code:"ky",description:"Kirghiz"},{code:"ko",description:"Korean - 한국어"},{code:"ku",description:"Kurdish"},{code:"lo",description:"Lao"},{code:"la",description:"Latin"},{code:"lv",description:"Latvian - latviešu"},{code:"ln",description:"Lingala"},{code:"lt",description:"Lithuanian - lietuvių"},{code:"mk",description:"Macedonian - македонски"},{code:"ms",description:"Malay - Bahasa Melayu"},{code:"ml",description:"Malayalam - മലയാളം"},{code:"mt",description:"Maltese - Malti"},{code:"mr",description:"Marathi - मराठी"},{code:"mo",description:"Moldavian - mo"},{code:"mn",description:"Mongolian"},{code:"ne",description:"Nepali - नेपाली"},{code:"no",description:"Norwegian - norsk"},{code:"nb",description:"Norwegian Bokmål - norsk bokmål"},{code:"nn",description:"Norwegian Nynorsk - nynorsk"},{code:"oc",description:"Occitan"},{code:"or",description:"Oriya - ଓଡ଼ିଆ"},{code:"om",description:"Oromo - Oromoo"},{code:"ps",description:"Pashto - پښتو"},{code:"fa",description:"Persian - فارسی"},{code:"pl",description:"Polish - polski"},{code:"pt",description:"Portuguese - português"},{code:"pt-BR",description:"Portuguese (Brazil) - português (Brasil)"},{code:"pt-PT",description:"Portuguese (Portugal) - português (Portugal)"},{code:"pa",description:"Punjabi - ਪੰਜਾਬੀ"},{code:"qu",description:"Quechua"},{code:"ro",description:"Romanian - română"},{code:"rm",description:"Romansh - rumantsch"},{code:"ru",description:"Russian - русский"},{code:"gd",description:"Scottish Gaelic"},{code:"sr",description:"Serbian - Српски"},{code:"sh",description:"Serbo-Croatian"},{code:"sn",description:"Shona - chiShona"},{code:"sd",description:"Sindhi"},{code:"si",description:"Sinhala - සිංහල"},{code:"sk",description:"Slovak - slovenčina"},{code:"sl",description:"Slovenian - slovenščina"},{code:"so",description:"Somali - Soomaali"},{code:"st",description:"Southern Sotho"},{code:"es",description:"Spanish - español"},{code:"es-419",description:"Spanish (Latin America) - español (Latinoamérica)"},{code:"su",description:"Sundanese"},{code:"sw",description:"Swahili - Kiswahili"},{code:"sv",description:"Swedish - svenska"},{code:"tg",description:"Tajik"},{code:"ta",description:"Tamil - தமிழ்"},{code:"tt",description:"Tatar"},{code:"te",description:"Telugu - తెలుగు"},{code:"th",description:"Thai - ไทย"},{code:"ti",description:"Tigrinya - ትግርኛ"},{code:"to",description:"Tonga - lea fakatonga"},{code:"tr",description:"Turkish - Türkçe"},{code:"tk",description:"Turkmen"},{code:"tw",description:"Chinese (Traditional Han) - 中文 (繁體中文)"},{code:"ug",description:"Uighur"},{code:"uk",description:"Ukrainian - українська"},{code:"ur",description:"Urdu - اردو"},{code:"uz",description:"Uzbek - Ўзбек"},{code:"vi",description:"Vietnamese - Tiếng Việt"},{code:"cy",description:"Welsh - Cymraeg"},{code:"fy",description:"Western Frisian"},{code:"xh",description:"Xhosa"},{code:"yi",description:"Yiddish"},{code:"yo",description:"Yoruba - Èdè Yorùbá"},{code:"zu",description:"Zulu - isiZulu"}];mobilefirst.constants.locale_hash={af:"Afrikaans",sq:"Albanian - shqipe",am:"Amharic - አማርኛ",ar:"Arabic - العربية",hy:"Armenian - Հայերէն",az:"Azerbaijani - azərbaycanca",eu:"Basque - euskara",be:"Belarusian - беларуская",bn:"Bengali - বাংলা",bh:"Bihari",bs:"Bosnian - bosanski",br:"Breton",bg:"Bulgarian - български",ca:"Catalan - català",zh:"Chinese - 中文","zh-CN":"Chinese (Simplified Han) - 中文（简体中文）","zh-TW":"Chinese (Traditional Han) - 中文 (繁體中文)",co:"Corsican",hr:"Croatian - hrvatski",cs:"Czech - čeština",da:"Danish - dansk",nl:"Dutch - Nederlands",en:"English","en-AU":"English (Australia)","en-CA":"English (Canada)","en-NZ":"English (New Zealand)","en-ZA":"English (South Africa)","en-GB":"English (United Kingdom)","en-US":"English (United States)",eo:"Esperanto - esperanto",et:"Estonian - eesti",fo:"Faroese - føroyskt",fil:"Filipino",fi:"Finnish - suomi",fr:"French - français","fr-CA":"French (Canada) - français (Canada)","fr-FR":"French (France) - français (France)","fr-CH":"French (Switzerland) - français (Suisse)",gl:"Galician - galego",ka:"Georgian - ქართული",de:"German - Deutsch","de-AT":"German (Austria) - Deutsch (Österreich)","de-DE":"German (Germany) - Deutsch (Deutschland)","de-CH":"German (Switzerland) - Deutsch (Schweiz)",el:"Greek - Ελληνικά",gn:"Guarani",gu:"Gujarati - ગુજરાતી",ha:"Hausa",haw:"Hawaiian - ʻōlelo Hawaiʻi",he:"Hebrew - עברית",hi:"Hindi - हिन्दी",hu:"Hungarian - magyar",is:"Icelandic - íslenska","in":"Indonesian",id:"Indonesian - Bahasa Indonesia",ia:"Interlingua",ga:"Irish - Gaeilge",it:"Italian - italiano","it-IT":"Italian (Italy) - italiano (Italia)","it-CH":"Italian (Switzerland) - italiano (Svizzera)",ja:"Japanese - 日本語",jw:"Javanese",kn:"Kannada - ಕನ್ನಡ",kk:"Kazakh - Қазақ",km:"Khmer - ភាសាខ្មែរ",ky:"Kirghiz",ko:"Korean - 한국어",ku:"Kurdish",lo:"Lao",la:"Latin",lv:"Latvian - latviešu",ln:"Lingala",lt:"Lithuanian - lietuvių",mk:"Macedonian - македонски",ms:"Malay - Bahasa Melayu",ml:"Malayalam - മലയാളം",mt:"Maltese - Malti",mr:"Marathi - मराठी",mo:"Moldavian - mo",mn:"Mongolian",ne:"Nepali - नेपाली",no:"Norwegian - norsk",nb:"Norwegian Bokmål - norsk bokmål",nn:"Norwegian Nynorsk - nynorsk",oc:"Occitan",or:"Oriya - ଓଡ଼ିଆ",om:"Oromo - Oromoo",ps:"Pashto - پښتو",fa:"Persian - فارسی",pl:"Polish - polski",pt:"Portuguese - português","pt-BR":"Portuguese (Brazil) - português (Brasil)","pt-PT":"Portuguese (Portugal) - português (Portugal)",pa:"Punjabi - ਪੰਜਾਬੀ",qu:"Quechua",ro:"Romanian - română",rm:"Romansh - rumantsch",ru:"Russian - русский",gd:"Scottish Gaelic",sr:"Serbian - Српски",sh:"Serbo-Croatian",sn:"Shona - chiShona",sd:"Sindhi",si:"Sinhala - සිංහල",sk:"Slovak - slovenčina",sl:"Slovenian - slovenščina",so:"Somali - Soomaali",st:"Southern Sotho",es:"Spanish - español","es-419":"Spanish (Latin America) - español (Latinoamérica)",su:"Sundanese",sw:"Swahili - Kiswahili",sv:"Swedish - svenska",tg:"Tajik",ta:"Tamil - தமிழ்",tt:"Tatar",te:"Telugu - తెలుగు",th:"Thai - ไทย",ti:"Tigrinya - ትግርኛ",to:"Tonga - lea fakatonga",tr:"Turkish - Türkçe",tk:"Turkmen",tw:"Chinese (Traditional Han) - 中文 (繁體中文)",ug:"Uighur",uk:"Ukrainian - українська",ur:"Urdu - اردو",uz:"Uzbek - Ўзбек",vi:"Vietnamese - Tiếng Việt",cy:"Welsh - Cymraeg",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba - Èdè Yorùbá",zu:"Zulu - isiZulu"};var mobilefirst=mobilefirst||{};mobilefirst.utils=mobilefirst.utils||{};mobilefirst.utils.url=mobilefirst.utils.url||{};mobilefirst.utils.filters=function(f,e,c,b,d,a){this.featured=f||[];this.industry=e||[];this.license=c||[];this.version=b||[];this.edition=d||[];this.assetCategory=a||[];this.pushFilterCategory=function(g,h){if(!this[g.id]||!(this[g.id] instanceof marketplace.FilterQuery)){this[g.id]=new marketplace.FilterQuery(g.queryPrefix)}this[g.id].addFilter(h);return this};this.pushFeatured=function(g){if($.inArray(g,this.featured)===-1){this.featured.push(g)}return this};this.pushIndustry=function(g){if($.inArray(g,this.industry)===-1){this.industry.push(g)}return this};this.pushLicense=function(g){if($.inArray(g,this.license)===-1){this.license.push(g)}return this};this.pushVersion=function(g){if($.inArray(g,this.version)===-1){this.version.push(g)}return this};this.pushEdition=function(g){if($.inArray(g,this.edition)===-1){this.edition.push(g)}return this};this.pushAssetCategory=function(h){var g=marketplace.AssetCategoryType.getAssetCategoryTypeById(h);if(!g){return}var h=g.getName();if($.inArray(h,this.assetCategory)===-1){this.assetCategory.push(h)}return this};this.reset=function(){this.featured=[];this.industry=[];this.license=[];this.version=[];this.edition=[];this.assetCategory=[];return this};this.getFilterQuery=function(){var g="";_.each(this.featured,function(j,h){if(j==="New"){g+="published.on>"+mobilefirst.utils.getDateOfAWeekAgo()+"&"}if(j==="OurPicks"){g+="featured=yes&"}});if(this.industry.length>0){g+="tags="+this.industry.join("|")+"&"}if(this.license.length===1){if(this.license[0]==="FREE"){g+="licenses.pricing.price=0&licenses.pricing.type=COST_BASED&"}else{if(this.license[0]==="PAID"){g+="licenses.pricing.price=!0&licenses.pricing.type=COST_BASED&"}}}if(this.edition.length>0){g+=marketplace.extension.editionField+"="+this.edition.join("|")+"&"}if(this.assetCategory.length>0){g+=marketplace.extension.assetCategoryField+"="+this.assetCategory.join("|")+"&"}for(property in this){if(this[property] instanceof marketplace.FilterQuery){g+=this[property].getQueryString()}}return g};this.toString=function(){return"featured="+this.featured+", industry="+this.industry+", license="+this.license+", version="+this.version+", edition="+this.edition+", assetCategory="+this.assetCategory}};mobilefirst.utils.url.getMassiveUrl=function(a){return mobilefirst.utils.url.getDownloadUrl(a,true)};mobilefirst.utils.url.getDownloadUrl=function(b,a){b=$.trim(b);if(b.indexOf(mobilefirst.constants.api.server.originURL)>-1){var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot;b=b.replace(mobilefirst.constants.api.server.originURL,c);b=mobilefirst.utils.url.applyAPIKey(b);if(!a){b+="&licenses.0=agree"}}else{if(b.indexOf("http")!=0){var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot;b=c+mobilefirst.utils.url.applyAPIKey(b);if(!a){b=+"&licenses.0=agree"}}else{if(b.indexOf("apiKey")>-1){b=mobilefirst.utils.url.removeURLParameter(b,"apiKey")}}}b=$.trim(b);if(b.charAt(b.length-1)=="?"){b=b.substring(0,b.length-1)}return b};mobilefirst.utils.url.removeURLParameter=function(a,f){var d=a.split("?");if(d.length>=2){var e=encodeURIComponent(f)+"=";var c=d[1].split(/[&;]/g);for(var b=c.length;b-->0;){if(c[b].lastIndexOf(e,0)!==-1){c.splice(b,1)}}a=d[0]+"?"+c.join("&");return a}else{return a}};mobilefirst.utils.url.getURLParameter=function(a,e){var c=a.split("&");for(var b=0;b<c.length;b++){var d=c[b].split("=");if(d[0]==e){return unescape(d[1])}}return""};mobilefirst.utils.url.applyAPIKey=function(a){if(a&&a.indexOf("?apiKey=")<0){a=a+"?apiKey="+marketplace.extension.apiKey}return a};mobilefirst.utils.checkLicenseVisibility=function(c){if(c==null){return false}if(c.type!=mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){return false}if(!mobilefirst.constants.license.checkType){return true}var b=attachments[i].licenseType;if(b==null){return false}else{var a=mobilefirst.constants.license.hideTypeList;for(l=0;l<a.length;l++){if(a[l]==b){return false}}return true}};mobilefirst.utils.limitField=function(h,b){if(h){if(h instanceof Array){var j=0;var f=new Array();var e="";for(var d=0;d<h.length;d++){e=h[d];j+=e.length;if(j>b){var a=j-b;var c=e.length-a;var g=e.substr(0,c);g+="...";f.push(g);break}f.push(e)}return f}else{if(h.length>b){h=h.substr(0,b);h+="..."}return h}}};mobilefirst.utils.getAssetPresetIcon=function(a){var c="default";if(a){var b=a.getId().toLowerCase();if(b=="mobilecomoponent"){c="lego"}else{if(b=="mobiledevelopmenttool"){c="lego"}else{if(b=="feature"){c="lego"}else{if(b=="opensource"){c="chain"}else{if(b=="open_source_integration"){c="chain"}else{if(b=="ifix"){c="chain"}else{if(b=="config_snippet"){c="scissor"}else{if(b=="product_sample"){c="database"}else{if(b=="admin_script"){c="gear"}else{if(b=="tool"){c="toolkit"}else{if(b=="addon"){c="addon"}else{if(b=="block"){c="block"}else{if(b=="product"){c="block"}}}}}}}}}}}}}}return c};mobilefirst.utils.log=function(b){var a=location.hostname;if(a!="mdev.ibm.com"&&marketplace.extension.apiKye!="localhost"){return}try{console.log(b)}catch(c){}};mobilefirst.utils.sanitizeHTML=function(a){return a.replace(/(\n){3,}/g,"\n\n").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\[\s*((.+\s*\|\s*)?(http[s]?:\/\/|ftp:\/\/)?(www\.)?[a-zA-Z0-9-\.]+\..+(\s*.+\s*\|\s*)?)\]/g,"$1").replace(/\[\s*([0-9a-zA-Z]+([_.-]?[0-9a-zA-Z]+)*@[0-9a-zA-Z]+[0-9,a-z,A-Z,.,-]*(.){1}[a-zA-Z]{2,4})+\s*\]/g,"$1")};mobilefirst.utils.loginMassive=function(b,d,a){var c=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix;if(!a){a=1}if(a>10){return}$.ajax({url:c,type:"HEAD",dataType:"text/plain",xhrFields:{withCredentials:true},beforeSend:function(e){e.setRequestHeader("encrypted_content",encodeURIComponent(mobilefirst.utils.loginUtils.getCookie("dWSSO")));e.setRequestHeader("apiKey",marketplace.extension.apiKey)},success:function(){$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"users/current",type:"GET",cache:false,xhrFields:{withCredentials:true},beforeSend:function(e){e.setRequestHeader("apiKey",marketplace.extension.apiKey)},success:function(e){if(e.name!=mobilefirst.utils.loginUtils.getCookie("t_name")){console.log("DATA NAME:["+e.name+"] tNAME:["+mobilefirst.utils.loginUtils.getCookie("t_name")+"] "+a);b.signout();return}else{mobilefirst.utils.loginUtils.setCookie("user_ma_id",e._id,7);mobilefirst.utils.loginUtils.setCookie("name",e.name,7);d.apply(b)}}})}})};mobilefirst.utils.getRequest=function(b,a,c){$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+"?"+b,type:"GET",xhrFields:{withCredentials:true},beforeSend:function(d){d.setRequestHeader("apiKey",marketplace.extension.apiKey)},success:function(d){c.apply(a,d)}})};mobilefirst.utils.deref=function(b,a){$.each(a.split("."),function(c,d){b=b[d]});return b};mobilefirst.utils.sortFunction_id=function(f,d){try{var c;var h;c=f.getId().toUpperCase();h=d.getId().toUpperCase();return((c<h)?-1:((c>h)?1:0))}catch(g){return 0}};mobilefirst.utils.stripHTMLTags=function(a){var c=document.createElement("div");c.innerHTML=a;var b=c.textContent||c.innerText||"";$(c).remove();return b};mobilefirst.utils.getSanitizedID=function(a){return a.replace(/\W+/g,"_").toUpperCase()};mobilefirst.utils.compareTo=function(f,d){mobilefirst.utils.log("COMPARE: "+f+":"+d);if(!f){f=""}if(!d){d=""}f=$.trim(f);d=$.trim(d);if(f===d){return 0}if(f==""){return -1}if(d==""){return 1}var g=f.split("."),e=d.split(".");$.each([0,1,2],function(a){g[a]=parseInt(g[a])||0;e[a]=parseInt(e[a])||0});g[3]=g[3]||"";e[3]=e[3]||"";for(var h=0;h<=2;h++){var j=g[h]-e[h];if(j!=0){return(0>j)?-1:1}}if(g[3]!=e[3]){return(g[3]<e[3])?-1:1}return 9};var marketplace=marketplace||{};marketplace.EditionPrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.EditionType=function(b,a){this.getId=function(){return b};this.getName=function(){return a}};marketplace.EditionType.prototype=new marketplace.EditionPrototype();marketplace.EditionType.addEditionType=function(a){if(a){this[a.getId()]=a}};marketplace.EditionType.getEditionType=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.EditionType.getEditionTypeById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};var marketplace=marketplace||{};marketplace.AssetTypePrototype=function(){this.getName=function(){return null};this.toString=function(){return this.getName()}};marketplace.AssetType=function(b,a){this.getId=function(){return b};this.getName=function(){return a}};marketplace.AssetType.prototype=new marketplace.AssetTypePrototype();marketplace.AssetType.addAssetType=function(a){if(a){this[a.getId()]=a}};marketplace.AssetType.getAssetType=function(a){if(a==""){return null}for(property in this){if(this[property] instanceof this){if(this[property].getName()==a){return this[property]}}}return null};marketplace.AssetType.getAssetTypeById=function(a){for(property in this){if(this[property] instanceof this){if(this[property].getId()==a){return this[property]}}}return null};var mobilefirst=mobilefirst||{};mobilefirst.login_overlay={};mobilefirst.login_overlay.show=function(a){mobilefirst.login_overlay.callback=a;$("#signin").click()};var marketplace=marketplace||{};marketplace.Text=function(){};marketplace.Text.resize=function(c,a){var b=a;if(!c||c.length<=b){return c}c=c.substring(0,b-4)+" ...";return c};var mobilefirst=mobilefirst||{};function ga(){}ga.getAll=function(){return[]};mobilefirst.send_ga=function(){if(location.href.indexOf("ibmdw.net")>0||location.href.indexOf("developer.ibm.com")>0){$.each(ga.getAll(),function(a,b){ga(b.get("name")+".send","pageview",{page:location.href.replace(/^[^#]*?:\/\/.*?(\/.*)$/,"$1")})})}};$(window).load(function(){mobilefirst.send_ga()});$(window).on("hashchange",mobilefirst.send_ga);String.prototype.toTitleCaseString=function(){return this.replace(/^\w/,function(a){return a.toUpperCase()})};function getURLParameter(a){var d=window.location.search.substring(1);var c=d.split("&");for(var b=0;b<c.length;b++){var e=c[b].split("=");if(e[0]==a){return e[1]}}return""}$(document).ready(function(){$("body").on("click","a[data-analytics-category][data-analytics-action]",function(d){d.preventDefault();var b=this.href;var a={};a.S_PKG=getURLParameter("S_PKG");a.S_TACT=getURLParameter("S_TACT");if(a.S_PKG!==""||a.S_PKG!==""){b+=((b.search(/\?/)!==-1)?"&":"?")+$.param(a)}setTimeout(function(){window.location=b},200);if(location.href.indexOf("ibmdw.net")>0||location.href.indexOf("developer.ibm.com")>0){var c=$(this);$.each(ga.getAll(),function(e,f){ga(f.get("name")+".send","event",{eventCategory:c.attr("data-analytics-category").toTitleCaseString()||"Downloads",eventAction:c.attr("data-analytics-action").toTitleCaseString()||"action",eventLabel:marketplace.extension.name||"",page:location.href.replace(/^[^#]*?:\/\/.*?(\/.*)$/,"$1")})})}})});var dWSite_common_en_message={mf_assetEditor_namePlaceHolder_features:"Name Your Features",mf_assetEditor_namePlaceHolder_productsamples:"Name Your Product samples",mf_assetEditor_namePlaceHolder_adminscripts:"Name Your Admin scripts",mf_assetEditor_namePlaceHolder_opensourceintegration:"Name Your Open source integration",mf_assetEditor_namePlaceHolder_configsnippets:"Name Your Config snippets",mf_assetEditor_namePlaceHolder_devtool:"Name Your Dev Tool",mf_assetEditor_namePlaceHolder_bluemixserviceoffering:"Name Your Service Offering",mf_assetEditor_features:"Features",mf_assetEditor_productsamples:"Product samples",mf_assetEditor_adminscripts:"Admin scripts",mf_assetEditor_opensourceintegration:"Open source integration",mf_assetEditor_configsnippets:"Config snippets",mf_assetEditor_devtool:"Development tool",mf_assetEditor_bluemixserviceoffering:"Service Offering",mf_search_everything:"All",mf_search_api:"APIs",mf_search_features:"Features",mf_search_productsamples:"Product samples",mf_search_adminscripts:"Admin scripts",mf_search_opensourceintegration:"Open source integration",mf_search_configsnippets:"Config snippets",mf_search_devtool:"Developer Tools",mf_search_bluemixserviceoffering:"Service Offerings",mf_search_remove_all:"Clear All",mf_explore_all:"EXPLORE ALL",mf_explore_api:"EXPLORE APIS",mf_explore_features:"EXPLORE FEATURES",mf_explore_productsamples:"EXPLORE PRODUCT SAMPLES",mf_explore_adminscripts:"EXPLORE ADMIN SCRIPTS",mf_explore_opensourceintegration:"EXPLORE OPEN SOURCE INTEGRATION",mf_explore_configsnippets:"EXPLORE CONFIG SNIPPETS",mf_explore_devtool:"EXPLORE DEVELOPMENT TOOLS",mf_explore_bluemixserviceoffering:"EXPLORE SERVICE OFFERINGS",mf_myassets_api:"web api",mf_myassets_features:"Features",mf_myassets_productsamples:"Product samples",mf_myassets_adminscripts:"Admin scripts",mf_myassets_opensourceintegration:"Open source integration",mf_myassets_configsnippets:"Config snippets",mf_myassets_devtool:"developer tool",mf_myassets_bluemixserviceoffering:"service offering",mf_asset_footer_logo_name:"about IBM WASDevFirst",mf_asset_type:"Type",mf_myasset_compatible:"Compatible with",mf_asset_authors:"By {0}",mf_asset_provider:"By {0}",mf_comments:"Reviews",mf_comments_lowercase:"reviews",mf_comment_lowercase:"review",mf_comment_no_comment:"Be the first to rate this asset",mf_search_asset_category:"Categories",mf_search_result_count_zero_one:"({0} result)",mf_search_result_count_many:"({0} results)",mf_search_showing_of:"of",mf_search_show_more:"Show more",mf_search_sort_by_date:"Date",mf_search_sort_by_name:"Name",mf_search_sort_order_asc:"Sort Ascending",mf_search_sort_order_desc:"Sort Descending",mf_ratingcomment_averagerating_head:" {0} reviews",mf_ratingcomment_averagerating:"Average based on {0} reviews:",mf_ratingcomment_postreview_btn:"Submit",mf_ratingcomment_title_placeholder:"Review title",mf_no_rating:"Don't forget the stars!",mf_no_ratingcomment_title:"Oops! You need a title.",mf_no_ratingcomment_desc:"Tell us more, please.",mf_search_exploring:"Assets",mf_search_searching:"Search results for ",mf_search_edition:"Edition",mf_asset_Free_Trial:"Start free trial",mf_signin_error:"We are sorry. There are no ibm.com accounts associated with the IBM ID and/or password entered below. Please try again.",mf_asset_CommercialTerms:"Pricing & terms",mf_Information:"Details",mf_asset_Platforms:"Platform versions:",mf_asset_Requirements:"Compatibility:",mf_asset_view_license:"Learn more about our licensing",mf_asset_view_license_NORMAL:"View license",mf_asset_view_license_UNSPECIFIED:"View terms",mf_asset_signin:"Sign in",mf_register:"Register",mf_asset_signout:"&nbsp;/&nbsp;&nbsp;Sign out",mf_signin_link:"https://developer.ibm.com/sso/login?lang=en_US&d=",mf_signout_link:"https://developer.ibm.com/sso/logout?lang=en_US&d=",mf_overlay_terms:"terms of use",mf_overlay_terms_link:"https://www.ibm.com/developerworks/community/terms/",mf_overlay_required:"All fields are required.",mf_asset_submit_purchase_request:"Sign in",mf_overlay_forgot_id:"Forgot IBM id?",mf_overlay_forgot_pswd:"Forgot password?",mf_overlay_register:"Create IBM id",mf_overlay_register_link:"https://developer.ibm.com/sso/register?lang=en_US&d=",mf_overlay_byclicking:"By clicking <strong>Sign in</strong>, you agree to the ",mf_date_released:"Released: {0}",mf_date_updated:"Updated: {0}",mf_asset_Updated:"Updated: ",mf_asset_compatibiilty_version_heading:"Version: ",mf_asset_compatibility_version_min:"Requires {0} or later",mf_asset_compatibility_version_same:"Requires {0}",mf_asset_compatibility_version_both:"Requires {0} to {1}",mf_asset_compatibiilty_edition_heading:"Edition: ",mf_asset_compatibiilty_java_version_heading:"Java version: "};var mobilefirst=mobilefirst||{};var initializeDefault=mobilefirst.Product.prototype.initialize;mobilefirst.Product.prototype=_.extend(mobilefirst.Product.prototype,{initialize:function(){var a=new Date(this.attributes.createdOn);this.attributes.formattedCreatedOn=a.getDate()+" "+mobilefirst.constants.month[a.getMonth()]+" "+a.getFullYear();a=new Date(this.attributes.lastUpdatedOn);this.attributes.formattedLastUpdatedOn=a.getDate()+" "+mobilefirst.constants.month[a.getMonth()]+" "+a.getFullYear();if(this.attributes.published){a=new Date(this.attributes.published.on);this.attributes.formattedPublishedOn=a.getDate()+" "+mobilefirst.constants.month[a.getMonth()]+" "+a.getFullYear()}else{this.attributes.formattedPublishedOn=this.attributes.formattedCreatedOn}this.attributes.resources=[];_.bindAll(this,"addResource","updateResource","removeResource")},isFeaturedAsset:function(){return marketplace.extension.isFeaturedAsset(this.attributes)},isNewAsset:function(){var b=new Date(this.attributes.published.on);var c=new Date(this.attributes.lastUpdatedOn);b.setMilliseconds(0);c.setMilliseconds(0);b.setSeconds(0);c.setSeconds(0);var a=new Date();if(b.getTime()==c.getTime()){a.setDate(a.getDate()-7);if(b.getTime()>a.getTime()){return true}}return false},isUpdatedAsset:function(){var a=new Date(this.attributes.lastUpdatedOn);a.setDate(a.getDate()+7);var b=new Date();if(a.getTime()>b.getTime()){return true}return false},requireAuthentication:function(){globalAuth=this;var a=mobilefirst.constants.downloads.AUTHENTICATION.DEFAULT;_.filter(this.attributes.attachments,function(b){if(b.type==mobilefirst.constants.attachmenttype.CONTENT){if(b[mobilefirst.constants.downloads.AUTHENTICATION.TAG]!=null){if(b[mobilefirst.constants.downloads.AUTHENTICATION.TAG]==mobilefirst.constants.downloads.AUTHENTICATION.REQUIRED){a=true}else{if(b[mobilefirst.constants.downloads.AUTHENTICATION.TAG]==mobilefirst.constants.downloads.AUTHENTICATION.NONE){a=false}}}}});return a}});mobilefirst.SearchResults.prototype=_.extend(mobilefirst.SearchResults.prototype,{setSortOrder:function(a){if(a==mobilefirst.constants.sort.asc){this.sortOrder=mobilefirst.constants.sort.asc}else{this.sortOrder=mobilefirst.constants.sort.desc}},getSortOrder:function(){return this.sortOrder},setSortMethod:function(a){if(!a){if(mobilefirst.explorePageView.sortMenuFeaturue){sortBy==mobilefirst.constants.query.sortByKeyFeatured}else{a=mobilefirst.constants.explorelink.date}}this.sortBy=a},getSortMethod:function(){return this.sortBy},searchOffset:"",setSearchOffset:function(a){mobilefirst.utils.log("setSearchOffset:"+a);this.searchOffset=a},getSearchOffset:function(){return this.searchOffset},searchLimit:"",setSearchLimit:function(a){this.searchLimit=a},getSearchLimit:function(){return this.searchLimit},getQueryString:function(){return this.queryString},assetPermanentURL:"",setAssetPermanentURL:function(a){this.assetPermanentURL=a},getAssetPermanentURL:function(){return this.assetPermanentURL},featureWeight:"",setFeatureWeight:function(a){this.featureWeight=a},getFeatureWeight:function(){return this.featureWeight},url:function(){var b=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix;var a=new Array();if(this.queryString){a.push("q="+encodeURIComponent(this.queryString))}if(this.selectedAssetType){a.push(marketplace.extension.typeField+"="+this.selectedAssetType.toString())}if(this.getFilterQuery()!=""){a.push(this.getFilterQuery())}if(this.searchOffset!==""){a.push("offset="+this.searchOffset)}if(this.searchLimit!==""){a.push("limit="+this.searchLimit)}if(this.sortBy===""||this.sortBy==mobilefirst.constants.query.sortByKeyRelevance){}else{a.push("sortBy="+this.sortBy);a.push("sortOrder="+this.sortOrder)}a.push("state=published");if(marketplace.extension.visibilityField){a.push((marketplace.extension.visibilityField||"wlpInformation.isVisibleinWebUI")+"="+marketplace.extension.visibilityFieldValue)}if(this.getAssetPermanentURL()!=""){a.push((marketplace.extension.assetPermanentURLField||"wlpInInformation.vanityRelativeURL")+"="+encodeURIComponent(this.getAssetPermanentURL()))}if(this.getFeatureWeight()!=""){a.push((marketplace.extension.featureWeightField||"wlpInformation.featuredWeight")+"="+this.getFeatureWeight())}mobilefirst.utils.log("FETCH URL:"+b+"?"+a.join("&"));return b+"?"+a.join("&")},filter_list:{},resetFilters:function(){this.filter_list={}},addFilter:function(d,e){var b=e.split(mobilefirst.constants.query.valueDelimiter);var a=new Array();for(var c=0;c<b.length;c++){var g=b[c];mobilefirst.utils.log("FILTER NAME [BEFORE]:"+g);if(d.indexOf("assetType")>-1){var f=marketplace.AssetType.getAssetTypeById(g);mobilefirst.utils.log(f);if(f){g=f.getName()}}else{if(d.indexOf("edition")>-1){var f=marketplace.EditionType.getEditionTypeById(g);if(f){g=f.getName()}}else{if(d.indexOf("assetCategory")>-1){}}}mobilefirst.utils.log("FILTER NAME [AFTER]:"+g);b[c]=g}e=b.join(mobilefirst.constants.query.valueDelimiter);if(d.indexOf("assetType")>-1){d=marketplace.extension.typeField}else{if(d.indexOf("edition")>-1){d=marketplace.extension.editionField}else{if(d.indexOf("assetCategory")>-1){d=marketplace.extension.assetCategoryField}}}this.filter_list[d]=e},getFilterQuery:function(){var a=new Array();for(key in this.filter_list){if(this.filter_list[key]&&this.filter_list[key]!=""){a.push(key+"="+this.filter_list[key])}}return a.join("&")}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.HeaderView.prototype=_.extend(mobilefirst.HeaderView.prototype,{events:{"submit #ibm-cancel":"closeDownloadContainer","click #signin_link":"showSignin","click #register_link":"showRegister","click #mf_signin_btn":"submitLogin","click #mf_cancel_btn":"toggleSigninOverlay","click #mf_close_btn":"toggleSigninOverlay","click #mf_close_btn_text":"toggleSigninOverlay","click #mf_displayname_btn":"submitDisplayName","focus #mf_signin_username":"removeUsernamePlaceholderText","focus #mf_signin_password":"removePasswordPlaceholderText","focus #mf_displayname":"removeDisplayNamePlaceholderText","blur #mf_signin_username":"addUsernamePlaceholderText","blur #mf_signin_password":"addPasswordPlaceholderText","blur #mf_displayname":"addDisplayNamePlaceholderText","mouseover #mf_close_btn":"addCloseHover","mouseout #mf_close_btn":"removeCloseHover","click #dw-mast-signout-link":"signout","click #changepassword":"comingsoon","click #myassets":"gotoMyAsset","keypress #mf_signin_username, #mf_signin_password, #mf_displayname":"loginOnEnter","keyup #mf_signin_username, #mf_signin_password, #mf_displayname":"loginExitCheck","keypress #pnext-search-input":"doMasterSearchKeyCheck","onclick #pnext-search-icon":"doMasterSearch"},showSignin:function(a){window.location=NLS.bind("mf_signin_link")+encodeURIComponent(location.href)},showRegister:function(a){window.location=NLS.bind("mf_overlay_register_link")+encodeURIComponent(location.href)},loginOnEnter:function(b){var a=b.keyCode?b.keyCode:(b.charCode?b.charCode:b.which);if(a!=13){return}(b.target.id=="mf_displayname")?this.submitDisplayName(b):this.submitLogin(b)},loginExitCheck:function(b){var a=b.keyCode?b.keyCode:(b.charCode?b.charCode:b.which);if(a==27){this.toggleSigninOverlay()}},doMasterSearchKeyCheck:function(b){var a=b.keyCode?b.keyCode:(b.charCode?b.charCode:b.which);if(a!=13){return}this.doMasterSearch()},doMasterSearch:function(){var b=$("#pnext-search-input");var a=$("#pnext-search-input-hidden");a.val(b.val()+" more:nextwasdev");$("#searchbox_006696266273115712924:ft7vdfhvshq").submit()},renderSignInUI:function(a){var b=mobilefirst.utils.loginUtils.getCookie("name");mobilefirst.utils.log("renderSignInUI User:"+b);if(!mobilefirst.utils.loginUtils.isEmpty(mobilefirst.utils.loginUtils.getCookie("name"))&&!mobilefirst.utils.loginUtils.isEmpty(mobilefirst.utils.loginUtils.getCookie("user"))){$(".mf_loggedoff_grp").hide();$(".mf_loggedin_grp").show();$("#userbtn").html(b);$("#headerView").removeClass("headerTransparentView");$("#headerView").addClass("headerView")}else{$(".mf_loggedoff_grp").show();$(".mf_loggedin_grp").hide();$("#headerView").addClass("headerTransparentView");$("#headerView").removeClass("headerView");$("#headerView").removeClass("headerViewDefault")}if(a){if($("#signin").is(":visible")){$("#signin").click()}}},render:function(a){this.$el.html(this.template());var c=mobilefirst.utils.loginUtils.getCookie("dWSSO");if(!!c){var b=this;$.ajax({url:"/cas/wi_profile.php",method:"POST",data:{encrypted_content:c},cache:false,success:function(d){if(d.success){var e=d.data;mobilefirst.utils.loginUtils.setCookie("user",e.userName,7);mobilefirst.utils.loginUtils.setCookie("name",e.aliasName,7);$("#displayname",b.$el).html(e.aliasName);$("#dw-mast-signout-link").on("click",function(){mobilefirst.headerView.signout()});mobilefirst.utils.loginUtils.setCurrentUser();mobilefirst.utils.loginMassive(b,function(){Backbone.trigger("signin")})}b.renderSignInUI(a)},error:function(d){b.eraseCookies();b.renderSignInUI(a)}})}else{this.eraseCookies();this.renderSignInUI(a)}},showUserMenu:function(){var c=this.position(document.getElementById("mf_drop_down"));var b=$("#mf_drop_down",this.$el).position();var a=b.left+(c.w/2);var e=c.y+c.h+10;var f=a;var d=e+(32-10);this.position(document.getElementById("triangle"),{x:a-25,y:e-50});document.getElementById("triangle").style.display="block";document.getElementById("userDiv").style.display="block"},toggleSigninOverlay:function(){if($("#dialog_overlaySignin",this.$el).css("display")!="none"){this.closeSigninOverlay();if(this.displayname){this.displayname=""}}else{this.showSigninOverlay()}},showSigninOverlay:function(){var a=new mobilefirst.SigninOverlay({parent:this});$("#mf_signin_box",this.$el).html(a.render());$("#mf_signin_box").css("top",(($(window).height()-700)/2)+$(window).scrollTop()+"px");$("#mf_signin_box").show();$("#signin_overlay").show()},closeSigninOverlay:function(){$("#mf_signin_box").hide();$("#signin_overlay").hide()},submitDisplayName:function(a){this.displayname=$("#mf_displayname").val().trim();if(!this.displayname){a.preventDefault();$("#ibm-overlay-register-serror2").html("Please enter a display name.").addClass("ibm-error")}else{this.submitLogin(a,this.username,this.password)}},submitLogin:function(d,g,c){d.preventDefault();this.username=g||$("#mf_signin_username").val();this.password=c||$("#mf_signin_password").val();if(!this.username.trim()||!this.password.trim()){$("#ibm-overlay-register-serror").addClass("ibm-error");$("#ibm-overlay-register-serror").html(NLS.bind("mf_overlay_required"))}else{var e={username:this.username,password:this.password};if(!!this.displayname){e.displayname=this.displayname}var b="/cas/authenticate_json.php";var f=this.options.hash;var a=this;$.ajax({type:"POST",url:b,cache:false,data:e,dataType:"json",success:function(h){if(h.success){mobilefirst.utils.loginUtils.setCookie("user",h.data.userName,7);mobilefirst.utils.loginUtils.setCookie("name",h.data.aliasName,7);mobilefirst.utils.loginUtils.setCookie("t_name",h.data.aliasName,7);mobilefirst.utils.loginUtils.setCurrentUser();if(!!a.displayname){a.displayname=""}if(f!==undefined){a.options.hash=undefined;mobilefirst.router.navigate(decodeURIComponent(f),true)}a.render()}else{if(h.error_code){if(h.error_code==99||h.error_code==100){$("#ibm-overlay-register-serror").html(h.error_msg).addClass("ibm-error")}else{if(h.error_code==101){var j=new mobilefirst.DisplayNameOverlay({parent:a});$("#mf_signin_box",a.$el).html(j.render())}else{if(h.error_code==102){$("#ibm-overlay-register-serror2").html(h.error_msg).addClass("ibm-error");if(a.displayname){a.displayname=""}}}}}}},error:function(j,h){$("#ibm-overlay-register-serror").addClass("ibm-error");$("#ibm-overlay-register-serror").html(NLS.bind("mf_signin_error"))}})}},removeUsernamePlaceholderText:function(){$("#mf_signin_username").attr("placeholder","")},removePasswordPlaceholderText:function(){$("#mf_signin_password").attr("placeholder","")},removeDisplayNamePlaceholderText:function(){$("#mf_displayname").attr("placeholder","")},addUsernamePlaceholderText:function(){$("#mf_signin_username").attr("placeholder","IBM id (for example, you@example.com)")},addPasswordPlaceholderText:function(){$("#mf_signin_password").attr("placeholder","Password")},addDisplayNamePlaceholderText:function(){$("#mf_displayname").attr("placeholder","Display name")},addCloseHover:function(){$("#mf_close_btn").addClass("dijitDialogCloseIconHover")},removeCloseHover:function(){$("#mf_close_btn").removeClass("dijitDialogCloseIconHover")},signout:function(){this.eraseCookies();$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+"signout",beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"GET"});this.eraseCookies();Backbone.trigger("signout");this.render();$.get(NLS.bind("mf_signout_link")+encodeURIComponent(location.href))},eraseCookies:function(){mobilefirst.utils.loginUtils.eraseCookie("user");mobilefirst.utils.loginUtils.eraseCookie("name");mobilefirst.utils.loginUtils.eraseCookie("t_name");mobilefirst.utils.loginUtils.eraseCookie("t_user");mobilefirst.utils.loginUtils.eraseCookie("dWSSO");mobilefirst.utils.loginUtils.eraseCookie("user_ma_id");mobilefirst.currentUser=null;var a=$.removeCookie("dWSSO",{domain:".ibm.com",path:"/"});if(!a){$.removeCookie("dWSSO",{domain:".ibmdw.net",path:"/"})}}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.LeadSpaceView=mobilefirst.TemplateView.extend({templatePath:"./sites/common/templates/",templateName:"LeadSpaceTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){var exploreEventsFunctionObj=mobilefirst.ExplorePageView.prototype.events;var initializeFunctionObj=mobilefirst.ExplorePageView.prototype.initialize;mobilefirst.ExplorePageView.prototype=_.extend(mobilefirst.ExplorePageView.prototype,{events:function(){var events=exploreEventsFunctionObj.apply(this,arguments);events.addHandler(new marketplace.EventHandler("click","#tileview",this.showTileView));events.addHandler(new marketplace.EventHandler("click","#listview",this.showListView));events.addHandler(new marketplace.EventHandler("click","#mf_filtertab",this.toggleFilterVisibility));events.addHandler(new marketplace.EventHandler("click","#mf_showMore",this.showMoreResults));events.addHandler(new marketplace.EventHandler("mouseenter",".mf_view",this.searchResultsViewMouseEnter));events.addHandler(new marketplace.EventHandler("mouseleave",".mf_view",this.searchResultsViewMouseLeave));events.addHandler(new marketplace.EventHandler("click","#sortByFeatured",this.sortByFeatured));events.addHandler(new marketplace.EventHandler("click","#sortByDate",this.sortByDate));events.addHandler(new marketplace.EventHandler("click","#sortByName",this.sortByName));events.addHandler(new marketplace.EventHandler("click","#sortByRatings",this.sortByRatings));events.addHandler(new marketplace.EventHandler("click","#sortByRelevance",this.sortByRelevance));events.addHandler(new marketplace.EventHandler("click","#searchFilter_celar_action",this.filterReset));return events},initialize:function(){initializeFunctionObj.apply(this,arguments);this.offset=0;this.prevRequestUrl="";this.currentOffset="";_.bindAll(this,"moveFilterPane");$(window).scroll(this.moveFilterPane);$("html").on("click.hideUserMenu",function(){$("#dw-mast-auth-menu").addClass("dw-mf-hide")});$("#dw-mast-auth-menu").on("click.userMenu",function(e){e.stopPropagation()});$("#displayname").on("click.toggle",function(e){e.stopPropagation();e.preventDefault();$("#dw-mast-auth-menu").toggleClass("dw-mf-hide")})},showMoreResults:function(){console.log("*** showing more ***");this.model.setSearchOffset(this.model.getSearchOffset()+mobilefirst.constants.searchResultPageLimit);console.log("*** calling render search results helper***");this.renderSearchResultsHelper()},toggleFilterVisibility:function(){var leftnav=$(".mf_searchResultsPageLeft");var filterWidth=220;if(parseInt(leftnav.css("margin-left"))==-filterWidth){leftnav.animate({"margin-left":"0px"})}else{leftnav.animate({"margin-left":-filterWidth+"px"})}this.flipFilterArrow()},pageReset:function(){var topPadding=377;var $el=$(window);if($el.scrollTop()>topPadding){$("html,body").animate({scrollTop:topPadding})}},filterReset:function(){mobilefirst.router.searchMasterUpdate("assetTypeFilters","");mobilefirst.router.searchMasterUpdate("editionFilters","");mobilefirst.router.searchMasterNavigate()},showFilterReset:function(){$("#searchFilter_celar").show()},hideFilterReset:function(){$("#searchFilter_celar").hide()},flipFilterArrow:function(){if($(".mf_search_open").length){$(".mf_search_open").addClass("mf_search_close");$(".mf_search_open").removeClass("mf_search_open")}else{$(".mf_search_close").addClass("mf_search_open");$(".mf_search_close").removeClass("mf_search_close")}},showTileView:function(event){mobilefirst.router.searchMasterNavigate(mobilefirst.constants.query.viewModeKey,mobilefirst.constants.query.viewModeTitle)},changeToTileView:function(event){$("#listviewselection",this.$el).removeClass();$("#tileviewselection",this.$el).addClass("tileviewSelected");$(".mf_searchResultsTilesView",this.$el).show();$(".mf_searchResultsListView",this.$el).hide()},showListView:function(event){mobilefirst.router.searchMasterNavigate(mobilefirst.constants.query.viewModeKey,mobilefirst.constants.query.viewModeList)},changeToListView:function(event){$("#tileviewselection",this.$el).removeClass();$("#listviewselection",this.$el).addClass("listviewSelected");$(".mf_searchResultsTilesView",this.$el).hide();$(".mf_searchResultsListView",this.$el).show()},searchResultsViewMouseEnter:function(event){$(event.target).addClass("mf_viewHover")},searchResultsViewMouseLeave:function(event){$(event.target).removeClass("mf_viewHover")},moveFilterPane:function(event){var topPadding=40;var bottomPadding=40;var direction="DOWN";if(!this.filterPaneOffset){this.filterPaneOffset=$("#dw_filterPane").offset()}var paneHeight=$("#dw_filterPane").height();var offsetTop=50;if(this.filterPaneOffset){offsetTop=this.filterPaneOffset.top}if(this.windowScrollTop_old>$(window).scrollTop()){direction="UP"}this.windowScrollTop_old=$(window).scrollTop();var margin_top=0;if(direction=="DOWN"){if($("#dw_filterPane").height()>$(window).height()){var b1=parseFloat($("#dw_filterPane").css("margin-top"))+parseFloat(offsetTop);var b2=b1+parseFloat($("#dw_filterPane").height());var w1=parseFloat($(window).scrollTop());var w2=w1+parseFloat($(window).height());if(w2>b2-bottomPadding){margin_top=$(window).scrollTop()+$(window).height()-offsetTop-$("#dw_filterPane").height()-bottomPadding}}else{if($(window).scrollTop()>offsetTop){try{margin_top=$(window).scrollTop()-this.filterPaneOffset.top+topPadding}catch(e){}}}}else{if($(window).scrollTop()>offsetTop){try{margin_top=$(window).scrollTop()-this.filterPaneOffset.top+topPadding}catch(e){}}}$("#dw_filterPane").stop().animate({marginTop:margin_top})},storeMousePosition:function(event){mobilefirst.explorePageView.mousePositionX=event.pageX;mobilefirst.explorePageView.mousePositionY=event.pageY},renderExploreFilters:function(){for(var i=0;i<marketplace.extension.explore.filters.length;i++){}},renderSectionFilters:function(){marketplace.extension.explore.assetTypeFilters.sort(mobilefirst.utils.sortFunction_id);if($("#mf_asset_type_filter",this.$el).length>0){if(marketplace.extension.explore.assetTypeFilters&&marketplace.extension.explore.assetTypeFilters.length>0){$("#mf_asset_type_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.assetTypeFilters.length;i++){$("#assetTypeFiltersContainer",this.$el).append(marketplace.extension.explore.assetTypeFilters[i].getNode());var assetTypeId=marketplace.extension.explore.assetTypeFilters[i].getId();var $node=$("#"+assetTypeId,this.$el);$(".mf_filterName",$node).html(marketplace.AssetType.getAssetTypeById(assetTypeId).getName());mobilefirst.utils.log("Asset ID: "+assetTypeId);$node.attr("title",NLS.bind("tooltip_"+assetTypeId));$node.tooltip({track:true,position:{my:"left-30 top+30",at:"left bottom",using:function(position,feedback){$(this).css(position);$("<div>").addClass("arrow").addClass(feedback.vertical).addClass(feedback.horizontal).appendTo(this)}}})}}}if($("#mf_featured_filter",this.$el).length>0){if(marketplace.extension.explore.featuredFilters&&marketplace.extension.explore.featuredFilters.length>0){$("#mf_featured_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.featuredFilters.length;i++){$("#featuredFiltersContainer",this.$el).append(marketplace.extension.explore.featuredFilters[i].getNode());var featuredTypeId=marketplace.extension.explore.featuredFilters[i].getId();var $node=$("#"+featuredTypeId,this.$el);$(".mf_filterName",$node).html(marketplace.FeaturedType.getFeaturedTypeById(featuredTypeId).getName())}}}if($("#mf_asset_category_filter",this.$el).length>0){if(marketplace.extension.explore.assetCategoryFilters&&marketplace.extension.explore.assetCategoryFilters.length>0){$("#mf_asset_category_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.assetCategoryFilters.length;i++){$("#assetCategoryFiltersContainer",this.$el).append(marketplace.extension.explore.assetCategoryFilters[i].getNode());var assetCategoryTypeId=marketplace.extension.explore.assetCategoryFilters[i].getId();var $node=$("#"+assetCategoryTypeId,this.$el);$node.attr("queryValue",marketplace.AssetCategoryType.getAssetCategoryTypeById(assetCategoryTypeId).getName());$(".mf_filterName",$node).html(marketplace.AssetCategoryType.getAssetCategoryTypeById(assetCategoryTypeId).getName())}}}if($("#mf_industries_filter",this.$el).length>0){if(marketplace.extension.explore.categoryFilters&&marketplace.extension.explore.categoryFilters.length>0){$("#mf_industries_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.categoryFilters.length;i++){$("#industryFiltersContainer",this.$el).append(marketplace.extension.explore.categoryFilters[i].getNode());var categoryId=marketplace.extension.explore.categoryFilters[i].getId();var $node=$("#"+categoryId,this.$el);$(".mf_filterName",$node).html(marketplace.AssetCategory.getAssetCategoryById(categoryId).getName())}}}if($("#mf_license_filter",this.$el).length>0){if(marketplace.extension.explore.licenseFilters&&marketplace.extension.explore.licenseFilters.length>0){$("#mf_license_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.licenseFilters.length;i++){$("#licenseFiltersContainer",this.$el).append(marketplace.extension.explore.licenseFilters[i].getNode());var licenseTypeId=marketplace.extension.explore.licenseFilters[i].getId();var $node=$("#"+licenseTypeId,this.$el);$(".mf_filterName",$node).html(marketplace.LicenseType.getLicenseTypeById(licenseTypeId).getName())}}}if($("#mf_version_filter",this.$el).length>0){if(marketplace.extension.explore.versionFilters&&marketplace.extension.explore.versionFilters.length>0){$("#mf_version_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.versionFilters.length;i++){$("#versionFiltersContainer",this.$el).append(marketplace.extension.explore.versionFilters[i].getNode());var versionTypeId=marketplace.extension.explore.versionFilters[i].getId();var $node=$("#"+versionTypeId,this.$el);$(".mf_filterName",$node).html(marketplace.VersionType.getVersionTypeById(versionTypeId.getDottedId()).getName())}}}var done_list=new Array();marketplace.extension.explore.editionFilters.sort(mobilefirst.utils.sortFunction_id);if($("#mf_edition_filter",this.$el).length>0){if(marketplace.extension.explore.editionFilters&&marketplace.extension.explore.editionFilters.length>0){$("#mf_edition_filter",this.$el).show();for(var i=0;i<marketplace.extension.explore.editionFilters.length;i++){var editionTypeId=marketplace.extension.explore.editionFilters[i].getId();if(done_list[editionTypeId]){continue}done_list[editionTypeId]=true;$("#editionFiltersContainer",this.$el).append(marketplace.extension.explore.editionFilters[i].getNode());var $node=$("#"+editionTypeId,this.$el);$(".mf_filterName",$node).html(marketplace.EditionType.getEditionTypeById(editionTypeId).getName())}}}},clearSectionFilters:function(){$("#featuredFiltersContainer").html("");$("#industryFiltersContainer").html("");$("#licenseFiltersContainer").html("");$("#versionFiltersContainer").html("");$("#editionFiltersContainer").html("")},applyFilters:function(){var $selectedFeaturedFilters=$(".mf_selectedFilter",$("#featuredFiltersContainer"));var $selectedIndustryFilters=$(".mf_selectedFilter",$("#industryFiltersContainer"));var $selectedLicenseFilters=$(".mf_selectedFilter",$("#licenseFiltersContainer"));var $selectedVersionFilters=$(".mf_selectedFilter",$("#versionFiltersContainer"));var $selectedEditionFilters=$(".mf_selectedFilter",$("#editionFiltersContainer"));var $selectedAssetCategoryFilters=$(".mf_selectedFilter",$("#assetCategoryFiltersContainer"));var filters=new mobilefirst.utils.filters();for(var i=0;i<$selectedFeaturedFilters.length;i++){filters.pushFeatured($($selectedFeaturedFilters[i]).attr("id"))}for(var i=0;i<$selectedIndustryFilters.length;i++){filters.pushIndustry($($selectedIndustryFilters[i]).attr("id"))}for(var i=0;i<$selectedLicenseFilters.length;i++){filters.pushLicense($($selectedLicenseFilters[i]).attr("id"))}for(var i=0;i<$selectedVersionFilters.length;i++){filters.pushVersion($($selectedVersionFilters[i]).attr("id").getDottedId())}for(var i=0;i<$selectedEditionFilters.length;i++){filters.pushEdition($($selectedEditionFilters[i]).attr("id"))}for(var i=0;i<$selectedAssetCategoryFilters.length;i++){filters.pushAssetCategory($($selectedAssetCategoryFilters[i]).attr("id"))}var filterCategories=marketplace.extension.explore.filterCategories;for(var filterCategoryIndex=0;filterCategoryIndex<filterCategories.length;filterCategoryIndex++){var $selectedFilters=$(".mf_selectedFilter",$("#mf_"+filterCategories[filterCategoryIndex].id+"_FiltersContainer"));for(var i=0;i<$selectedFilters.length;i++){var filterCategory=filterCategories[filterCategoryIndex];for(var filterIndex=0;filterIndex<filterCategory.filters.length;filterIndex++){var idValue=$($selectedFilters[i]).attr("id");if(filterCategory.filters[filterIndex].id==idValue){filters.pushFilterCategory(filterCategories[filterCategoryIndex],filterCategory.filters[filterIndex])}}}}this.model.setFilters(filters)},render:function(){this.$el.html(this.template());this.renderFilterContent((marketplace.extension.typeField||"type"),function(data,textStatus,xhr){data&&data.length&&data[0].filterValue&&data[0].filterValue.length&&$.each(data[0].filterValue,function(index,id){if(id&&!marketplace.AssetType.getAssetTypeById(id)){marketplace.extension.insertAssetTypes(edition,value)}})});this.renderFilterContent((marketplace.extension.versionField||"version"),function(data,textStatus,xhr){data&&data.length&&data[0].filterValue&&data[0].filterValue.length&&$.each(data[0].filterValue,function(index,version){if(version&&!marketplace.VersionType.getVersionTypeById(version)){marketplace.extension.insertVersionTypes(version,version)}})});this.renderFilterContent((marketplace.extension.editionField||"edition"),function(data,textStatus,xhr){data&&data.length&&data[0].filterValue&&data[0].filterValue.length&&$.each(data[0].filterValue,function(index,edition){if(edition&&!marketplace.EditionType.getEditionTypeById(edition)){marketplace.extension.insertEditionTypes(edition,edition)}})});this.renderExploreFiltersOnce=_.once(this.renderExploreFilters);this.renderLeftPaneOnce=_.once(this.renderLeftPane);this.renderAdanvedSearchbox();return this.$el},renderAdanvedSearchbox:function(){this.advancedSearchbox=new mobilefirst.AdvancedSearchbox();$("#advancedsearchbox",this.$el).html(this.advancedSearchbox.render())},renderFilterContent:function(field,successFunc){var baseUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+"summary";baseUrl+="?fields="+field;baseUrl+="&state="+mobilefirst.constants.assetstate.published;if(!!marketplace.extension.visibilityField){baseUrl+="&"+(marketplace.extension.visibilityField||"wlpInformation.isVisibleinWebUI")+"="+marketplace.extension.visibilityFieldValue}$.ajax({url:baseUrl,type:"GET",async:true,dataType:"json",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:successFunc})},findAndPrintSearchResultsTotalCount:function(url){if(!url){return}if(url.indexOf("?")==-1){return}var baseUrl=mobilefirst.utils.url.removeURLParameter(url,"limit");baseUrl=mobilefirst.utils.url.removeURLParameter(baseUrl,"offset");var self=this;$.ajax({url:baseUrl,type:"HEAD",async:true,dataType:"text/plain",xhrFields:{withCredentials:true},beforeSend:function(request){mobilefirst.constants.apiKeyBeforeSend(request)},success:function(data,textStatus,xhr){var totalCount=xhr.getResponseHeader("count");var countString=totalCount==1?NLS.bind("mf_search_result_count_zero_one",totalCount):NLS.bind("mf_search_result_count_many",totalCount);if(!!self.model.getQueryString()){$("#mf_searchResultsTotalCount",self.$el).html(countString)}else{$("#mf_searchResultsTotalCount",self.$el).html("")}if(totalCount>parseInt(self.model.getSearchOffset())+parseInt(self.model.getSearchLimit())){$("#mf_showMore",self.$el).show()}else{$("#mf_showMore",self.$el).hide()}self.updateAssetCounts()}})},updateAssetCounts:function(){if(typeof(marketplace.extension.explore.assetTypeFilters)!="undefined"){for(var i=0;i<marketplace.extension.explore.assetTypeFilters.length;i++){this.updateCount(marketplace.AssetType.getAssetTypeById(marketplace.extension.explore.assetTypeFilters[i].getId()))}}if(typeof(marketplace.extension.explore.filters)!="undefined"){for(var i=0;i<marketplace.extension.explore.filters.length;i++){this.updateCount(marketplace.AssetType.getAssetTypeById(marketplace.extension.explore.filters[i].getId()))}}if(typeof(marketplace.extension.explore.assetCategoryFilters)!="undefined"){for(var i=0;i<marketplace.extension.explore.assetCategoryFilters.length;i++){this.updateCount(marketplace.AssetCategoryType.getAssetCategoryTypeById(marketplace.extension.explore.assetCategoryFilters[i].getId()))}}if(typeof(marketplace.extension.explore.featuredFilters)!="undefined"){for(var i=0;i<marketplace.extension.explore.featuredFilters.length;i++){this.updateCount(marketplace.FeaturedType.getFeaturedTypeById(marketplace.extension.explore.featuredFilters[i].getId()))}}if(typeof(marketplace.extension.explore.licenseFilters)!="undefined"){for(var i=0;i<marketplace.extension.explore.licenseFilters.length;i++){this.updateCount(marketplace.LicenseType.getLicenseTypeById(marketplace.extension.explore.licenseFilters[i].getId()))}}if(typeof(marketplace.extension.explore.versionFilters)!="undefined"){for(var i=0;i<marketplace.extension.explore.versionFilters.length;i++){this.updateCount(marketplace.VersionType.getVersionTypeById(marketplace.extension.explore.versionFilters[i].getId().getDottedId()))}}if(typeof(marketplace.extension.explore.editionFilters)!="undefined"){for(var i=0;i<marketplace.extension.explore.editionFilters.length;i++){this.updateCount(marketplace.EditionType.getEditionTypeById(marketplace.extension.explore.editionFilters[i].getId()))}}var filterCategories=marketplace.extension.explore.filterCategories;for(var filterCategoryIndex=0;filterCategoryIndex<filterCategories.length;filterCategoryIndex++){var filterCategory=filterCategories[filterCategoryIndex];for(var filterIndex=0;filterIndex<filterCategory.filters.length;filterIndex++){this.updateCount(filterCategory.filters[filterIndex],filterCategory)}}},updateCount:function(filterType,filterCategory){var baseUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix;baseUrl+="?state="+mobilefirst.constants.assetstate.published;if(!!marketplace.extension.visibilityField){baseUrl+="&"+(marketplace.extension.visibilityField||"wlpInformation.isVisibleinWebUI")+"="+marketplace.extension.visibilityFieldValue}var filterTypeId=null;if(filterType==null){filterTypeId="all"}else{filterTypeId=filterType.getId();if(filterType instanceof marketplace.AssetType){baseUrl+="&"+marketplace.extension.typeField+"="+filterType.getName()}else{if(this.model.selectedAssetTypeId!=="all"&&this.model.selectedAssetTypeId!==""){try{baseUrl+="&"+marketplace.extension.typeField+"="+marketplace.AssetType.getAssetTypeById(this.model.selectedAssetTypeId).getName()}catch(e){}}var filters=new mobilefirst.utils.filters();var query="";if(filterType instanceof marketplace.LicenseType){query=filters.reset().pushLicense(filterTypeId).getFilterQuery()}else{if(filterType instanceof marketplace.VersionType){query=filters.reset().pushVersion(filterTypeId.getDottedId()).getFilterQuery()}else{if(filterType instanceof marketplace.FeaturedType){}else{if(filterType instanceof marketplace.Filter){query=filters.reset().pushFilterCategory(filterCategory,filterType).getFilterQuery()}else{if(filterType instanceof marketplace.EditionType){query=filters.reset().pushEdition(filterType.getName()).getFilterQuery()}else{if(filterType instanceof marketplace.AssetCategoryType){query=filters.reset().pushAssetCategory(filterTypeId).getFilterQuery()}}}}}}if(query.length>0){baseUrl+="&"+query.substring(0,query.length-1)}}}var searchArr="";try{searchArr=$(location).attr("href").split("#search/")}catch(e){}if(this.model.queryString){baseUrl+="&q="+this.model.queryString}var selector=(filterType instanceof marketplace.VersionType)?"#"+filterTypeId.getUnderscoredId()+"Count":"#"+filterTypeId+"Count";var selectorDeselect=(filterType instanceof marketplace.VersionType)?"#"+filterTypeId.getUnderscoredId()+"_Deselect":"#"+filterTypeId+"_Deselect";$(selectorDeselect).html("&nbsp;");$.ajax({url:baseUrl,type:"HEAD",dataType:"text/plain",xhrFields:{withCredentials:true},beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(data,textStatus,xhr){var count=xhr.getResponseHeader("count");$(selector).html("("+count+")")},error:function(xhr,textStatus,errorThrown){$(selector).html("(0)")}})},resetSortOrder:function(){this.sortOrder=mobilefirst.constants.sort.desc},toggleSortOrder:function(){if(this.sortOrder===mobilefirst.constants.sort.desc){this.sortOrder=mobilefirst.constants.sort.asc}else{this.sortOrder=mobilefirst.constants.sort.desc}},renderSortOrder:function(){var order="desc";if(this.sortOrder=="desc"){order="asc"}$("#srtByContainerBox").text(NLS.bind("mf_search_sort_order_"+order));$("#srtByContainerBox").addClass("sort_asc")},sort:function(event){$("#sortByOptions").hide();$("#sortByIcon").removeClass("dropdownIcon").addClass("foldupIcon");var sortMethod=$(event.target).text().trim();var currentSortMethod=$("#sortBySelectedText").html();if(sortMethod!==currentSortMethod){$("#sortBySelectedText").html($(event.target).html());if(sortMethod===NLS.bind("mf_search_sort_by_downloads")){alert("coming soon")}else{if(sortMethod==NLS.bind("mf_search_sort_by_date")){this.model.setSortMethod(mobilefirst.constants.explorelink.date)}else{if(sortMethod==NLS.bind("mf_search_sort_by_name")){this.model.setSortMethod(mobilefirst.constants.explorelink.name)}}}}},renderSortMenu:function(){var current_sortBy=mobilefirst.searchResults.getSortMethod();var current_sortOrder=mobilefirst.searchResults.getSortOrder();var eID="Featured";if(current_sortBy==mobilefirst.constants.query.sortByKeyDate){eID="Date"}else{if(current_sortBy==mobilefirst.constants.query.sortByKeyName){eID="Name"}else{if(current_sortBy==mobilefirst.constants.query.sortByKeyRating){eID="Ratings"}else{if(current_sortBy==mobilefirst.constants.query.sortByKeyRelevance){eID="Relevance"}}}}var base_name="#sortBy"+eID;var currentClass=$(base_name+"Icon").attr("class");$("#sortByFeatured, #sortByDate, #sortByName, #sortByRatings, #sortByRelevance").removeClass("sortBySelectedText");$("#sortByFeaturedIcon, #sortByDateIcon, #sortByNameIcon, #sortByRatingsIcon").removeClass("dropdownIcon").removeClass("foldupIcon");$(base_name).addClass("sortBySelectedText");if(current_sortOrder==mobilefirst.constants.query.sortOrderKeyAsc){$(base_name+"Icon").addClass("dropdownIcon")}else{$(base_name+"Icon").addClass("foldupIcon")}},renderSortMenuByFeature:function(visible){this.sortMenuFeaturue=visible;if(visible){$("#sortByFeatured").show()}else{$("#sortByFeatured").hide()}},renderSortMenuByRelevance:function(visible){this.sortMenuRelevance=visible;if(visible){$("#sortByRelevance").show()}else{$("#sortByRelevance").hide()}},sortByGeneric:function(field_name){var current_sortBy=mobilefirst.searchResults.getSortMethod();var current_sortOrder=mobilefirst.searchResults.getSortOrder();var sortOrder=mobilefirst.constants.query.sortOrderKeyDesc;if(field_name==mobilefirst.constants.query.sortByKeyFeatured){if(field_name==current_sortBy){return}sortOrder=mobilefirst.constants.query.sortOrderKeyDesc}else{if(field_name==mobilefirst.constants.query.sortByKeyRelevance){if(field_name==current_sortBy){return}sortOrder=""}else{if(current_sortBy==field_name){if(current_sortOrder==mobilefirst.constants.query.sortOrderKeyDesc){sortOrder=mobilefirst.constants.query.sortOrderKeyAsc}}else{if(field_name==mobilefirst.constants.query.sortByKeyName){sortOrder=mobilefirst.constants.query.sortOrderKeyAsc}}}}mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortByKey,field_name);mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortOrderKey,sortOrder);mobilefirst.router.searchMasterNavigate()},sortByFeatured:function(){this.sortByGeneric(mobilefirst.constants.query.sortByKeyFeatured)},sortByRelevance:function(){this.sortByGeneric(mobilefirst.constants.query.sortByKeyRelevance)},sortByDate:function(){this.sortByGeneric(mobilefirst.constants.query.sortByKeyDate)},sortByName:function(){this.sortByGeneric(mobilefirst.constants.query.sortByKeyName)},sortByRatings:function(){this.sortByGeneric(mobilefirst.constants.query.sortByKeyRating)},renderSearchResults:function(){this.model.setSearchOffset(0);$(".mf_searchResultsTiles",self.$el).html("");$(".mf_searchResultsList",self.$el).html("");this.renderSearchResultsHelper()},renderSearchResultsHelper:function(){var self=this;var currRequestUrl="";if(this.ajax){mobilefirst.utils.log("**ABORT**");this.ajax.abort()}this.findAndPrintSearchResultsTotalCount(this.model.url());this.showLoading();this.ajax=this.model.fetch({reset:true,beforeSend:mobilefirst.constants.apiKeyBeforeSend,complete:function(){self.hideLoading()},success:function(products){self.hideLoading();_.each(products.models,function(product,index){var assetType=eval("product.attributes."+(marketplace.extension.typeField||"type"));if(assetType&&!marketplace.AssetType.getAssetType(assetType)){marketplace.extension.insertAssetType(assetType,assetType)}var productItemView=new mobilefirst.MyAssetView({model:product,page:"search",parent:self});productItemView.delegateEvents();$(".mf_searchResultsTiles",self.$el).append(productItemView.render());var productItemListView=new mobilefirst.AssetListView({model:product,page:"search",parent:self});productItemListView.delegateEvents();$(".mf_searchResultsList",self.$el).append(productItemListView.render())});var totalAssetDisplayed=$(".assetListView").length;var text=((totalAssetDisplayed<=1)?NLS.bind("mf_search_result_count_zero_one",totalAssetDisplayed):NLS.bind("mf_search_result_count_many",1,totalAssetDisplayed));$(".mf_searchResultsCount",self.$el).html(text);self.renderExploreFiltersOnce();self.renderLeftPaneOnce();self.clickableSwitchForType();self.setExploreSearchTitle();self.setCurrentFilters();self.renderSortOrder();$(".tooltip").tooltip({position:{my:"left top+20",at:"left bottom",using:function(position,feedback){$(this).css(position);$("<div>").addClass("arrow").addClass(feedback.vertical).addClass(feedback.horizontal).appendTo(this)}}})},error:function(model,response,options){self.hideLoading();if(response.status!=0){mobilefirst.router.handleError(response,"#login",true,"Error fetching search results")}}})},clickableSwitchForType:function(){$(".mf_searchResultsFilterTextSelected").removeClass("mf_searchResultsFilterTextSelected").addClass("mf_searchResultsFilterText mf_clickable");var selectedAssetTypeId=this.model.selectedAssetTypeId||"all";var list=selectedAssetTypeId.split("|");for(var i=0;i<list.length;i++){var id=list[i];var $clickedlink=$("#"+id,this.$el);$clickedlink.removeClass("mf_searchResultsFilterText mf_clickable");$clickedlink.addClass("mf_searchResultsFilterTextSelected")}},switchExploreType:function(event){var $current=$(event.currentTarget);var id=$current.attr("id");this.searchResultsFilterMouseLeave(event);var key=mobilefirst.constants.query.assetTypeKey;if(mobilefirst.router.searchMasterGetParamIncluded(key,id)){mobilefirst.router.searchMasterNavigateCombine(mobilefirst.constants.query.assetTypeKey,id,false)}else{mobilefirst.router.searchMasterNavigateCombine(mobilefirst.constants.query.assetTypeKey,id,true)}},selectFilter:function(event){this.modifyFilter(event,true)},deselectFilter:function(event){this.modifyFilter(event,false)},modifyFilter:function(event,state){var $parent=$(event.target).parent();var $g_parent=$parent.parent();var query_value=$parent.attr("id");if($parent.attr("queryValue")){query_value=$parent.attr("queryValue")}mobilefirst.router.searchMasterNavigateCombine($g_parent.attr("id").replace("Container",""),query_value,state)},clearFilterSelection:function(){if($("#assetTypeFiltersContainer").length>0){this.renderFilterSelection("assetTypeFilters","")}if($("#editionFiltersContainer").length>0){this.renderFilterSelection("editionFilters","")}if($("#categoryFiltersContainer").length>0){this.renderFilterSelection("categoryFilters","")}},renderFilterSelection:function(key,list_str){var id=key+"Container";var list=new Array();if(list_str!=""){list=list_str.split(mobilefirst.constants.query.valueDelimiter)}var self=this;var done=false;try{$.each($(".mf_filterName",$("#"+id)),function(index,element){var found=false;for(var i=0;i<list.length;i++){if(list[i]==$(element).parent().attr("id")||list[i]==$(element).parent().attr("queryValue")){found=true;break}}if(found){self.toggleFilteSelectionClass($(element).parent(),"select")}else{self.toggleFilteSelectionClass($(element).parent(),"deselect")}done=true})}catch(e){}if(!done){setTimeout(function(){self.renderFilterSelection(key,list_str)},500)}},renderExploreSearchTitle:function(show_default_title){if(show_default_title){$("#mf_searchResultsTitle").show();$("#mf_searchResultsTitleSearch").hide()}else{$("#mf_searchResultsTitle").hide();$("#mf_searchResultsTitleSearch").show()}},setExploreSearchTitle:function(){var show_default_title=true;if(this.model.queryString&&$.trim(this.model.queryString).length>0){$("#mf_search_explore_title_keyword",this.$el).text($("#search-tags").val());var currRequestUrl=this.model.url();this.findAndPrintSearchResultsTotalCount(currRequestUrl);$("#mf_searchResultsTitleSearch").show();show_default_title=false}else{$("#mf_searchResultsTitleSearch").hide()}var list=mobilefirst.router.searchMasterGetParamList();mobilefirst.utils.log(list);var filter_list=new Array();var code=new Array();this.filterCollectionList=new Array();for(key in list){if(key.indexOf("Filters")>0){var values=list[key].split(mobilefirst.constants.query.valueDelimiter);for(var i=0;i<values.length;i++){var index=this.filterCollectionList.length;this.filterCollectionList[index]={key:key,value:values[i]};filter_list.push(values[i]);var filter_name=values[i];if(key=="assetTypeFilters"){filter_name=(marketplace.AssetType.getAssetTypeById(filter_name).getName())}else{if(key=="editionFilters"){filter_name=(marketplace.EditionType.getEditionTypeById(filter_name).getName())}}filter_name=filter_name.charAt(0).toUpperCase()+filter_name.slice(1);code.push(filter_name+' <a class="mf_search_explore_filter_remove" href="javascript:void(0)" onClick="mobilefirst.explorePageView.removeFilter('+index+')"><img src="images/search_remove.png" width="16" height="16" alt="Remove search term" role="link" tabindex="0" /></a>')}}}if(filter_list.length>0){$("#mf_search_explore_title_filter_selection").html(code.join(", "));$("#mf_searchResultsTitleFilter").show()}else{$("#mf_searchResultsTitleFilter").hide()}this.renderExploreSearchTitle(show_default_title)},removeFilter:function(index){var keypair=this.filterCollectionList[index];if(!keypair){return}mobilefirst.router.searchMasterNavigateCombine(keypair.key,keypair.value,false)},showLoading:function(){$("#paneLoading",this.$el).show();$("#mf_showMore",this.$el).hide()},hideLoading:function(){$("#paneLoading",this.$el).hide()}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AssetListView=mobilefirst.TemplateView.extend({tagName:"div",className:"assetListView",events:{"click .dw_removeAsset":"showConfirmDelete","click .dw_yes":"confirmDeleteUnpublish","click .dw_no":"hideConfirmDelete","click .dw_editAsset":"gotoAssetDetails","click .dw_assetAccessInfoFooter":"showGrantAccessView","click .pick":"pickAsset","click .dw_syndicatecb":"selectForSyndicate"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},render:function(){if(!this.model.attributes.shortDescription||this.model.attributes.shortDescription.length==0){this.model.attributes.shortDescription=this.model.attributes.description}this.model.attributes.thumbnail=this.model.getThumbnail();this.$el.attr("id","dw_list_item_"+this.model.id);this.$el.html(this.template(this.model.attributes));var assetType=marketplace.AssetType.getAssetType(eval("this.model.attributes."+(marketplace.extension.typeField||"type")));$(".asset_image",this.$el).addClass("pn_btn_sprite_"+mobilefirst.utils.getAssetPresetIcon(assetType));if(this.options.showAssetStatusInfoHeader){switch(this.model.attributes.state){case"draft":$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_incomplete"));$(".dw_assetStatus",this.$el).addClass("incompleteStatus");$(".dw_removeAsset",this.$el).show();$(".dw_editAsset",this.$el).show();break;case"published":var date=new Date(this.model.attributes.published.on);var formattedPublishedOn=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_published",formattedPublishedOn));$(".dw_assetStatus",this.$el).addClass("publishedStatus");$(".dw_removeAsset",this.$el).show();$(".dw_deleteAssetMsg",this.$el).html(NLS.bind("mf_myasset_unpublish"));$(".dw_syndicatecb",this.$el).show();break;case"awaiting_approval":$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_awaiting_approval"));$(".dw_assetStatus",this.$el).addClass("awaitingApprovalStatus");$(".dw_removeAsset",this.$el).show();$(".dw_editAsset",this.$el).show();break;default:$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_complete"));$(".dw_assetStatus",this.$el).addClass("completeStatus");$(".dw_removeAsset",this.el).show();$(".dw_editAsset",this.$el).show();break}}else{$(".assetStatusInfoHeader",this.$el).hide()}var rank=this.model.attributes.rating||0;for(var i=0;i<5;i++){$(".dw_rating",this.$el).append(new mobilefirst.RatingView({model:{enable:eval(i<rank)}}).render())}var rating_text="Reviews";if(this.model.attributes.numOfVotes==1){rating_text="Review"}$(".dw_review_text",this.$el).text(rating_text);$("hr",this.$el).hide();if(this.options.showAccessInfoFooter){var userId=mobilefirst.utils.loginUtils.getCookie("user");var purchaseorderurl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+"?"+mobilefirst.constants.assetId+"="+this.model.attributes._id+"&"+mobilefirst.constants.assetOwnerId+"="+userId;var self=this;var purchaseorders=new mobilefirst.PurchaseOrders();purchaseorders.url=purchaseorderurl;purchaseorders.fetch({success:function(purchaseOrders){var grantedOrders=0,requestedOrders=0;if(purchaseOrders.length>0){_.each(purchaseOrders.models,function(purchaseOrder){switch(purchaseOrder.attributes.state){case mobilefirst.constants.purchaseorders.GRANTED:grantedOrders+=1;break;case mobilefirst.constants.purchaseorders.CREATED:case mobilefirst.constants.purchaseorders.REVOKED:requestedOrders+=1;break;default:break}})}$(".dw_assetAccessInfoFooter",self.$el).html(new MyAssetAccessInfoFooterView({model:{users:grantedOrders,pending:requestedOrders},parent:self}).render())},error:function(model,response,options){var errMsg="Error fetching purchaseorders"}})}else{$(".dw_assetAccessInfoFooter",this.$el).hide()}if(this.model.isFeaturedAsset()){$(".feature_asset_triangle",this.$el).show()}else{if(this.model.isUpdatedAsset()){}}return this.$el},gotoAssetDetails:function(){if(this.model.attributes.state==="published"||this.model.attributes.state==="awaiting_approval"){this.viewAsset()}else{this.editAsset()}},editAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#"+marketplace.extension.context+"/"+this.model.id,true)},viewAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#"+marketplace.extension.context+"/view/"+this.model.id,true)},showGrantAccessView:function(event){var grantAccessDetailsView=new GrantAccessDetailsView({model:this.model,parent:this});$("#details").html(grantAccessDetailsView.render());$(".up-pointing-triangle").css("margin-left",event.target.offsetLeft-100);var nodes=$(".assetPolaroid");nodes.each(function(i){if(event.target.offsetTop<nodes[i].offsetTop){$("#grantAccessDetails").insertBefore($(this));return false}else{if(i==nodes.length-1){$("#grantAccessDetails").insertAfter($(this))}}});$("#grantAccessDetails").show()},pickAsset:function(event){alert("coming soon...")},showConfirmDelete:function(){$(".dw_confirmDelete",this.$el).show()},hideConfirmDelete:function(){$(".dw_confirmDelete",this.$el).hide()},confirmDeleteUnpublish:function(){if(this.model.attributes.state==="published"){this.unpublishAsset()}else{this.deleteAsset()}},unpublishAsset:function(){var myview=this;var parent=this.options.parent;$.ajax({url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.model.id+mobilefirst.constants.urlseparator+mobilefirst.constants.statetext,beforeSend:mobilefirst.constants.apiKeyBeforeSend,method:"PUT",data:'{ "action" : "unpublish"}',xhrFields:{withCredentials:true},success:function(){parent.render()},error:function(response){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}})},deleteAsset:function(){var myview=this;var parent=this.options.parent;this.model.destroy({success:function(model,response){if(typeof cm_deleteAsset!=="undefined"){cm_deleteAsset()}parent.render()},error:function(model,response){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}});$(".confirmPopupContainer",this.$el).hide()},selectForSyndicate:function(e){var container=$("#syndicatedetails");container.empty();var syndicateSupplierView=new mobilefirst.SyndicateSupplierView({model:this.model,parent:this});container.append(syndicateSupplierView.render());var leftNode=$("#assetsCollection");var leftOffset=leftNode.offset();var currentNode=$("#dw_list_item_"+this.model.id);var offset=currentNode.offset();var marginLeft=offset.left-leftOffset.left+80;$(".assetpointer").css("margin-left",marginLeft);var nodes=$(".assetPolaroid");var size=nodes.length;nodes.each(function(i,node){if(e.target.offsetTop<node.offsetTop){$("#assetPromotion").insertBefore($(this));return false}else{if(i===size-1){$("#assetPromotion").insertAfter($(this))}}});$("#assetPromotion").show()}});var MyAssetAccessInfoFooterView=mobilefirst.TemplateView.extend({templateName:"MyAssetAccessInfoFooter",tagName:"div",events:{},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},render:function(){this.$el.html(this.template(this.model));if(this.model.users===0&&this.model.pending===0){$("#pendingRequestsInfo",this.$el).hide();$("#usersInfo",this.$el).html(NLS.bind("mf_myasset_no_users"));$(".assetAccessInfoFooter",this.$el).removeClass("assetAccessFooterInfoAvailable");$(".assetAccessInfoFooter",this.$el).addClass("assetAccessFooterInfoNotAvailable")}else{if(this.model.users===0){$("#usersInfo",this.$el).hide()}else{if(this.model.pending===0){$("#pendingRequestsInfo",this.$el).hide()}}}return this.$el}});var GrantAccessDetailsView=mobilefirst.TemplateView.extend({templateName:"GrantAccessTemplate",tagName:"div",openTab:"allUsers",events:{"click #grantedUsers":"showGrantedUsersView","click #pendingRequests":"showPendingRequestsView","click #grantAccessDetailsClose":"closeView","mouseenter #grantAccessDetailsClose":"grantAccessDetailsCloseMouseEnter","mouseleave #grantAccessDetailsClose":"grantAccessDetailsCloseMouseLeave"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render","showGrantedUsersView","showPendingRequestsView")},render:function(){var userId=mobilefirst.utils.loginUtils.getCookie("user");var purchaseorderurl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+"?"+mobilefirst.constants.assetId+"="+this.model.attributes._id+"&"+mobilefirst.constants.assetOwnerId+"="+userId;var self=this;var purchaseorders=new mobilefirst.PurchaseOrders();purchaseorders.url=purchaseorderurl;purchaseorders.fetch({success:function(purchaseOrders){var grantedOrders=0,requestedOrders=0;if(purchaseOrders.length>0){_.each(purchaseOrders.models,function(purchaseOrder){switch(purchaseOrder.attributes.state){case mobilefirst.constants.purchaseorders.GRANTED:grantedOrders+=1;break;case mobilefirst.constants.purchaseorders.CREATED:case mobilefirst.constants.purchaseorders.REVOKED:requestedOrders+=1;break;default:break}})}self.model.attributes.users=grantedOrders;self.model.attributes.pending=requestedOrders;self.$el.html(self.template(self.model.attributes));self.renderGrants();$(".dw_assetAccessInfoFooter",self.options.parent.$el).html(new MyAssetAccessInfoFooterView({model:{users:grantedOrders,pending:requestedOrders},parent:self.options.parent}).render())},error:function(){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}});return this.$el},renderGrants:function(){var userId=mobilefirst.utils.loginUtils.getCookie("user");var purchaseorderurl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+"?"+mobilefirst.constants.assetId+"="+this.model.attributes._id+"&"+mobilefirst.constants.assetOwnerId+"="+userId;var self=this;var purchaseorders=new mobilefirst.PurchaseOrders();purchaseorders.url=purchaseorderurl;purchaseorders.fetch({success:function(purchaseOrders){var grantedOrderViews=[],requestedOrderViews=[];if(purchaseOrders.length>0){_.each(purchaseOrders.models,function(purchaseOrder){switch(purchaseOrder.attributes.state){case mobilefirst.constants.purchaseorders.GRANTED:grantedOrderViews[grantedOrderViews.length]=new GrantAccessItemView({model:purchaseOrder,parent:self});break;case mobilefirst.constants.purchaseorders.CREATED:case mobilefirst.constants.purchaseorders.REVOKED:requestedOrderViews[requestedOrderViews.length]=new GrantAccessItemView({model:purchaseOrder,parent:self});break;default:break}})}var previousChildren=self.getChildren();self.destroyChildren(previousChildren);if(self.openTab==="allUsers"){_.each(grantedOrderViews,function(view){$("#grantAccessItemCollection").append(view.render())})}else{_.each(requestedOrderViews,function(view){$("#grantAccessItemCollection").append(view.render())})}},error:function(model,response,options){var errMsg="Error fetching purchaseorders"}})},showGrantedUsersView:function(){this.openTab="allUsers";this.renderGrants();$(".myAssetsHeader",this.$el).removeClass("selectedItem");$("#grantedUsers",this.$el).addClass("selectedItem")},showPendingRequestsView:function(){this.openTab="pending";this.renderGrants();$(".myAssetsHeader",this.$el).removeClass("selectedItem");$("#pendingRequests",this.$el).addClass("selectedItem")},closeView:function(event){this.destroy();$("#grantAccessDetails").hide();$("#grantAccessDetails").insertAfter($("#assetsCollection"))},grantAccessDetailsCloseMouseEnter:function(event){$("#grantAccessDetailsClose",this.$el).css("opacity",0.7)},grantAccessDetailsCloseMouseLeave:function(event){$("#grantAccessDetailsClose",this.$el).css("opacity",0.2)}});var GrantAccessItemView=mobilefirst.TemplateView.extend({templateName:"GrantAccessItemTemplate",tagName:"div",events:{"click .actionButton":"doAction","click #changeAgreement":"changeAgreement","change #licensefile":"updateAgreementFileName","click #attachmentName":"viewAgreement"},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);this.agreementFileExtError=false;_.bindAll(this,"render")},render:function(){var self=this;var model=this.model;var parent=this.options.parent;this.delegateEvents();$.ajax({type:"GET",url:mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+"/"+mobilefirst.constants.api.version+"/"+mobilefirst.constants.invitee.prefix+"/"+model.attributes.userId,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",data:null,xhrFields:{withCredentials:true},dataType:"json",success:function(invitee){model.attributes.userName=invitee.name;if(model.attributes.grantedOn.length>0){var date=new Date(model.attributes.grantedOn);model.attributes.formattedGrantedOn=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear()}else{model.attributes.formattedGrantedOn=""}self.$el.html(self.template(model.attributes));if(model.attributes.state!==mobilefirst.constants.purchaseorders.GRANTED){$(".actionButton",self.$el).html(NLS.bind("mf_myasset_grant_access"));$(".grantedDate",self.$el).hide();$("#comments",self.$el).shorten({showChars:340,moreText:NLS.bind("mf_common_read_more"),lessText:NLS.bind("mf_common_read_less")})}else{$("#separator",self.$el).hide();$("#changeAgreement",self.$el).hide();$("#commentsSection",self.$el).hide()}var product=new mobilefirst.Product({_id:parent.model.attributes._id});product.fetch({success:function(){_.each(product.attributes.attachments,function(attachment){if(attachment.type===mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){$("#attachmentName",self.$el).html(attachment.name);self.assetAgreementUrl=mobilefirst.utils.url.getDownloadUrl(attachment.url)}});var urlRoot=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix;var purchaseOrder=new mobilefirst.PurchaseOrder({_id:model.attributes._id});purchaseOrder.urlRoot=urlRoot;purchaseOrder.fetch({success:function(){_.each(purchaseOrder.attributes.attachments,function(attachment){if(attachment.type===mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){$("#attachmentName",self.$el).html(attachment.name);self.purchaseOrderAgreementUrl=mobilefirst.utils.url.getDownloadUrl(attachment.url)}})},error:function(response){var errMsg="error fetching purchase order for order id="+model.attributes._id;mobilefirst.router.handleError(response,"#login",false,"Error:"+errMsg)}})},error:function(response){var errMsg="error fetching product for asset_id="+asset._id;mobilefirst.router.handleError(response,"#login",false,"Error:"+errMsg)}})},error:function(response){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}});return this.$el},doAction:function(event){if(this.model.attributes.state===mobilefirst.constants.purchaseorders.GRANTED){this.revokeAccess(event)}else{this.grantAccess(event)}},grantAccess:function(event){var grantUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.grants;var self=this;var apiKeys="";var grantComments="";if(!this.agreementFileExtError){$.ajax({type:"POST",url:grantUrl,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",data:JSON.stringify({purchaseOrderId:self.model.attributes._id,apiKeys:apiKeys,comments:grantComments}),xhrFields:{withCredentials:true},dataType:"json",success:function(){if(typeof cm_grantAccess!=="undefined"){cm_grantAccess(self.model.attributes.companyId,self.model.attributes.userId,self.model.attributes.assetId,self.model.attributes.grantedBy)}if(self.agreementfile){self.saveAgreement()}self.options.parent.render()},error:function(response){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}})}},saveAgreement:function(){var saveAgreementUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+this.model.attributes._id+mobilefirst.constants.urlseparator+mobilefirst.constants.licenseterms.ATTACHMENTS+"?type="+mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT+"&name="+this.agreementfile.name;var data=this.agreementfile;$.ajax({type:"POST",url:saveAgreementUrl,beforeSend:mobilefirst.constants.apiKeyBeforeSend,data:data,xhrFields:{withCredentials:true},contentType:false,context:this,processData:false,error:function(response){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}})},revokeAccess:function(event){var revokeUrl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.revokes;var self=this;$.ajax({type:"POST",url:revokeUrl,beforeSend:mobilefirst.constants.apiKeyBeforeSend,contentType:"application/json",data:JSON.stringify({purchaseOrderId:self.model.attributes._id}),xhrFields:{withCredentials:true},dataType:"json",success:function(invitee){self.options.parent.render()},error:function(response){mobilefirst.router.handleError(response,"#login",false,"Error:"+response.statusText)}})},applyApiKey:function(url){if(url&&url.indexOf("?apiKey=")<0){url=url+"?apiKey="+mobilefirst.constants.marketplace.apiKey}return url},changeAgreement:function(event){$("#licensefile",this.$el).click();event.preventDefault()},updateAgreementFileName:function(event){var files=event.currentTarget.files;var file=files[0];var filename=file.name;this.agreementfile=file;if(typeof file!="undefined"){$("#attachmentName",this.$el).html(filename);var ext=filename.substr(filename.lastIndexOf("."));if(ext!==".txt"){$(".agreementexterror",this.$el).show();this.agreementFileExtError=true}else{$(".agreementexterror",this.$el).hide();this.agreementFileExtError=false}}},viewAgreement:function(event){if(this.purchaseOrderAgreementUrl){window.open(this.purchaseOrderAgreementUrl)}else{window.open(this.assetAgreementUrl)}}})});var mobilefirst=mobilefirst||{};$(function(){var myAssetViewEvents=mobilefirst.MyAssetView.prototype.events;mobilefirst.MyAssetView.prototype=_.extend(mobilefirst.MyAssetView.prototype,{events:function(){var events=_.extend(myAssetViewEvents,{"mouseenter .dw_assetImageBox":"showAssetDescription","mouseleave .dw_assetImageBox":"showAssetImage"});return events},showAssetDescription:function(event){var target=$(event.currentTarget);target.find(".asset_image").hide();target.find(".dw_assetImageBoxDescription").fadeIn()},showAssetImage:function(event){var target=$(event.currentTarget);target.find(".asset_image").fadeIn();target.find(".dw_assetImageBoxDescription").hide()},editAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#"+marketplace.extension.context+"/"+this.model.id,true)},viewAsset:function(){Backbone.history.state=this.tabState;mobilefirst.router.navigate("#"+marketplace.extension.context+"/view/"+this.model.id,true)},render:function(){if(!this.model.attributes.shortDescription||this.model.attributes.shortDescription.length==0){this.model.attributes.shortDescription=this.model.attributes.description}this.model.attributes.thumbnail=this.model.getThumbnail();this.$el.attr("id",this.model.id);var attributes=this.model.attributes;this.model.attributes.shortDescription=mobilefirst.utils.stripHTMLTags(this.model.attributes.shortDescription);attributes.shortDescriptionListLimited=marketplace.Text.resize(this.model.attributes.shortDescription,mobilefirst.constants.fieldlimits.ASSET_LIST_SHORT_DESCRIPTION);attributes.shortDescriptionTileLimited=marketplace.Text.resize(this.model.attributes.shortDescription,mobilefirst.constants.fieldlimits.ASSET_TILE_SHORT_DESCRIPTION);attributes.nameLimited=mobilefirst.utils.limitField(this.model.attributes.name,mobilefirst.constants.fieldlimits.ASSET_LIST_NAME);attributes.fullTitle=(attributes.nameLimited!==this.model.attributes.name)?this.model.attributes.name:"";var assetLink=marketplace.extension.getAssetPermanentURLValue(this.model.attributes);if(assetLink){attributes.assetLink="#asset/"+encodeURIComponent(assetLink)}else{attributes.assetLink="#view/"+this.model.attributes._id}var asset_type_name=eval("this.model.attributes."+(marketplace.extension.typeField||"type"));if(!asset_type_name){asset_type_name=this.model.attributes.type}mobilefirst.utils.log("ASSET TYPE NAME:"+mobilefirst.utils.getSanitizedID(asset_type_name));attributes.typeLimited=mobilefirst.utils.limitField(asset_type_name,mobilefirst.constants.fieldlimits.ASSET_TYPE);attributes.assetTypeTitle=NLS.bind("tooltip_"+mobilefirst.utils.getSanitizedID(asset_type_name));var assetType=marketplace.AssetType.getAssetType(asset_type_name);var provider=this.model.attributes.provider;if(provider){if(provider instanceof Object){if(provider.name){attributes.providerName=NLS.bind("mf_asset_provider",provider.name)}}else{attributes.providerName=NLS.bind("mf_asset_provider",provider)}}if(this.model.attributes.published!=undefined){var updatedDate=new Date(this.model.attributes.lastUpdatedOn);var releasedDate=new Date(this.model.attributes.published.on);releasedDate.setMilliseconds(0);updatedDate.setMilliseconds(0);if(releasedDate.getTime()===updatedDate.getTime()){attributes.formattedLastUpdatedOn=NLS.bind("mf_date_released",this.model.attributes.formattedPublishedOn)}else{attributes.formattedLastUpdatedOn=NLS.bind("mf_date_updated",this.model.attributes.formattedLastUpdatedOn)}}this.$el.html(this.template(attributes));if(this.options.showAssetStatusInfoHeader){switch(this.model.attributes.state){case"draft":$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_incomplete"));$(".dw_assetStatus",this.$el).addClass("incompleteStatus");$(".dw_removeAsset",this.$el).show();$(".dw_editAsset",this.$el).show();break;case"published":var date=new Date(this.model.attributes.published.on);var formattedPublishedOn=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_published",formattedPublishedOn));$(".dw_assetStatus",this.$el).addClass("publishedStatus");$(".dw_removeAsset",this.$el).show();$(".dw_deleteAssetMsg",this.$el).html(NLS.bind("mf_myasset_unpublish"));$(".dw_syndicatecb",this.$el).show();break;case"awaiting_approval":$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_awaiting_approval"));$(".dw_assetStatus",this.$el).addClass("awaitingApprovalStatus");$(".dw_removeAsset",this.$el).show();$(".dw_editAsset",this.$el).show();break;default:$(".dw_assetStatus",this.$el).html(NLS.bind("mf_myasset_status_complete"));$(".dw_assetStatus",this.$el).addClass("completeStatus");$(".dw_removeAsset",this.el).show();$(".dw_editAsset",this.$el).show();break}}else{$(".assetStatusInfoHeader",this.$el).hide()}var rank=this.model.attributes.rating||0;for(var i=0;i<5;i++){$(".dw_rating",this.$el).append(new mobilefirst.RatingView({model:{enable:eval(i<rank)}}).render())}var rate_text="reviews";if(this.model.attributes.numOfVotes==1){rate_text="review"}$(".dw_ratingText",this.$el).text(this.model.attributes.numOfVotes+" "+rate_text);if(this.options.showAccessInfoFooter){var userId=mobilefirst.utils.loginUtils.getCookie("user");var purchaseorderurl=mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.purchaseorders.prefix+"?"+mobilefirst.constants.assetId+"="+this.model.attributes._id+"&"+mobilefirst.constants.assetOwnerId+"="+userId;var self=this}else{$(".dw_assetAccessInfoFooter",this.$el).hide()}$(".asset_image",this.$el).addClass("pn_btn_sprite_tile_"+mobilefirst.utils.getAssetPresetIcon(assetType));$(".dw_assetImageBoxDescription",this.$el).hide();if(this.model.isFeaturedAsset()){$(".feature_asset_triangle",this.$el).show()}else{if(this.model.isUpdatedAsset()){}}return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.MyAssetsView.prototype=_.extend(mobilefirst.MyAssetsView.prototype,{renderAssets:function(assets,published,myview){var self=this;var previousChildren=this.getChildren();this.clearChildren();assets.fetch({reset:true,success:function(model){if(assets.length>0){var assetAddtionActionsDiv=$("#assetAdditionActions",self.$el);_.each(assets.models,function(model){var assetType=eval("model.attributes."+(marketplace.extension.typeField||"type"));if(assetType&&!marketplace.AssetType.getAssetType(assetType)){marketplace.extension.insertAssetType(assetType,assetType);assetAddtionActionsDiv.append(marketplace.extension.myassets.assetTypes[marketplace.extension.myassets.assetTypes.length-1].getNode())}myAssetView=new mobilefirst.MyAssetView({model:model,parent:myview,showAccessInfoFooter:true,showAssetStatusInfoHeader:true});$("#assetsCollection",self.$el).append(myAssetView.render())})}else{$("#assetsCollection",self.$el).append("")}self.destroyChildren(previousChildren)},error:function(model,response,options){var errMsg="Error fetching assets";mobilefirst.router.handleError(response,"#login",false,"Error:"+errMsg);self.destroyChildren(previousChildren)}})}})});var mobilefirst=mobilefirst||{};mobilefirst.assetRatingList=new mobilefirst.AssetRatingList();$(function(){var a=mobilefirst.AssetRatingView.prototype.events;mobilefirst.AssetRatingView.prototype=_.extend(mobilefirst.AssetRatingView.prototype,{templatePath:"sites/common/templates/",templateName:"AssetRatingTemplate",events:_.extend(a,{"keydown #commentDesc":"onCommentChange","keyup #commentDesc":"onCommentChange","input #commentDesc":"onCommentChange","click #writingComment":"onAddRatingComment","click #ratingSelection a":"selectRatingFromAnchor"}),initialize:function(){this.loadTemplate(mobilefirst.AssetRatingView);this.ratingModel.setAssetId(this.options.assetId);_.bindAll(this,"renderAssetRating");var b=this;Backbone.history.on("all",function(){b.stopListening(Backbone,"signin");b.stopListening(Backbone,"signout");Backbone.history.off("all")});b.listenTo(Backbone,"signin",function(){b.signinOnThisPage=true;mobilefirst.utils.loginMassive(b,b.populateRatingComments)});b.listenTo(Backbone,"signout",function(){b.signinOnThisPage=false;b.cancelRatingComment();b.$("#writingComment").removeClass("editing").text(NLS.bind("mf_ratingcomment_revieweditor_writelink"))})},cancelRatingComment:function(){$("#errorNoRating, #errorNoTitle, #errorNoDesc").hide();this.hideEditor()},render:function(){this.$el.html(this.template());$("#ratingcomment_title",this.$el).attr("maxlength",mobilefirst.constants.maxReviewTitleLength);this.renderAssetRating();this.populateRatingComments();return this.$el},selectRatingFromAnchor:function(d){var c=d.currentTarget;var b=new Object();b.currentTarget=c.firstChild;this.selectRating(b)},getReviewIndexByUser:function(b){var f=this.ratingModel.models;var d=f.length;for(var c=0;c<d;c++){var e=f[c];if(e.attributes.createdBy.id&&b){if(b===e.attributes.createdBy.id){return c}}}return -1},populateRatingComments:function(){var b=this.$("#reviewList");var c=this;this.ratingModel.reset();this.ratingModel.fetch({success:function(){var j=c.ratingModel.models;b.html("");var f=j.length;this.$(".reviewSize").text(f);if(f===0){this.$(".befirst").show();$("#writingComment").css("text-transform","lowercase");b.hide();c.showAddRatingCommentBox();return}this.$(".befirst").hide();var h=mobilefirst.utils.loginUtils.getCookie("user_ma_id");var d=false;for(var e=0;e<f;e++){var g=j[e].attributes;var k=new mobilefirst.AssetRatingItemView({model:g,parent:c});b.append(k.render());if(e<f-1){b.append(c.addDivider())}if(!d&&h===g.createdBy.id){d=true}}b.show();if(d&&mobilefirst.utils.loginUtils.isLoggedIn()){this.$("#writingComment").addClass("editing").text(NLS.bind("mf_ratingcomment_revieweditor_editlink"))}setTimeout(function(){c.renderAssetRating()},500);c.showAddRatingCommentBox()}})},showAddRatingCommentBox:function(){if(!mobilefirst.utils.loginUtils.isLoggedIn()){return}this.$(".errors").hide();var b=mobilefirst.utils.loginUtils.getCookie("name");this.$(".commentEditor .commentWriter").text(NLS.bind("mf_ratingcomment_comment_writer",b));this.refreshCommentEditor();if(this.$("#writingComment").hasClass("editing")){this.populateCommentEditor();if(this.signinOnThisPage){this.showEditor();this.$("#reviewEditor .commentEditor input").focus()}}else{this.refreshCommentEditor();this.showEditor()}return false},onAddRatingComment:function(){if(!mobilefirst.utils.loginUtils.isLoggedIn()){mobilefirst.login_overlay.show();return false}if(this.$("#writingComment").hasClass("editing")){this.showEditor();this.$("#reviewEditor .commentEditor input").focus()}this.showAddRatingCommentBox()},addRatingComment:function(h){$("#errorNoRating, #errorNoTitle, #errorNoDesc").hide();var k=$(".commentEditor .commentSubject").val();var g=$(".commentEditor .commentDesc").val();var j=5-this.$("#ratingSelection img.unselected").length;if(j===0){$("#errorNoRating").show()}if(k.trim().length==0){$("#errorNoTitle").show()}if(g.trim().length==0){$("#errorNoDesc").show()}if($("#errorNoRating").is(":visible")||$("#errorNoTitle").is(":visible")||$("#errorNoDesc").is(":visible")){return}var d=mobilefirst.utils.sanitizeHTML(k).replace(/(\r\n|\n|\r)/gm,"<br>");var b=mobilefirst.utils.sanitizeHTML(g).replace(/(\r\n|\n|\r)/gm,"<br>");var m=this.getReviewIndexByUser(mobilefirst.utils.loginUtils.getCookie("user_ma_id"));var c;if(m>-1){c=this.ratingModel.at(m)}else{c=new mobilefirst.AssetRating()}c.set("title",d);c.set("review",b);c.set("vote",j);c.setAssetId(this.options.assetId);auth_token=function(e){e.setRequestHeader("encrypted_content",encodeURIComponent(mobilefirst.utils.loginUtils.getCookie("dWSSO")))};var f=this;$("#reviewEditor").hide();$("#reviewEditorSaving").show();this.refreshAssetRating();c.save({},{beforeSend:auth_token,complete:function(){$("#reviewEditor").show();$("#reviewEditorSaving").hide()},success:function(){f.populateRatingComments();setTimeout(function(){f.refreshAssetRating();Backbone.trigger("click .postBtn")},1000)}});this.hideEditor()},populateCommentEditor:function(){var b=this.getReviewIndexByUser(mobilefirst.utils.loginUtils.getCookie("user_ma_id"));if(b>-1){var c=this.ratingModel.at(b).attributes;this.populateReviewRating(c.vote);c.title=c.title.replace(/(<br>)/gm,"\r\n");c.review=c.review.replace(/(<br>)/gm,"\r\n");$(".commentEditor .commentSubject").val(c.title);$(".commentEditor .commentDesc").val(c.review);this.onCommentChange()}},showEditor:function(){this.$(".commentEditor, #ratingSelection").show();this.$("#writingComment").addClass("disable");this.$el.off("click","#writingComment")},hideEditor:function(){this.$(".commentEditor, #ratingSelection").hide();var b=this;this.$("#writingComment").removeClass("disable");this.$el.on("click","#writingComment",function(){b.onAddRatingComment()});this.initReviewRating();this.$("#commentDesc").val("");this.onCommentChange()},onCommentChange:function(){var c=$("#commentDesc").val().length;var b=mobilefirst.constants.fieldlimits.COMMENT;if(b-c>=0){$("#comment-char-count").html(b-c);$("#comment-char-count").removeClass("comment-red");$("#comment-chars-message").removeClass("comment-red");$("#comment-chars-over-message").hide();$("#comment-chars-left-message").show();$(".postBtn").removeClass("disabled").unbind("click",false)}else{$("#comment-char-count").html(-(b-c));$("#comment-char-count").addClass("comment-red");$("#comment-chars-message").addClass("comment-red");$("#comment-chars-over-message").show();$("#comment-chars-left-message").hide();$(".postBtn").addClass("disabled").bind("click",false)}if(Math.abs(b-c)==1){$("#comment-chars-message").html("character")}else{$("#comment-chars-message").html("characters")}}});mobilefirst.AssetRatingDetailsView=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"AssetRatingDetailsTemplate",tagName:"div",id:"assetratings",ratingModel:mobilefirst.assetRatingList,events:{"click #reviewEditor2":"goToReviews"},initialize:function(){this.loadTemplate(mobilefirst.AssetRatingView);this.ratingModel.setAssetId(this.options.assetId);this.listenTo(Backbone,"click .postBtn",this.refreshAssetRating);_.bindAll(this,"renderAssetRating")},destroy:function(){this.remove()},goToReviews:function(b){var c=$("#assetrating").offset().top;(c>0)&&$("html, body").animate({scrollTop:c},"slow",function(){if($("#reviewDesc").text()===NLS.bind("mf_comment_no_comment")&&!mobilefirst.utils.loginUtils.isLoggedIn()){mobilefirst.login_overlay.show();return false}})},render:function(){this.$el.html(this.template());this.renderAssetRating();return this.$el},renderAssetRating:function(){var e=this.options.parent.model.attributes;var c=e.numOfVotes;var d=NLS.bind("mf_comments_lowercase");if(c==1){d=NLS.bind("mf_comment_lowercase")}if(!c){this.$(".averageRatings .assetratings").show();this.$("#reviewDesc").text(NLS.bind("mf_comment_no_comment"));return}this.$("#reviewDesc").text(c+" "+d);var b=Math.round(e.rating);this.$(".averageRatings .assetratings img").each(function(f){if(f<b){$(this).attr("src","images/star-yellow.png");$(this).attr("alt","selected star")}else{$(this).attr("src","images/star-gray.png");$(this).attr("alt","empty star")}});this.$(".averageRatings .assetratings").show()},refreshAssetRating:function(){var b=this.options.parent;var c=this;b.model.fetch({success:c.renderAssetRating})}});mobilefirst.AssetRatingItemView.prototype=_.extend(mobilefirst.AssetRatingItemView.prototype,{renderMetadata:function(){var c=this.getPostTimeString(this.model.lastUpdatedOn);var b=NLS.bind("mf_ratingcomment_metadata",this.model.createdBy.name,c);this.$(".metadata").text(b)},render:function(){this.$el.html(this.template(this.model));this.renderCurrentRating();this.renderMetadata();return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.CommercialInfoDivView=mobilefirst.TemplateView.extend({templatePath:"./sites/common/templates/",templateName:"CommercialInfo",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.CreateAPIView.prototype=_.extend(mobilefirst.CreateAPIView.prototype,{getEvents:function(){var eventsViewMode={"click .viewbtn":"comingSoon","click .trybtn":"comingSoon","click #backbtn":"goBack","click #purchaselink":"showPurchaseDialog","click #purchase_more_plan_link":"showPurchaseDialogForMore","click #sendRequest":"raisePurchaseOrder","click #sendPlanRequest":"raisePurchaseOrder","click #sendPlanRequest":"raisePurchasePlanOrder","click #mf_purchaseboxclose":"closePurchaseBox","click #downloadlink":"showDownloadContainer","click #get_your_keys_link":"showDownloadContainer","click #cancelterms":"closeDownloadContainer","mouseenter #cancelterms":"addCloseHover","mouseleave #cancelterms":"removeCloseHover","click #disagreeterms":"closeDownloadContainer","click #post_download_close":"closePostDownloadContainer","click #iagree":"getAssetCheck","click .cancelterms":"closeDownloadContainer","click #agreementlink":"showDownloadContainer","click #request_entitlement_link":"showRequestEntitlementContainer","click #request_entitlement_boxclose":"closeRequestEntitlementContainer","click #overlayforEntitlementContainer":"closeRequestEntitlementContainer","mouseenter #developerKeysContainer":"mouseEnterDeveloperKeysContainer","mouseleave #developerKeysContainer":"mouseLeaveDeveloperKeysContainer","click #overlayForDeveloperKeysContainer":"closeDeveloperKeysContainer","click #developer_keys_boxclose":"closeDeveloperKeysContainer","click #requestNewEntitlementLink":"showRequestEntitlementContainer","blur #messagebox":"checkSendRequestButton","click #overlayforpurchase":"closePurchaseBox","mouseenter #purchase_requested_link":"showtooltipmessage","mouseleave #purchase_requested_link":"hidetooltipmessage","mouseenter #entitlement_requested_link":"showtooltipmessage","mouseleave #entitlement_requested_link":"hidetooltipmessage","click #subscribe_after_purchase_link":"entitleSubscriber","click #back_link":"callBackButton"};var eventsPreviewMode={"click #publishbtn":"publishAsset"};var eventsEditMode={};var events={};switch(this.getMode()){case mobilefirst.constants.modes.VIEW:_.extend(events,eventsViewMode);break;case mobilefirst.constants.modes.EDIT:_.extend(events,eventsViewMode,eventsEditMode);break;case mobilefirst.constants.modes.APPROVAL:case mobilefirst.constants.modes.RESELL_APPROVAL:_.extend(events,eventsViewMode);break;case mobilefirst.constants.modes.PREVIEW:_.extend(events,eventsPreviewMode);default:console.error("UNKNOWN MODE")}return events},renderToolTip:function(){var asset_type_name=eval("this.model.attributes."+(marketplace.extension.typeField||"type"));if(asset_type_name){var title=NLS.bind("tooltip_"+mobilefirst.utils.getSanitizedID(asset_type_name));$(".tooltip",this.$el).attr("title",title);$(".tooltip",this.$el).tooltip({position:{my:"left top+20",at:"left bottom",using:function(position,feedback){$(this).css(position);$("<div>").addClass("arrow").addClass(feedback.vertical).addClass(feedback.horizontal).appendTo(this)}}})}},initialize:function(){this.detach();this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"renderThumbnail","getDownloadableIndex","getDownloadableUrl","deleteDownloadable","renderDownloadableButtons","uploadThumbnail","renderUploadLinks","setActiveEditor","getActiveEditor","renderCommercialInfo","addOnCreatedListener","createNewAsset","showValidationErrors","showLastSavedAssetTime","addAssetType","renderSupport","renderResource","renderAssetDetails");this.activeEditor="";this.richEditorView=new mobilefirst.RichEditorView({model:this.model,mode:this.getMode(),setActiveEditor:this.setActiveEditor,parent:this});this.docListView=new mobilefirst.DocListView({model:this.model,mode:this.getMode(),renderLinks:this.renderUploadLinks,parent:this});this.illustrationView=new mobilefirst.IllustrationView({model:this.model,mode:this.getMode(),renderLinks:this.renderUploadLinks,parent:this});this.myAssetHeaderView=new mobilefirst.MyAssetHeaderView({model:this.model,mode:this.getMode(),parent:this});this.assetDetailsHeaderView=new mobilefirst.AssetDetailsHeaderView({model:this.model,mode:this.getMode(),parent:this});var d=new Date(this.model.attributes.createdOn);this.model.attributes.formattedCreatedOn=d.getDate()+" "+mobilefirst.constants.month[d.getMonth()]+" "+d.getFullYear();d=new Date(this.model.attributes.lastUpdatedOn);this.model.attributes.formattedLastUpdatedOn=d.getDate()+" "+mobilefirst.constants.month[d.getMonth()]+" "+d.getFullYear();if(this.model.attributes.published){d=new Date(this.model.attributes.published.on);this.model.attributes.formattedPublishedOn=d.getDate()+" "+mobilefirst.constants.month[d.getMonth()]+" "+d.getFullYear()}else{this.model.attributes.formattedPublishedOn=this.model.attributes.formattedCreatedOn}$(document).on("mouseup",$.proxy(this.hideDropDownMenu,this));this.addAssetType()},renderResource:function(){var resources=new mobilefirst.Resources();resources.setAssetId(this.model.attributes._id);var that=this;resources.fetch({reset:true,beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(data){if(data.length>0){$("#resourcesbox",that.$el).show();$("#resourcesbox",that.$el).removeAttr("aria-hidden");$("#resourcesbox ul.ibm-link-list li",that.$el).remove();_.each(data.models,function(resource){var title=resource.attributes.name;title=mobilefirst.utils.limitField(title,mobilefirst.constants.fieldlimits.RESOURCE);var link=$('<a href="'+resource.attributes.value+'"></a>').attr("class","ibm-forward-link").html(title);var list=$("<li></li>").html(link);$("#resourcesbox .ibm-link-list",that.$el).append(list)})}}})},renderAssetRating:function(){mobilefirst.assetRatingView=new mobilefirst.AssetRatingView({assetId:this.model.attributes._id,parent:this});mobilefirst.assetRatingDetailsView=new mobilefirst.AssetRatingDetailsView({assetId:this.model.attributes._id,parent:this});$("#mp_rating",this.$el).append(mobilefirst.assetRatingView.render());$("#mp_rating_head",this.$el).append(mobilefirst.assetRatingDetailsView.render())},callBackButton:function(event){mobilefirst.router.back()},downloadAsset:function(event){event&&event.preventDefault();this.closeDownloadContainer();this.showPostDownloadContainer();jQuery("#dloadlink").attr("data-analytics-category","Downloads").attr("data-analytics-action",this.model.attributes.name).click()},getDownloadableUrl:function(){var attachments=this.model.getDownloadable();var url="";for(var i=0;i<attachments.length;i++){if(attachments[i].type===mobilefirst.constants.attachmenttype.CONTENT){url=attachments[i].url;break}}var real_url=mobilefirst.utils.url.getDownloadUrl(url);return real_url},showPostDownloadContainer:function(){return;$("#overlayforDownloadContainer",this.$el).show();$("#downloadDiv",this.$el).show();$("#downloadDiv",this.$el).html("");var downloadcontainer=new mobilefirst.PostDownloadDivView({parent:this,model:this.model});$("#downloadDiv",this.$el).append(downloadcontainer.render())},closePostDownloadContainer:function(){$("#overlayforDownloadContainer",this.$el).hide();$("#downloadDiv",this.$el).hide()},renderThumbnail:function(){var thumbnailSrc=this.model.getThumbnail();var tb=$("#tnimage",this.$el);var attachment=this.model.getThumbnailAttachment();if(attachment.length!=0){$(".tnimage",this.$el).show();$(tb).show();$("#tbadd",this.$el).hide();if(this.getMode()===mobilefirst.constants.modes.EDIT){var tnImage=this.$("#thumbnail .tnimage");$('<a id="removethumbnail"/>').addClass("removeIcon removeThumbnailLocation").appendTo($(tnImage));$(tb).css("background","transparent")}else{$(".tnimage",this.$el).css("background","#fff");$(".tnimage",this.$el).css("border-radius","4px")}}else{$(tb).hide();if(this.getMode()===mobilefirst.constants.modes.EDIT){$(".tblink",this.$el).show();$("#tbadd",this.$el).show()}else{$(".tblink",this.$el).hide();$("#tbadd",this.$el).hide();$(".tblink",this.$el).css("border","10px solid #fff");$(".tblink",this.$el).css("border-radius","4px")}$deletmark=$("#removethumbnail",this.$el).remove()}$(tb).attr("src",thumbnailSrc);var params={height:0,width:0};var container=$("#tnimagediv",this.$el);var img=new Image();img.src=thumbnailSrc;img.onload=function(){params.height=img.height;params.width=img.width;mobilefirst.utils.common.fitInImageFrame(tb,params,container)};var assetType=marketplace.AssetType.getAssetType(eval("this.model.attributes."+(marketplace.extension.typeField||"type")));$("#iconslot",this.$el).addClass("pn_sprite_"+mobilefirst.utils.getAssetPresetIcon(assetType))},addCloseHover:function(){$("#cancelterms").addClass("dijitDialogCloseIconHover")},removeCloseHover:function(){$("#cancelterms").removeClass("dijitDialogCloseIconHover")},addAssetType:function(){var assetTypeObj;var assetType=eval("this.model.attributes."+(marketplace.extension.typeField||"type"));if(assetType){assetTypeObj=marketplace.AssetType.getAssetType(assetType);if(assetTypeObj==null){marketplace.extension.insertAssetType(assetType,assetType)}}},getAssetCheck:function(){if($("#iagree").val()==="Close"){this.closeDownloadContainer()}else{this.getAsset()}},getAsset:function(event){this.downloadAsset(event)},showDownloadContainer:function(event){this.stopListening(Backbone,"signin");event&&event.preventDefault();var et=event;var user=null;if(this.model.requireAuthentication()){user=mobilefirst.utils.loginUtils.getCurrentUser()}else{user="anonymous"}if(user){if(this.model.getLicenseAgreement()[0]){$("#overlayforDownloadContainer",this.$el).show();$("#downloadDiv",this.$el).show();$("#downloadDiv",this.$el).html("");var downloadcontainer=new mobilefirst.DownloadDivView({parent:this,model:this.model});$("#downloadDiv",this.$el).append(downloadcontainer.render());downloadcontainer.renderDownloadAgreementList();if(et.target&&et.target.id!="agreementlink"){$("#acceptStatement, #disagreeterms").show();$("#iagree").val("Accept and Download")}else{$("#acceptStatement, #disagreeterms").hide();$("#iagree").val("Close")}}else{this.getAsset()}}else{mobilefirst.login_overlay.show();this.listenTo(Backbone,"signin",this.showDownloadContainer)}},renderSupport:function(){var support=this.model.attributes.provider.support;if(support){if(support.phone){$("#phoneboxrelease .phonelabel",this.$el).html(support.phone);$("#phoneboxrelease",this.$el).removeAttr("aria-hidden");$("#phoneboxrelease",this.$el).show()}if(support.email){$("#emailboxrelease .emaillabel a",this.$el).text(support.email);$("#emailboxrelease .emaillabel a",this.$el).attr("href","mailto:"+support.email);$("#emailboxrelease",this.$el).removeAttr("aria-hidden");$("#emailboxrelease",this.$el).show()}if(support.fax){$("#faxboxrelease .phonelabel",this.$el).html(support.fax);$("#faxboxrelease",this.$el).removeAttr("aria-hidden");$("#faxboxrelease",this.$el).show()}if(support.url){$("#linkboxrelease .link",this.$el).text(support.url.name);$("#linkboxrelease .link",this.$el).attr("href",support.url.value);$("#linkboxrelease",this.$el).removeAttr("aria-hidden");$("#linkboxrelease",this.$el).show()}$("#supportbox",this.$el).show()}},renderCompanyInfo:function(){if(this.getMode()!=mobilefirst.constants.modes.EDIT){$("#companyinfo",this.$el).css("margin","0px 5px 5px 0px");var provider=this.model.attributes.provider;var companyName;if(provider){if(typeof provider=="object"){companyName=provider.name}else{companyName=provider}$("#companyinfo",this.$el).text("by ").append(companyName)}}},renderAssetType:function(){var asset_type_name=eval("this.model.attributes."+(marketplace.extension.typeField||"type"));if(!asset_type_name){asset_type_name=this.model.attributes.type}$("#newAssetType span",this.$el).html(asset_type_name)},renderplatforms:function(){var platforms=this.model.attributes.information.platforms;if(platforms!=""){platforms=mobilefirst.utils.limitField(platforms,mobilefirst.constants.fieldlimits.PLATFORM_VERSION);_.each(platforms,function(platform){$("#platformlist",this.$el).append('<div><div class="platformbox"><span class="platformName" >'+platform+'</span><img class="removePlatformTag editonly" style="padding-left: 5px; display: none;" src="images/remove.png" alt="Remove"></div></div>')},this);$("#infoboxplatforms",this.$el).removeAttr("aria-hidden");$("#infoboxplatforms",this.$el).show()}},renderAssetDetails:function(){var languages=this.model.attributes.information.languages;if(languages!=""){languages=mobilefirst.utils.limitField(languages,mobilefirst.constants.fieldlimits.LANGUAGES);_.each(languages,function(language){$("#languagelist",this.$el).append('<div class="languagebox"><span id="'+language+'" class="languageName">'+language+"</span></div>")},this);$("#infoboxlanguages").removeAttr("aria-hidden");$("#infoboxlanguages",this.$el).show()}if(this.model.attributes.published){var updatedDate=new Date(this.model.attributes.lastUpdatedOn);var releasedDate=new Date(this.model.attributes.published.on);releasedDate.setMilliseconds(0);updatedDate.setMilliseconds(0);releasedDate.setSeconds(0);updatedDate.setSeconds(0);var updated=this.model.attributes.formattedLastUpdatedOn;if(releasedDate.getTime()!==updatedDate.getTime()){$("#infoboxupdate .infovalue",this.$el).html(updated);$("#infoboxupdate").removeAttr("aria-hidden");$("#infoboxupdate",this.$el).show();$("#infoboxrelease p",this.$el).addClass("metadata")}}var released=this.model.attributes.formattedPublishedOn;if(released!=""){released=mobilefirst.utils.limitField(released,mobilefirst.constants.fieldlimits.RELEASED);$("#infoboxrelease .infovalue",this.$el).html(released);$("#infoboxrelease").removeAttr("aria-hidden");$("#infoboxrelease",this.$el).show()}},renderShortDescription:function(){var shortDescription=this.model.get("shortDescription");if(shortDescription){if(this.getMode()===mobilefirst.constants.modes.EDIT){$("#documentionArea",this.$el).val(shortDescription);var size=500-shortDescription.length;$("#descriptionlength",this.$el).text(size+" Characters left")}else{shortDescription=mobilefirst.utils.limitField(shortDescription,mobilefirst.constants.fieldlimits.ASSET_DETAILS_SHORT_DESCRIPTION);$("#mf_documentsection",this.$el).html(shortDescription);$("#desciptionmsg",this.$el).css("padding","0px");if($.trim(shortDescription).length==0){$("#documentation",this.$el).hide()}}}},renderDescription:function(){var description=this.model.attributes.description;$("#createAPIEditorContainer",this.$el).append(this.richEditorView.render());if(this.getMode()!=mobilefirst.constants.modes.EDIT){$("#createAPIEditorContainer",this.$el).css("background","transparent")}description=mobilefirst.utils.limitField(description,mobilefirst.constants.fieldlimits.DESCRIPTION);$("#editor",this.$el).html(description)},renderAssetName:function(){var header=this.model.attributes.name;var name=this.$("#namebox");var val=$(name).val();if(val===""){$(name).css({"border-style":"solid"})}else{$(name).removeAttr("style")}$(name).attr("placeholder",NLS.bind("mf_assetEditor_namePlaceHolder_"+this.model.attributes.type));header=mobilefirst.utils.limitField(header,mobilefirst.constants.fieldlimits.ASSET_DETAILS_NAME);$("#mf_assetname",this.$el).html(header);if(header.length>=mobilefirst.constants.fieldlimits.ASSET_DETAILS_NAME_DYNAMIC_CSS){$("#mf_assetname",this.$el).css("font-size","2.2em")}},renderBg:function(){},renderCommercialInfo:function(){var licenses=this.model.attributes.licenses;var license=licenses[0];$(".commercialcontent",this.$el).show();$(".commercialcontent",this.$el).html("");$(".commercialmsg",this.$el).hide();var licenseModel=new Backbone.Model(license);var commercialInfoDivView=new mobilefirst.CommercialInfoDivView({model:licenseModel,parent:this});$(".commercialcontent",this.$el).append(commercialInfoDivView.render(this.model.attributes.type));$("#editCommercialTerms",this.$el).show();var attachments=this.model.attributes.attachments;var isThereLicenseAttached=false;for(var i=0;i<attachments.length;i++){if(mobilefirst.utils.checkLicenseVisibility(attachments[i])){isThereLicenseAttached=true;break}}if(!isThereLicenseAttached){$("#agreementrowId",this.$el).hide()}},addIndustryTagToAsset:function(event){var className=$(event.currentTarget).attr("class");var id=$(event.currentTarget).attr("id");if(className.indexOf("notselected")!=-1){var industryName=$(event.currentTarget).text();$(event.currentTarget).removeClass("notselected");$(event.currentTarget).addClass("selected");$("#addIndustryBox").hide();$("#addIndustryTriangle").hide();var industrytag=new Object();industrytag.id=id;industrytag.tagName=industryName;industrytag.boxClassName="industrybox";industrytag.tagClassName="industryName";industrytag.removeClassName="removeIndustryTag";var industryModel=new Backbone.Model(industrytag);var newIndustryTag=new mobilefirst.TagView({model:industryModel,parent:this});$("#industrylist",this.$el).prepend(newIndustryTag.render());this.saveIndustryTags();this.checkAddTagButton()}},renderIndustyTags:function(){var industryTagsView=new mobilefirst.IndustryTagsView();$("#addIndustryBox",this.$el).html(industryTagsView.render());var industrytags=this.model.get("tags");for(var i=0;i<industrytags.length;i++){var category=marketplace.AssetCategory.getAssetCategoryByName(industrytags[i]);if(category){var industrytag=new Object();industrytag.id=category.getId();industrytag.tagName=category.getName();industrytag.boxClassName="industrybox";industrytag.tagClassName="industryName";industrytag.removeClassName="removeIndustryTag";var industryModel=new Backbone.Model(industrytag);var newIndustryTag=new mobilefirst.TagView({model:industryModel,parent:this});$("#industrylist",this.$el).prepend(newIndustryTag.render());if(this.getMode()===mobilefirst.constants.modes.EDIT){var element="#addIndustryBox #"+category.getId();$(element,this.$el).addClass("selected");$(element,this.$el).removeClass("notselected")}}else{console.error("Unknown industry value "+industry[i])}}},addPlatformTagToAsset:function(event){var className=$(event.currentTarget).attr("class");var id=$(event.currentTarget).attr("id");if(className.indexOf("notselected")!=-1){var platformName=$(event.currentTarget).text();$(event.currentTarget).removeClass("notselected");$(event.currentTarget).addClass("selected");$("#addPlatformBox").hide();$("#addPlatformtriangle").hide();var platformtag=new Object();platformtag.id=id;platformtag.tagName=platformName;platformtag.boxClassName="platformbox";platformtag.tagClassName="platformName";platformtag.removeClassName="removePlatformTag";var platformModel=new Backbone.Model(platformtag);var newPlatformTagView=new mobilefirst.TagView({model:platformModel,parent:this});$("#platformlist").prepend(newPlatformTagView.render());this.savePlatforms();this.checkAddTagButton()}}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.DownloadDivView=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"DownloadContainer",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{"change #mf_download_term_locale":"renderDownloadAgreement"},render:function(){this.$el.html(this.template());return this.$el},renderDownloadAgreementList:function(){$("#mf_downloadAgreement_title").text(this.model.attributes.name);$("#mf_downloadAgreement_subtitle").text(this.model.attributes.name);var e=this.model.attributes.attachments;var c=false;var q=Globalize.culture().name;var d=document.getElementById("mf_download_term_locale");d.options.length=0;if(e){var h=-1;for(var g=0;g<e.length;g++){if(e[g].type==mobilefirst.constants.attachmenttype.LICENSE_AGREEMENT){if(d){var n=e[g].locale;if(n==null){n="en"}var b=mobilefirst.constants.locale_hash[n];if(!b){var a=n.toLocaleLowerCase();for(var o=0;o<mobilefirst.constants.locale_list.length;o++){var j=mobilefirst.constants.locale_list[o];if(mobilefirst.utils.getSanitizedID(j.code)==mobilefirst.utils.getSanitizedID(a)){b=j.description;break}}}mobilefirst.utils.log("BRWOSER LOCALE "+q+", LICENSE LOCALE:"+n+", DATA LOCALE:"+b);if(b){c=true;isThereLicenseAttached=true;d.options.length++;var f=d[d.options.length-1];$(f).val(e[g].locale);$(f).text(b);$(f).attr("url",mobilefirst.utils.url.getDownloadUrl(e[g].url));if(e[g].locale==q&&h==-1){mobilefirst.utils.log("FOUND AT "+(d.options.length-1));h=d.options.length-1}}}}}if(h>0){var m=d.options[0];d.options[0]=d.options[h];d.options[h]=m}}if(d.options.length<2){$(".mf_download_multilanguage",this.$el).hide()}else{$(".mf_download_multilanguage",this.$el).show();d.selectedIndex=0}if(!c){var k=$("#agreementurl").attr("href");d.options.length++;var f=d[d.options.length-1];$(f).attr("url",k)}this.renderDownloadAgreement()},renderDownloadAgreement:function(){var b=this;var a=document.getElementById("mf_download_term_locale");license_option=a[a.selectedIndex];var c=$(license_option).attr("url");if(!c){c=this.model.getLicenseAgreement()[0].url;c=mobilefirst.utils.url.getDownloadUrl(c)}var b=this;$("#downloadAgreementFrame").load(function(){b.renderDownloadAgreementFromFrame()});downloadAgreementFrame.location.href=c},renderDownloadAgreementFromFrame:function(){var a=$("#downloadAgreementFrame").contents().find("body").html();$("#downloadAgreementLayer").html(a)}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.PostDownloadDivView=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"PostDownloadContainer",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.SigninOverlay=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"SigninOverlay",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},render:function(){this.$el.html(this.template());$("#ibm-register-link",this.$el).attr("href",NLS.bind("mf_overlay_register_link")+encodeURIComponent(NLS.bind("mf_signin_link")+encodeURIComponent(location.href)));setTimeout("$('#mf_signin_username').focus();",200);return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AdvancedSearchbox=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"AdvancedSearchbox",className:"fr phs advancedsearch",id:"advancedsearch",tagName:"div",defaultPlaceholder:"Search",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{"click #search":"search","click #search_remove":"searchReset","keydown #search-tags":"onKeyPress"},render:function(){var a={placeholder:this.defaultPlaceholder};this.$el.html(this.template(a));return this.$el},search:function(){$("#search-tags").val($("#search-tags").val().trim());this.gotoSearchPage()},searchReset:function(){$("#search-tags").val("");this.gotoSearchPage()},setSearchKeyword:function(a){$("#search-tags").val(a);this.renderIcon()},clearSearchTags:function(){$(".dwSearchTag").remove();$("#search-tags").val("");this.updateInput()},removeSearchTag:function(e){var a=mobilefirst.tag_id_list[e];if(!a){return}var d=document.getElementById("search-tags");var c=[];if(d.value!==""){c=d.value.split(" ")}var b=$.inArray(a,c);if(b===-1){return}c.splice(b,1);d.value=c.join(" ");$("#tag-remove-"+e).remove();this.gotoSearchPage()},validateSearchTerm:function(a){if(!a){a=document.getElementById("search-tags").value}for(var b=0;b<mobilefirst.constants.search.unsupported.length;b++){if(a.indexOf(mobilefirst.constants.search.unsupported[b])!==-1){alert(NLS.bind("mf_header_unsupporetdSearchCharactors",mobilefirst.constants.search.unsupported));return false}}return true},gotoSearchPage:function(){var a=$("#search-tags").val().trim();if(this.validateSearchTerm()){if(a!=""){mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortByKey,mobilefirst.constants.query.sortByKeyRelevance);mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortOrderKey,"");mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.searchKey,a);mobilefirst.router.searchMasterNavigate()}else{mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortByKey,"");mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortOrderKey,"");mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.searchKey,"");mobilefirst.router.searchMasterNavigate()}}else{mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortByKey,"");mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.sortOrderKey,"");mobilefirst.router.searchMasterUpdate(mobilefirst.constants.query.searchKey,"");mobilefirst.router.searchMasterNavigate()}},addSearchTagFromInput:function(){var a=document.getElementById("search-tags");if(a.value===""){return}this.addSearchTags(a.value);a.value=""},addSearchTags:function(b){var d=b.split(/[ ]+/);var a=new Array();for(var c=0;c<d.length;c++){if(d[c]!=""){this.addSearchTag(d[c]);a.push(d[c])}}this.updateInput(a)},addSearchTag:function(a){if(!this.validateSearchTerm(a)){return}var c=document.getElementById("search-tags");var b=[];if(c.value!==""){b=c.value.split(" ")}if($.inArray(a,b)>-1||a==""){return}var e=document.getElementById("advancedsearch");var f=document.getElementById("search-tags");var d=this.createTemplateTag(a);e.insertBefore(d,f);b.push(a);c.value=b.join(" ")},createTemplateTag:function(b){if(mobilefirst.tag_id_list==null){mobilefirst.tag_id_list=new Array();mobilefirst.tag_id_hash=new Array();mobilefirst.tag_id_counter=0}var f="";if(mobilefirst.tag_id_list[b]!=null){f=mobilefirst.tag_id_hash[b]}else{f=mobilefirst.tag_id_counter;mobilefirst.tag_id_counter++;mobilefirst.tag_id_list[f]=b;mobilefirst.tag_id_hash[b]=f}var a=document.createElement("span");a.id="tag-remove-"+f;a.className="tag dwSearchTag";var e=document.createElement("span");e.className="mhxs";var c=document.createElement("span");c.className="mhxs";var d=document.createTextNode(b);$(c).html('<span onClick="mobilefirst.AdvancedSearchbox.prototype.removeSearchTag('+f+')">X</span>');e.appendChild(d);a.appendChild(e);a.appendChild(c);return a},updateInput:function(b){mobilefirst.utils.log("SEARCH TAG LIST ------------");mobilefirst.utils.log(b);mobilefirst.utils.log("SEARCH TAG LIST ------------");var g=document.getElementById("search-tags");g.blur();if(b==null||b.length==0){mobilefirst.utils.log("SEARCH TAG DEFAULT PLACE HOLDER");g.placeholder=this.defaultPlaceholder}else{mobilefirst.utils.log("SEARCH TAG EMPTY PLACE HOLDER");g.placeholder=""}var e=$("#advancedsearch").width();var c=$('span[id^="tag-remove"]');var f=0;for(var d=0;d<c.length;d++){f+=c[d].offsetWidth}mobilefirst.utils.log("TAG BOX WIDTH:"+f);var a=e-f-30;if(a<50){a=e-30}$("#search-tags").width(a)},renderIcon:function(){var a=$("#search-tags").val();if(a!=""){$("#search").hide();$("#search_remove").show()}else{$("#search").show();$("#search_remove").hide()}},onKeyPress:function(b){var a=b.keyCode?b.keyCode:(b.charCode?b.charCode:b.which);if(a!=13){return}this.search()}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.IllustrationView.prototype=_.extend(mobilefirst.IllustrationView.prototype,{templatePath:"sites/common/templates/",templateName:"IllustrationTemplate",initialize:function(){this.detach();_.bindAll(this,"handleImages","renderIllustrations","renderLoadingImage");this.constructor.__super__.initialize.apply(this,arguments)},renderLoadingImage:function(){$("#wait-icon-container",this.$el).css({opacity:0.8,top:"0px",width:"600px",height:"400px"});$("#wait-icon",this.$el).css({top:(400/2),left:(600/2)})},renderIllustrations:function(){this.renderLoadingImage();var r=this.model.getIllustrations();var o=$("#imglist",this.$el);$(o).empty();$("#imginframe",this.$el).attr("src","images/additional-artwork-add-image.png");$("#imginframe",this.$el).css("width","600px");$("#imginframe",this.$el).css("height","400px");$("#imginframe",this.$el).css("margin","10px 10px 10px 15px");if(r.length>0){var u=this.getRandomInt();var j=$("#imginframe",this.$el);j.css("margin","0px");var c=mobilefirst.utils.url.getMassiveUrl(r[0].url)+"&id="+u;j.attr("src",c);var g={height:0,width:0};var d=$("#imginframediv",this.$el);var k=new Image();k.src=c;k.onload=function(){g.height=k.height;g.width=k.width};var q=new Object();var t=r[0][mobilefirst.constants.illustration.caption_prefix];q.imgId="illu0";q.imgClassName="assetimgselected";q.className="";q.illustrationId=r[0]._id;q.srcName=mobilefirst.utils.url.getMassiveUrl(r[0].url)+"&id="+u;q.altName=t||"";var e=new Backbone.Model(q);var b=new a({model:e,parent:this});var n=b.render();$(o).append(n.html());$("#illu0",this.$el).addClass("illustrationIcon");$("#imagecaption",this.$el).html(t);for(var h=1;h<r.length;h++){t=r[h][mobilefirst.constants.illustration.caption_prefix];var m=this.getRandomInt();q=new Object();q.imgId=m;q.imgClassName="assetimgnotselected illustrationclickable";q.className="nextassetimg";q.illustrationId=r[h]._id;q.srcName=mobilefirst.utils.url.getMassiveUrl(r[h].url)+"&id="+m;q.altName=t||"";var e=new Backbone.Model(q);var b=new a({model:e,parent:this});var n=b.render();$(o).append(n.html());$("#"+m,this.$el).addClass("illustrationIcon")}if(this.getMode()!=mobilefirst.constants.modes.EDIT){$(".illusdelete",this.$el).remove()}if(r.length<mobilefirst.constants.uploadIlluLimit){q=new Object();q.imgId="addMore";q.imgClassName="addmoreillu illustrationclickable";q.className="nextassetimg editonly";q.srcName="images/plus.png";q.altName="upload limit";q.illustrationId="addMoreId";var e=new Backbone.Model(q);var b=new a({model:e,parent:this});var n=b.render();$(o).append(n);$("#addMoreId",this.$el).hide()}else{$("#imguploadlink",this.$el).removeAttr("href")}this.list=o;this.handleImageSlider();$("#selector",this.$el).html($(o));if(r.length>mobilefirst.constants.sliderImages){var f=$("<img/>",{src:"images/carousel-arrow-lft.png",alt:""});var s=$("<img/>",{src:"images/carousel-arrow-rt.png",alt:""});$("#selector",this.$el).prepend($('<a href="javascript:void(0)" class="imgprevious inactivebutton">').html(f));$("#selector",this.$el).append($('<a href="javascript:void(0)" class="imgnext">').html(s))}$("#illustrationsection",this.$el).show()}},showInFrame:function(c){$("#wait-icon-container",this.$el).fadeIn();var k=$(".assetimgselected",this.$el);k.removeClass("assetimgselected");k.addClass("assetimgnotselected");k.addClass("illustrationclickable");var f=c.currentTarget;var n=f.firstChild;var m=n.id;var e=$("#"+m,this.$el);$(f).removeClass("assetimgnotselected");$(f).removeClass("illustrationclickable");$(f).addClass("assetimgselected");var d=n.src;$("#imginframe",this.$el).attr("src",n.src);var g={height:0,width:0};var j=$("#imginframe",this.$el);var b=$("#imginframediv",this.$el);var h=new Image();$("#imginframe",this.$el).load(function(){h.src=n.src;g.height=h.height;g.width=h.width;$("#wait-icon-container",this.$el).fadeOut()});if(n.alt){$("#imagecaption",this.$el).html(n.alt)}else{$("#imagecaption",this.$el).html("&nbsp;")}},handleImageSlider:function(){var b=(mobilefirst.constants.sliderImages-1);$("li",this.list).each(function(c){if(c>b){$(this).hide()}})},showNextImage:function(d){$(".imgprevious").addClass("activebutton");$(".imgprevious").removeClass("inactivebutton");var c=this;var e=0;var b=$("li",this.list).length;$("li",this.list).each(function(f){if($(this).is(":visible")){e=f+2;return false}});if(e<b-1){$("li",this.list).each(function(f){var g=e-f;if(g==2){$(this).hide();if(c.getMode()===mobilefirst.constants.modes.EDIT){$(this).next().next().next().show()}else{$nextelement=$(this).next().next().next();if(!$($nextelement).hasClass("editonly")){$($nextelement).show()}}}})}if(e==(b-4)){$(d.currentTarget).addClass("inactivebutton");$(d.currentTarget).removeClass("activebutton")}else{$(d.currentTarget).addClass("activebutton");$(d.currentTarget).removeClass("inactivebutton")}}});var a=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"IllustrationListTemplate",tagName:"li",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template(this.model.attributes));return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.TagView=mobilefirst.TemplateView.extend({templatePath:"./sites/common/templates/",templateName:"TagTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){mobilefirst.utils.log("TAG VIEW RENDER()");this.$el.html(this.template(this.model.attributes));return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.IndustryTagsView=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"IndustryTagsTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.PlatformTagsView=mobilefirst.TemplateView.extend({templatePath:"./sites/common/templates/",templateName:"PlatformTagsTemplate",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.DisplayNameOverlay=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"DisplayNameOverlay",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};mobilefirst.utils=mobilefirst.utils||{};mobilefirst.utils.loginUtils=mobilefirst.utils.loginUtils||{};mobilefirst.utils.loginUtils=_.extend(mobilefirst.utils.loginUtils,{setCurrentUser:function(b){if(mobilefirst.utils.loginUtils.isLoggedIn()){var a=mobilefirst.utils.loginUtils.getCookie("user_ma_id");mobilefirst.currentUser=new mobilefirst.Invitee({_id:a});mobilefirst.currentUser.attributes.name=mobilefirst.utils.loginUtils.getCookie("name")}}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.ErrorView=mobilefirst.TemplateView.extend({templatePath:"sites/common/templates/",templateName:"ErrorView",tagName:"div",id:"errorContainer",className:"fitContentToBrowserWindow",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template());return this.$el},setMessage:function(b,a){$("#errorMessage",this.$el).html(b);$("#errorDetails",this.$el).html(a)}})});var mobilefirst=mobilefirst||{};mobilefirst.Resource=Backbone.Model.extend({url:function(){return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.assetId+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resource.prefix+"?"+mobilefirst.constants.apiKeyStr},idAttribute:"_id",assetId:"",setAssetId:function(a){this.assetId=a}});mobilefirst.Resources=Backbone.Collection.extend({model:mobilefirst.Resource,url:function(){return mobilefirst.constants.prefix.restapiurl+mobilefirst.constants.api.contextroot+mobilefirst.constants.urlseparator+mobilefirst.constants.api.version+mobilefirst.constants.urlseparator+mobilefirst.constants.api.asset.prefix+mobilefirst.constants.urlseparator+this.assetId+mobilefirst.constants.urlseparator+mobilefirst.constants.api.resource.prefix+"?"+mobilefirst.constants.apiKeyStr},setAssetId:function(a){this.assetId=a}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.HeaderView.prototype=_.extend(mobilefirst.HeaderView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"header",parentRender:mobilefirst.HeaderView.prototype.render,render:function(a){this.parentRender(a)}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.FooterView.prototype=_.extend(mobilefirst.FooterView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"footer"})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.LeadSpaceView.prototype=_.extend(mobilefirst.LeadSpaceView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"LeadSpaceTemplate"})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.ExplorePageView.prototype=_.extend(mobilefirst.ExplorePageView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"SearchResultPageTemplate",renderAdanvedSearchbox:function(){this.advancedSearchbox=new mobilefirst.AdvancedSearchbox();$("#advancedsearchbox",this.$el).html(this.advancedSearchbox.render())},render:function(){var a=this;this.$el.html(this.template());var b=new mobilefirst.LeadSpaceView({page:"search",parent:a});b.delegateEvents();$("#leadSpaceSection",a.$el).append(b.render());this.renderFilterContent((marketplace.extension.typeField||"type"),function(c,e,d){c&&c.length&&c[0].filterValue&&c[0].filterValue.length&&$.each(c[0].filterValue,function(g,f){if(f&&!marketplace.AssetType.getAssetType(f)){marketplace.extension.insertAssetType(f,f)}})});this.renderFilterContent((marketplace.extension.versionField||"version"),function(c,e,d){c&&c.length&&c[0].filterValue&&c[0].filterValue.length&&$.each(c[0].filterValue,function(g,f){if(f&&!marketplace.VersionType.getVersionTypeById(f)){marketplace.extension.insertVersionTypes&&marketplace.extension.insertVersionTypes(f,f)}})});this.renderFilterContent((marketplace.extension.editionField||"edition"),function(c,e,d){c&&c.length&&c[0].filterValue&&c[0].filterValue.length&&$.each(c[0].filterValue,function(f,g){if(g&&!marketplace.EditionType.getEditionTypeById(g)){marketplace.extension.insertEditionTypes&&marketplace.extension.insertEditionTypes(g,g)}})});this.renderTopGuiExtension();this.renderExploreFiltersOnce=_.once(this.renderExploreFilters);this.renderLeftPaneOnce=_.once(this.renderLeftPane);this.renderAdanvedSearchbox();return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AssetListView.prototype=_.extend(mobilefirst.AssetListView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"AssetListView"})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.MyAssetView.prototype=_.extend(mobilefirst.MyAssetView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"MyAsset"})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.CreateAPIView.prototype=_.extend(mobilefirst.CreateAPIView.prototype,{templatePath:"sites/wasdev/templates/",templateName:"AssetDetailsEditor",render:function(){this.model.attributes.urlRoot=this.model.urlRoot;this.CurrentSaveTime=this.model.attributes.lastUpdatedOn;this.$el.html(this.template(this.model.attributes));this.renderBreadCrumb();this.renderHeaderBtns();this.renderAssetName();this.renderCompanyInfo();this.renderProvisionAndSecret();this.renderDescription();this.renderCompanyLink();this.renderThumbnail();this.renderIndustyTags();this.renderShortDescription();this.renderInfo();this.renderBg();this.renderIllustrationSection();this.renderUploadedDocuments();this.renderCommercialInfo();this.renderAssetType();this.renderAssetDetails();this.renderDownloadableButtons();this.renderCompatibility();this.renderEnable();this.renderToolTip();if(this.getMode()!=mobilefirst.constants.modes.EDIT){$(".viewonly",this.$el).show();$(".editonly",this.$el).hide()}else{$(".editonly",this.$el).show();$(".viewonly",this.$el).hide()}this.checkAddTagButton();var assetType=marketplace.AssetType.getAssetType(eval("this.model.attributes."+(marketplace.extension.typeField||"type")));assetType&&$("#namebox",this.$el).attr("placeholder",NLS.bind("mf_assetEditor_namePlaceHolder_"+assetType.getId()));assetType&&$("#infoboxtypevalue",this.$el).html(NLS.bind("mf_assetEditor_"+assetType.getId()));if(this.model.attributes.state===mobilefirst.constants.assetstate.awaiting_approval||this.model.attributes.state===mobilefirst.constants.assetstate.need_more_info||this.getMode()===mobilefirst.constants.modes.RESELL_APPROVAL){$("#assetstatusheader",this.$el).append(this.myAssetHeaderView.render())}var that=this;$(".inputfield",this.$el).each(function(){if(that.getMode()===mobilefirst.constants.modes.EDIT){if(this.value==""){$(this).removeClass("inputfield_active")}else{$(this).addClass("inputfield_active")}}else{$(this).attr("readonly","readonly")}});if(this.getMode()===mobilefirst.constants.modes.EDIT||this.getMode()===mobilefirst.constants.modes.PREVIEW){$("#assetheader",this.$el).show();$("#assetheader",this.$el).append(this.assetDetailsHeaderView.render());this.startIntervalInstance(this.model)}if(this.model.getState()==="published"){this.renderAssetRating()}return this.$el},renderBreadCrumb:function(){$("#back_link",this.$el).text(mobilefirst.router.getBreadCrumbTrailTitle())},renderEnable:function(){var self=this;var assetEnableView=new mobilefirst.AssetEnable({model:self.model,parent:self});assetEnableView.delegateEvents();$("#enableAssets",self.$el).append(assetEnableView.render())},renderCompatibility:function(){globalModel=this;var vanityURL="";try{vanityURL=eval("this.model.attributes."+marketplace.extension.assetPermanentURLField)}catch(e){vanityURL=""}if(vanityURL){mobilefirst.utils.getRequest("state=published&"+marketplace.extension.assetPermanentURLField+"="+vanityURL,this,function(){var max={};var min={};var assets=arguments;max.value="";min.value="";min.label="";max.label="";if(assets){for(var i=0;i<assets.length;i++){var anAsset=assets[i];try{var minTemp=eval("anAsset."+marketplace.extension.minVersionValue);if(minTemp.search(/^[2-9][0-9][0-9][0-9][.].*/)!=-1){continue}var result=mobilefirst.utils.compareTo(min.value,minTemp);if(result==1||!min.value){min.value=minTemp;try{min.label=eval("anAsset."+marketplace.extension.minVersionLabel);if(!min.label){min.label=minTemp}}catch(e){min.label=minTemp}}}catch(e){}try{var maxTemp=eval("anAsset."+marketplace.extension.maxVersionValue);var result=mobilefirst.utils.compareTo(max.value,maxTemp);if(result==-1||!max.value){max.value=maxTemp;try{max.label=eval("anAsset."+marketplace.extension.maxVersionLabel);if(!max.label){max.label=maxTemp}}catch(e){max.label=maxTemp}}}catch(e){}}if(!max&&!min){var versions=this.model.getVersions();this.formatCompatibility(versions.maxVersion,versions.minVersion)}else{this.formatCompatibility(max,min)}}})}else{var versions=this.model.getVersions();this.formatCompatibility(versions.maxVersion,versions.minVersion)}},formatCompatibility:function(max,min){if(max||min){var compatibilityField;var max_label=max.label;var min_label=min.label;if(max.value==null){max.value=""}if(min.value==null){min.value=""}if(!max_label||max_label==""){max_label=max.value}if(!min_label||min_label==""){min_label=min.value}var result=mobilefirst.utils.compareTo(max.value,min.value);if(max_label!=""&&min_label!=""){switch(result){case 0:compatibilityField=NLS.bind("mf_asset_compatibility_version_same",max_label);break;case 1:compatibilityField=NLS.bind("mf_asset_compatibility_version_both",min_label,max_label);break;case -1:compatibilityField=NLS.bind("mf_asset_compatibility_version_min",min_label);break}}else{if(max_label!=""){compatibilityField=NLS.bind("mf_asset_compatibility_version_same",max_label)}else{if(min_label!=""){compatibilityField=NLS.bind("mf_asset_compatibility_version_min",min_label)}else{result=9}}}compatibilityField=NLS.bind("mf_asset_compatibiilty_version_heading")+compatibilityField;compatibility=mobilefirst.utils.limitField(compatibilityField,mobilefirst.constants.fieldlimits.COMPATIBILITY);$("#infoboxprerequisites .mts").removeAttr("aria-hidden");if(result!=9){$("#informationplatformrequirements .mts",this.$el).html(compatibility);$("#infoboxprerequisites .mts",this.$el).show()}else{$("#infoboxprerequisites .mts",this.$el).hide()}$("#informationplatformrequirements .eds",this.$el).html(NLS.bind("mf_asset_compatibiilty_edition_heading")+this.model.getAppliesToEditions());this.model.getAppliesToJavaVersions()&&$("#informationplatformrequirements .jvs",this.$el).html(NLS.bind("mf_asset_compatibiilty_java_version_heading")+this.model.getAppliesToJavaVersions());$("#infoboxprerequisites",this.$el).show()}},renderProvisionAndSecret:function(){try{var assetType=marketplace.AssetType.getAssetType(eval("this.model.attributes."+(marketplace.extension.typeField||"type")));if(assetType&&assetType.isServiceOffering()){$("#provision_and_secret",this.$el).show()}else{$("#provision_and_secret",this.$el).hide()}}catch(e){}},renderDownloadableButtons:function(){var index=this.getDownloadableIndex();if(this.model.isDownloadable()){$("#dloadlink",this.$el).attr("href",this.getDownloadableUrl());$("#downloadlink",this.$el).show();$("#uloadbutton",this.$el).hide();$("#delbutton",this.$el).hide()}else{$("#dloadlink",this.$el).attr("href","");$("#downloadlink",this.$el).hide();$("#uloadbutton",this.$el).hide();$("#delbutton",this.$el).hide()}mobilefirst.utils.log("license type:"+this.model.getLicenseType());if(this.model.getLicenseType()==marketplace.extension.licenseType_UNSPECIFIED){setTimeout("$('#agreementlink').text(NLS.bind('mf_asset_view_license_UNSPECIFIED'));")}else{setTimeout("$('#agreementlink').text(NLS.bind('mf_asset_view_license_NORMAL'));")}},showPurchaseDialog:function(event,alreadyPurchasedPlans){var user=mobilefirst.utils.loginUtils.getCurrentUser();if(user){if(typeof cm_showPurchaseDialog!=="undefined"){cm_showPurchaseDialog(this.model.id,this.model.attributes.name)}$("#overlayforpurchase").show();$("#purchase_container").show();this.license=this.model.attributes.licenses[0];$("#puchase_content",this.$el).html("");var purchaseDialogView=new PurchaseDialogView({parent:this});$("#puchase_content",this.$el).append(purchaseDialogView.render());if(!marketplace.AssetType.getAssetType(this.model.attributes.type).isServiceOffering()){$("#headermessage",this.$el).html(NLS.bind("mf_asset_to_purchase",this.model.attributes.provider.name));$("#interestedMessage",this.$el).html(NLS.bind("mf_asset_let_are_interested",this.license.salesContact.name,""));$("#planbox",this.$el).hide();$("#messagebox",this.$el).attr("placeholder",NLS.bind("mf_asset_leave_message",this.license.salesContact.name)).show();$("#sendRequest",this.$el).show();$("#sendPlanRequest",this.$el).hide();$("#plan1",this.$el).hide();$("#plan2",this.$el).hide();$("#plan3",this.$el).hide()}else{$("#messagebox",this.$el).hide();$("#planbox",this.$el).show();$("#sendRequest",this.$el).hide();$("#sendPlanRequest",this.$el).show();if(!alreadyPurchasedPlans){$("#plan1",this.$el).attr("value",this.license.salesContact.name);$("#plan1text",this.$el).text(this.license.salesContact.name);$("#plan2",this.$el).attr("value",this.license.salesContact.email);$("#plan2text",this.$el).text(this.license.salesContact.email);$("#plan3",this.$el).attr("value",this.license.salesContact.phone);$("#plan3text",this.$el).text(this.license.salesContact.phone)}else{$("#plan1",this.$el).attr("value",this.license.salesContact.name);$("#plan1text",this.$el).text(this.license.salesContact.name);if(alreadyPurchasedPlans.indexOf(this.license.salesContact.name)!=-1){$("#plan1",this.$el).prop("checked",true).attr("disabled",true)}$("#plan2",this.$el).attr("value",this.license.salesContact.email);$("#plan2text",this.$el).text(this.license.salesContact.email);if(alreadyPurchasedPlans.indexOf(this.license.salesContact.email)!=-1){$("#plan2",this.$el).prop("checked",true).attr("disabled",true)}$("#plan3",this.$el).attr("value",this.license.salesContact.phone);$("#plan3text",this.$el).text(this.license.salesContact.phone);if(alreadyPurchasedPlans.indexOf(this.license.salesContact.phone)!=-1){$("#plan3",this.$el).prop("checked",true).attr("disabled",true)}}$("#headermessage",this.$el).html(NLS.bind("mf_asset_select_plan_to_purchase",this.model.attributes.provider.name));$("#interestedMessage",this.$el).html(NLS.bind("mf_asset_let_select_plan",this.license.salesContact.name,this.model.attributes.name))}}else{if($("#signin").is(":visible")){$("#signin").click();this.listenTo(Backbone,"signin",this.showPurchaseDialog)}}}});var PurchaseDialogView=mobilefirst.TemplateView.extend({templateName:"PurchaseDialog",tagName:"div",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);_.bindAll(this,"render")},events:{},render:function(){this.$el.html(this.template());return this.$el}})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AssetEnable=mobilefirst.TemplateView.extend({templatePath:"./sites/wasdev/templates/",templateName:"AssetEnableTemplate",tagName:"div",id:"enableAssetContainer",initialize:function(){this.constructor.__super__.initialize.apply(this,arguments);this.links=this.model.attributes.wlpInformation.links;_.bindAll(this,"render","renderEnables")},events:{},formulateQuery:function(linkQuery){var paramList=[];paramList.push("state=published");paramList.push(linkQuery);return paramList.join("&")},renderEnables:function(){var self=this;$.each(this.links,function(i,link){var assetsAlreadySeen={},linkLabel=link.label,linkLabelProperty=link.linkLabelProperty,linkLabelPrefix=link.linkLabelPrefix,linkLabelSuffix=link.linkLabelSuffix;link.query&&$.each(link.query,function(j,linkQuery){mobilefirst.utils.getRequest(self.formulateQuery(linkQuery),self,function(){var assetsInLink=arguments;assetsInLink&&(assetsInLink.length>0)&&self.findVisibleAssets(assetsInLink,linkLabel,linkLabelProperty,linkLabelPrefix,linkLabelSuffix,assetsAlreadySeen)})})})},findVisibleAssets:function(assets,linkLabel,linkLabelProperty,linkLabelPrefix,linkLabelSuffix,assetsAlreadySeen){var self=this;$.each(assets,function(idx,asset){if(!assetsAlreadySeen[asset._id]){assetsAlreadySeen[asset._id]=true;if(asset.wlpInformation.webDisplayPolicy==="VISIBLE"){self.createLink(asset,linkLabel,linkLabelProperty,linkLabelPrefix,linkLabelSuffix)}else{var links=asset.wlpInformation.links;links&&$.each(links,function(j,link){if(linkLabel===link.label){link.query&&$.each(link.query,function(k,linkQuery){mobilefirst.utils.getRequest(self.formulateQuery(linkQuery),self,function(){var assetsInLink=arguments;assetsInLink&&self.findVisibleAssets(assetsInLink,linkLabel,linkLabelProperty,linkLabelPrefix,linkLabelSuffix,assetsAlreadySeen)})})}})}}})},createLink:function(asset,linkLabel,linkLabelProperty,linkLabelPrefix,linkLabelSuffix){if(typeof linkLabelPrefix=="undefined"||linkLabelPrefix==null){linkLabelPrefix=""}if(typeof linkLabelSuffix=="undefined"||linkLabelSuffix==null){linkLabelSuffix=""}$("#ibm-wasdev-related-assets-title",this.$el).removeClass("dn");var enableLinkHref="#asset/"+eval("asset."+marketplace.extension.assetPermanentURLField);var enableLinkLabel=mobilefirst.utils.deref(asset,linkLabelProperty);var linkId="link-"+linkLabel.toLowerCase().replace(/(\s|\(|\))/g,"");var sel=$("#"+linkId,this.$el);if(sel&&sel.length==0){$("#ibm-wasdev-related-assets-title",this.$el).after('<div id="'+linkId+'"><span>'+linkLabel+": </span></div>");sel=$("#"+linkId,this.$el)}if(sel&&sel.length>0){(sel.find("a").length>0)&&sel.append(", ");sel.append('<a href="'+enableLinkHref+'">'+linkLabelPrefix+enableLinkLabel+linkLabelSuffix+"</a>")}},render:function(){if(!this.links){return}this.$el.html(this.template());this.renderEnables();return this.$el}})});Globalize.addCultureInfo("en",{messages:_.extend(dWSite_common_en_message,{enable_related_assets:"Related Assets",enable_enabled_by:"Enabled By: ",enable_enables:"Enables: ",tooltip_FEATURE:"Individual units of server functionality that can be installed into the Liberty runtime environment.",tooltip_ADDON:"Artifacts that are packaged to add new capabilities over an existing Liberty installation.",tooltip_PRODUCT_SAMPLE:"Sample server applications that demonstrate the use of Liberty runtime capabilities.",tooltip_OPEN_SOURCE_INTEGRATION:"Artifacts that provide simple Liberty integration with commonly used open source projects.",tooltip_TOOL:"Tools to enable development and test of Liberty-based applications and runtime extensions.",tooltip_CONFIG_SNIPPET:"Samples of Liberty server configurations for specific tasks.",tooltip_ADMIN_SCRIPT:"Sample scripts for common Liberty administrative tasks.",tooltip_PRODUCT:"Simple archive installation packages of the Liberty profile server runtime environment."})});var mobilefirst=mobilefirst||{};var productDefaults=mobilefirst.Product.prototype.defaults;mobilefirst.Product.prototype=_.extend(mobilefirst.Product.prototype,{defaults:_.extend(productDefaults,{wlpInformation:{type:"",links:""},attachments:[{name:"",type:"",size:"",contentType:"",url:"",linkType:"",licenseId:"",locale:"en",authentication:"NONE"}]}),getDownloadableLinkType:function(){var a;_.filter(this.attributes.attachments,function(b){if(b.type==mobilefirst.constants.attachmenttype.CONTENT){a=b.linkType}});return a},getLicenseType:function(){return this.attributes.licenseType},isDownloadable:function(){var downloadPolicy="";try{downloadPolicy=eval("this.attributes."+marketplace.extension.downloadableField)}catch(e){}downloadPolicy+="";mobilefirst.utils.log("DOWNLOAD POLICY:"+downloadPolicy);return marketplace.extension.downloadableField_allowList[downloadPolicy]},getAppliesToEditions:function(){var editions="";try{editions=eval("this.attributes."+marketplace.extension.appliesToEditions);editions=editions.join(", ")}catch(e){editions="All"}return editions},getAppliesToJavaVersions:function(){var javaVersions=null;try{javaVersions=eval("this.attributes."+marketplace.extension.appliesToJavaVersions)}catch(e){javaVersions=null}return javaVersions},getVersions:function(){var max={};var min={};max.value="";max.label="";min.value="";min.label="";try{max.value=eval("this.attributes."+marketplace.extension.maxVersionValue);try{max.label=eval("this.attributes."+marketplace.extension.maxVersionLabel);if(!max.label){max.label=max.value}}catch(e){max.label=max.value}}catch(e){max.value=null}try{min.value=eval("this.attributes."+marketplace.extension.minVersionValue);try{min.label=eval("this.attributes."+marketplace.extension.minVersionLabel);if(!min.label){min.label=min.value}}catch(e){min.label=min.value}}catch(e){min.value=null}return{minVersion:min,maxVersion:max}}});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.AdvancedSearchbox.prototype=_.extend(mobilefirst.AdvancedSearchbox.prototype,{defaultPlaceholder:"Search"})});var mobilefirst=mobilefirst||{};$(function(){mobilefirst.Router=Backbone.Router.extend({currView:null,routes:function(){var a=new marketplace.Events();a.addHandler(new marketplace.RouteHandler("",this.explore));a.addHandler(new marketplace.RouteHandler("home",this.explore));a.addHandler(new marketplace.RouteHandler("filter/(:query)",this.searchMaster));a.addHandler(new marketplace.RouteHandler("asset/:id",this.viewAssetDetailsPermanent));a.addHandler(new marketplace.RouteHandler("view/:id",this.viewAssetDetails));a.addHandler(new marketplace.RouteHandler("wasdev/view/:id",this.viewAssetDetailsRedirect));a.addHandler(new marketplace.RouteHandler("*path",this.notFound));var c=marketplace.extension.router.getEventHandlers();for(var b=0;b<c.length;b++){a.addHandler(c[b])}return a},initialize:function(){this.routesHit=0;Backbone.history.on("route",function(){this.routesHit++},this);language=window.navigator.userLanguage||window.navigator.language;NLS.setLocale(language);mobilefirst.utils.loginUtils.setCurrentUser(mobilefirst.utils.loginUtils.setMarketplaceId);$("#sitemap_container").hide();mobilefirst.headerView=new mobilefirst.HeaderView();mobilefirst.headerView.render();mobilefirst.footerView=new mobilefirst.FooterView();mobilefirst.footerView.render()},back:function(){if(this.routesHit>1){window.history.back()}else{this.navigate("",{trigger:true,replace:true})}},getBreadCrumbTrailTitle:function(){if(this.routesHit>1){return"BACK"}else{return"ALL ASSETS"}},home:function(a){if(mobilefirst.constants.publicpages.nologin){}else{if(!mobilefirst.utils.loginUtils.isLoggedIn()){mobilefirst.router.navigate("#login",true);return}}var b=new mobilefirst.Featured();b.fetch({success:function(){mobilefirst.headerView.render(a);mobilefirst.router.setHeaderFooterStyle(mobilefirst.constants.hfstyle.SHOW_TRANSPARENT);mobilefirst.homeView=new mobilefirst.HomeView({model:b});mobilefirst.router.showView(mobilefirst.homeView);if(typeof cm_home!=="undefined"){cm_home()}},error:function(e,c,d){mobilefirst.router.handleError(c,"#login",false,"Error fetching featured assets")}})},explore:function(){this.explorer_init();mobilefirst.explorePageView.renderSortMenuByFeature(false);mobilefirst.explorePageView.renderSortMenuByRelevance(false);mobilefirst.explorePageView.advancedSearchbox.setSearchKeyword("");mobilefirst.explorePageView.clearFilterSelection();mobilefirst.explorePageView.hideFilterReset();mobilefirst.searchResults.setQueryString("");mobilefirst.searchResults.setFilters(new mobilefirst.utils.filters());if(marketplace.extension.featureWeightRenderMethod=="CHECK"){var b=new mobilefirst.SearchResults();b.setFeatureWeight("1|2|3|4|5|6|7|8|9");b.setSearchLimit(1);b.setSearchOffset(0);var a=this;var c=b.fetch({reset:true,beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(e){var d=false;_.each(e.models,function(g,f){if(g.id){d=true}});mobilefirst.utils.log("FEATURE ASSET FOUND:"+d);mobilefirst.explorePageView.renderSortMenuByFeature(d);if(d){a.explorer_render(mobilefirst.constants.query.sortByKeyFeatured,mobilefirst.constants.query.sortOrderKeyDesc)}else{a.explorer_render(mobilefirst.constants.query.sortByKeyDate,mobilefirst.constants.query.sortOrderKeyDesc)}},error:function(f,d,e){mobilefirst.explorePageView.renderSortMenuByFeature(false);a.explorer_render(mobilefirst.constants.query.sortByKeyDate,mobilefirst.constants.query.sortOrderKeyDesc)}})}else{if(marketplace.extension.featureWeightRenderMethod=="SHOW"){mobilefirst.explorePageView.renderSortMenuByFeature(true);this.explorer_render(mobilefirst.constants.query.sortByKeyFeatured,mobilefirst.constants.query.sortOrderKeyDesc)}else{mobilefirst.explorePageView.renderSortMenuByFeature(false);this.explorer_render(mobilefirst.constants.query.sortByKeyDate,mobilefirst.constants.query.sortOrderKeyDesc)}}},explorer_render:function(a,b){mobilefirst.searchResults.setSearchLimit(mobilefirst.constants.searchResultPageLimit);mobilefirst.searchResults.setSearchOffset(0);mobilefirst.searchResults.setSortMethod(a);mobilefirst.searchResults.setSortOrder(b);mobilefirst.explorePageView.renderSearchResults();mobilefirst.explorePageView.renderSortMenu()},explorer_init:function(){$("#mf_showMore").hide();if(mobilefirst.searchResults==null){mobilefirst.searchResults=new mobilefirst.SearchResults()}if(mobilefirst.explorePageView==null||!mobilefirst.explorePageView.active){mobilefirst.explorePageView=new mobilefirst.ExplorePageView({model:mobilefirst.searchResults});mobilefirst.searchResults.setMarketplaceId(mobilefirst.marketplaceId);mobilefirst.router.showView(mobilefirst.explorePageView)}},handleError:function(b,c,a,d){switch(b.status){case 400:this.showErrorMessage("We seemed to have misplaced the asset you were looking for!","ERROR "+b.status);break;default:this.showErrorMessage("We seemed to have misplaced the page you were looking for!","ERROR "+b.status);break}},assetdetails:function(b){if(!mobilefirst.utils.loginUtils.isLoggedIn()){this.relogin();return}var a=new mobilefirst.Product({_id:b});mobilefirst.router.setHeaderFooterStyle(mobilefirst.constants.hfstyle.ONLY_FOOTER);a.fetch({success:function(f,d,e){var c=mobilefirst.utils.loginUtils.getCookie("user");if(a.attributes.createdBy.id===mobilefirst.utils.loginUtils.getUser()){if(a.attributes.state===mobilefirst.constants.assetstate.published||a.attributes.state===mobilefirst.constants.assetstate.awaiting_approval){mobilefirst.router.navigate("#"+marketplace.extension.context+"/view/"+a.id,true);return}mobilefirst.assetDetailsEditorView=new mobilefirst.CreateAPIView({model:a,mode:mobilefirst.constants.modes.EDIT});mobilefirst.router.showView(mobilefirst.assetDetailsEditorView)}else{mobilefirst.assetDetailsErrorView=new mobilefirst.AssetDetailsErrorView();mobilefirst.router.showView(mobilefirst.assetDetailsErrorView)}if(typeof cm_assetdetails!=="undefined"){cm_assetdetails()}},error:function(e,c,d){mobilefirst.router.handleError(c,"#login",true,"Not logged in")}})},viewAssetDetailsPermanent:function(f){try{if(marketplace.extension.PermanentURLMapping[f]){f=marketplace.extension.PermanentURLMapping[f];mobilefirst.router.navigate("#asset/"+f,true);return}}catch(d){}var b=new mobilefirst.SearchResults();b.setAssetPermanentURL(f);var a=this;var c=b.fetch({reset:true,beforeSend:mobilefirst.constants.apiKeyBeforeSend,success:function(g){mobilefirst.utils.log(g);var e=false;_.each(g.models,function(j,h){if(!e&&j.id){e=true;a.viewAssetDetails(j.id)}});if(!e){a.viewAssetDetails(f)}},error:function(h,e,g){mobilefirst.utils.log("Asset Fetching Error");a.viewAssetDetails(f)}})},viewAssetDetailsRedirect:function(a){mobilefirst.router.navigate("#view/"+a,true)},viewAssetDetails:function(c){if(mobilefirst.constants.publicpages.nologin){}else{if(!mobilefirst.utils.loginUtils.isLoggedIn()){this.relogin();return}}var a=this;var b=new mobilefirst.Product({_id:c});b.fetch({success:function(){mobilefirst.router.setHeaderFooterStyle(mobilefirst.constants.hfstyle.SHOW_BLACK);mobilefirst.assetDetailsEditorView=new mobilefirst.CreateAPIView({model:b,mode:mobilefirst.constants.modes.VIEW});mobilefirst.router.showView(mobilefirst.assetDetailsEditorView);if(typeof cm_viewAssetDetails!=="undefined"){cm_viewAssetDetails()}},error:function(f,d,e){mobilefirst.router.handleError(d,"#login",true,"Not logged in")}})},searchMaster:function(m){var r=this;mobilefirst.utils.log("QUERY: "+m);var q=new Array();var d=false;if(m&&m!=""){var g=m.split(mobilefirst.constants.query.sectionDelimiter);for(var e=0;e<g.length;e++){var n=g[e];if(n.indexOf(mobilefirst.constants.query.keypairDelimiter)>-1){var k=n.split(mobilefirst.constants.query.keypairDelimiter);q[k[0]]=decodeURIComponent(k[1]);d=true}}}mobilefirst.utils.log(q);this.fieldList=q;var a=q[mobilefirst.constants.query.searchKey];var j=true;this.explorer_init();if(marketplace.extension.explore.assetTypeFilters==0){setTimeout(function(){r.searchMaster(m)},500);return}if(!d){mobilefirst.router.explore();return}if(a==mobilefirst.constants.search.reservedForEmpty||a==null){a=""}a=$.trim(a);mobilefirst.searchResults.setQueryString(a);mobilefirst.searchResults.setFilters(new mobilefirst.utils.filters());var h=q[mobilefirst.constants.query.assetTypeKey];if(h){mobilefirst.searchResults.setAssetTypeID(h)}else{mobilefirst.searchResults.setAssetTypeID("")}mobilefirst.searchResults.resetFilters();for(key in q){if(key.indexOf("Filters")>-1){mobilefirst.searchResults.addFilter(key.replace("Filters",""),q[key]);j=false}}var o=q[mobilefirst.constants.query.sortByKey];var b=q[mobilefirst.constants.query.sortOrderKey];if(o==""||!o){o=mobilefirst.constants.query.sortByKeyFeatured;b=mobilefirst.constants.query.sortOrderKeyDesc}if(b!=mobilefirst.constants.query.sortOrderKeyAsc&&b!=mobilefirst.constants.query.sortOrderKeyDesc){if(o==mobilefirst.constants.query.sortByKeyName){b=mobilefirst.constants.query.sortOrderKeyAsc}else{if(o!=""){b=mobilefirst.constants.query.sortOrderKeyDesc}}}if(o&&o!=""){q[mobilefirst.constants.query.sortByKey]=o;q[mobilefirst.constants.query.sortOrderKey]=b}mobilefirst.searchResults.setSortMethod(o);mobilefirst.searchResults.setSortOrder(b);mobilefirst.searchResults.setSearchLimit(mobilefirst.constants.searchResultPageLimit);mobilefirst.searchResults.setSearchOffset(0);mobilefirst.explorePageView.renderSearchResults();var c=q[mobilefirst.constants.query.viewModeKey];if(c==mobilefirst.constants.query.viewModeTitle){mobilefirst.explorePageView.changeToTileView()}else{mobilefirst.explorePageView.changeToListView()}mobilefirst.explorePageView.renderSortMenu();mobilefirst.explorePageView.renderSortMenuByRelevance(a&&a!="");mobilefirst.explorePageView.advancedSearchbox.setSearchKeyword(a);mobilefirst.explorePageView.clearFilterSelection();var f=false;for(key in q){if(key.indexOf("Filters")>-1){mobilefirst.explorePageView.renderFilterSelection(key,q[key]);f=true}}if(f){mobilefirst.explorePageView.showFilterReset()}else{mobilefirst.explorePageView.hideFilterReset()}mobilefirst.explorePageView.updateAssetCounts()},searchMasterGetParam:function(a){if(!this.fieldList){this.fieldList=new Array()}return this.fieldList[a]},searchMasterGetParamList:function(){if(!this.fieldList){this.fieldList=new Array()}return this.fieldList},searchMasterGetParamIncluded:function(a,b){if(!this.fieldList){this.fieldList=new Array()}if(this.fieldList[a]){return this.fieldList[a].indexOf(b)>-1}else{return false}},searchMasterUpdate:function(a,b){if(!this.fieldList){this.fieldList=new Array()}this.fieldList[a]=b},searchMasterNavigate:function(d,f){mobilefirst.explorePageView.pageReset();if(d){this.searchMasterUpdate(d,f)}var a=new Array();for(d in this.fieldList){var e=this.fieldList[d];if(e&&e!=null){a.push(d+mobilefirst.constants.query.keypairDelimiter+encodeURIComponent(e))}}var c="filter/"+a.join(mobilefirst.constants.query.sectionDelimiter);if(this.navigateTimer){clearTimeout(this.navigateTimer)}var b=this;this.navigateTimer=setTimeout(function(){b.searchMasterNavigateDelay(c)},200)},searchMasterNavigateDelay:function(a){if(a==Backbone.history.fragment){Backbone.history.loadUrl(a)}else{mobilefirst.router.navigate(a,{trigger:true})}},searchMasterNavigateCombine:function(b,h,f){if(!this.fieldList){this.fieldList=new Array()}var e=this.fieldList[b];if(!e){e=""}var d=e.split(mobilefirst.constants.query.valueDelimiter);var g=new Array();for(var a=0;a<d.length;a++){g[d[a]]=true}g[h]=f;var c=new Array();for(p in g){if(p&&p!=""&&g[p]){c.push(p)}}this.searchMasterNavigate(b,c.join(mobilefirst.constants.query.valueDelimiter))},showView:function(a){this.clearSetIntervals();a.active=true;var b=this.currView;$("#mf_content").html(a.render());this.currView=a;this.setContentLayout(a);if(b!=undefined){b.destroy();b.active=false}$("html, body").scrollTop(0);$("input, textarea").managePlaceholder()},clearSetIntervals:function(){if(mobilefirst.slideInterval){clearInterval(mobilefirst.slideInterval)}if(mobilefirst.lastSavedInterval){clearInterval(mobilefirst.lastSavedInterval)}},setContentLayout:function(a){var b=$(window).height()-$("#headerView").height()-$("#footerView").height();if(!$("#footerView").hasClass("footerViewHidden")){b-=10}$(".fitContentToBrowserWindow").css("min-height",b);var c=($(document).width()-1024)/2;if(a&&a.loadOnReady&&a.loadOnReady instanceof Function){a.loadOnReady()}$(window).resize(this.setContentLayout)},showHeader:function(){$("#headerView").show()},setHeaderFooterStyle:function(a){switch(a){case mobilefirst.constants.hfstyle.HIDE:$(".headerView").addClass("headerViewHidden");$(".headerView").removeClass("headerViewDefault");$(".headerView").hide();$(".footerView").addClass("footerViewHidden");$(".footerView").removeClass("headerViewDefault");$(".footerView").hide();break;case mobilefirst.constants.hfstyle.SHOW_BLACK:$("#headerView").addClass("headerViewDefault");$("#headerView").addClass("headerView");$("#headerView").removeClass("headerTransparentView");$(".headerView").removeClass("headerViewHidden");$(".headerView").show();$(".footerView").addClass("footerViewDefault");$(".footerView").removeClass("footerViewHidden");$(".footerView").show();$("#searchbox").css("background-color","#5E6C72");$("#searchbox").css("border","0px");$(".mf_centercontainer").show();$(".mp_join").show();$(".headerline").show();this.showHeader();break;case mobilefirst.constants.hfstyle.SHOW_TRANSPARENT:$(".headerView").addClass("headerTransparentView");$("#headerView").removeClass("headerView");$("#headerView").removeClass("headerViewDefault");$(".headerView").removeClass("headerViewHidden");$(".headerView").show();$(".footerView").addClass("footerViewDefault");$(".footerView").removeClass("footerViewHidden");$(".footerView").show();$(".mf_centercontainer").show();$(".mp_join").show();$(".headerline").show();this.showHeader();break;case mobilefirst.constants.hfstyle.NO_EXPLORE:$(".headerView").addClass("headerViewDefault");$(".headerView").removeClass("headerViewHidden");$(".headerView").show();$(".footerView").addClass("footerViewDefault");$(".footerView").removeClass("footerViewHidden");$(".footerView").show();$(".mf_centercontainer").hide();$(".mp_join").hide();$(".headerline").hide();this.showHeader();break;case mobilefirst.constants.hfstyle.ONLY_FOOTER:$(".headerView").addClass("headerViewHidden");$(".headerView").removeClass("headerViewDefault");$(".headerView").hide();$(".footerView").addClass("footerViewDefault");$(".footerView").removeClass("footerViewHidden");$(".footerView").show();break;default:$(".headerView").addClass("headerViewHidden");$(".headerView").removeClass("headerViewDefault");$(".headerView").show();$(".footerView").addClass("footerViewDefault");$(".footerView").removeClass("footerViewHidden");$(".footerView").show();$(".mf_centercontainer").show();$(".mp_join").show();$(".headerline").show();this.showHeader()}},notFound:function(b,a){this.showErrorMessage("We seemed to have misplaced the page you were looking for!","ERROR 404")},showErrorMessage:function(b,a){if(!mobilefirst.errorView){mobilefirst.errorView=new mobilefirst.ErrorView()}mobilefirst.router.showView(mobilefirst.errorView);mobilefirst.errorView.setMessage(b,a)}});mobilefirst.router=new mobilefirst.Router();Backbone.history.start()});