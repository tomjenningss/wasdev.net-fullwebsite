<!DOCTYPE html>
<html lang="en-US">
<head>
	<!-- SITE MON : START (DO NOT DELETE) -->
	<!-- developerWorks monitoring token -->
	<!-- SITE MON : END (DO NOT DELETE) -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- v18 meta -->
	<meta name="geo.country" content="ZZ" />
	<meta name="dcterms.rights" content="© Copyright IBM Corp. 2016" />
	<meta name="dcterms.date" content="2016-07-18" />
	<meta name="keywords" content="microservices," />
	<meta name="robots" content="index, follow" />
	<link rel="shortcut icon" href="https://www.ibm.com/favicon.ico" />

		<!-- end of v18 meta -->

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://developer.ibm.com/wasdev/xmlrpc.php">
<script>
		 digitalData = {
		  "page":{
		    "category":{
		      "primaryCategory":"SOFDCWSVZZ",		      "ibm":[

		      ]
		    },
		    "pageInfo":{
		      "effectiveDate":"2016-07-18",
		      "expiryDate":"2020-07-18",
		      "language":"en-US",
		      "publishDate":"2017-03-15",
		      "publisher":"IBM Corporation",
		      "version":"v18",
		      "pageID":"",
		      "ibm":{
						"contentDelivery":"HTML",
		        "contentProducer":"IBM Northstar Template Generator 2.0",
		        "country":"ZZ",
		        "industry":"ZZ",
		        "owner":"Jamie Pickett\/Boulder\/IBM",
		        "siteID":"DWNEXT",
						"subject":"SW700",
		        "type":"SW700",
		        "cmClientID":"50200000| DWNEXT",
		        "encoding":"utf8",
		        "encodingRaw":"utf-8",
		        "title":"New enhancements to Liberty&#8217;s OpenAPI support",
						"contentType": "post",
						"wpid":"9",
						"topics":"microservices,",
						"contentArea": "Blog"
		      },
		      "metrics":[

		      ],
		      "keywords":"microservices,",
		      "description":"New enhancements to Liberty&#8217;s OpenAPI support"
		    },
		    "attributes":[

		    ],
		  },
		  "event_coordinator":[

		  ],
		  "isLoaded":true,
		  "user":{
		    "profile":[

		    ],
		    "segment":{

		    }
		  }
		};
	 </script>
<title>New enhancements to Liberty&#039;s OpenAPI support - WASdev</title>

<!-- This site is optimized with the Yoast SEO plugin v9.0.2 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="WebSphere Liberty&#039;s API discovery for exposing REST APIs. Now added: access the UI and documents without SSL or basic authentication and customize the look-and-feel of the UI."/>
<link rel="canonical" href="index.html%3Fp=21951.html" />
<link rel="publisher" href="https://plus.google.com/u/0/+WASdevNet"/>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='https://1.www.s81c.com/' />
<link rel='dns-prefetch' href='https://www.ibm.com/' />
<link rel='dns-prefetch' href='https://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Feed" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Comments Feed" href="comments/feed/index.html" />
<meta name="segment" property="developerWorks (developerWorks)" productTitle="developerWorks" value="WASdev (developerWorks)">
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; New enhancements to Liberty&#8217;s OpenAPI support Comments Feed" href="blog/2017/03/15/new-enhancements-libertys-openapi-support/feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"\/\/dw1.s81c.com\/dw\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='events-manager-css'  href='wp-content/plugins/events-manager/includes/css/events_manager.css' type='text/css' media='all' />
<link rel='stylesheet' id='tab-styles-css'  href='wp-content/plugins/projectnext-shortcodes/tab-styles.css' type='text/css' media='all' />
<link rel='stylesheet' id='cntctfrm_form_style-css'  href='wp-content/plugins/contact-form-plugin/css/form_style.css' type='text/css' media='all' />
<link rel='stylesheet' id='rotatingtweets-css'  href='wp-content/plugins/rotatingtweets/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='dwboomer-style-css'  href='wp-content/themes/boomer-v18/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='wp-includes/css/dashicons.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='pagepost_css-css'  href='wp-content/themes/boomer-v18/css/pagepost.css' type='text/css' media='all' />
<link rel='stylesheet' id='pnext.utils-css'  href='wp-content/themes/boomer-v18/css/pnext.utils.css' type='text/css' media='all' />
<link rel='stylesheet' id='uploaded_css-css'  href='wp-content/uploads/sites/9/2015/03/wasdev.css' type='text/css' media='screen' />
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/www.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/dyntabs.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/masonry.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/core.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/widget.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/position.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/mouse.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/sortable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/datepicker.min.js'></script>
<script type='text/javascript'>
jQuery(document).ready(function(jQuery){jQuery.datepicker.setDefaults({"closeText":"Close","currentText":"Today","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nextText":"Next","prevText":"Previous","dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["S","M","T","W","T","F","S"],"dateFormat":"MM d, yy","firstDay":1,"isRTL":false});});
</script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/menu.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/wp-a11y.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var uiAutocompleteL10n = {"noResults":"No results found.","oneResult":"1 result found. Use up and down arrow keys to navigate.","manyResults":"%d results found. Use up and down arrow keys to navigate.","itemSelected":"Item selected."};
/* ]]> */
</script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/autocomplete.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/resizable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/draggable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/button.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/dialog.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var EM = {"ajaxurl":"https:\/\/developer.ibm.com\/wasdev\/wp-admin\/admin-ajax.php","locationajaxurl":"https:\/\/developer.ibm.com\/wasdev\/wp-admin\/admin-ajax.php?action=locations_search","firstDay":"1","locale":"en","dateFormat":"dd\/mm\/yy","ui_css":"https:\/\/developer.ibm.com\/wasdev\/wp-content\/plugins\/events-manager\/includes\/css\/jquery-ui.min.css","show24hours":"1","is_ssl":"1","txt_search":"Search","txt_searching":"Searching...","txt_loading":"Loading..."};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/events-manager/includes/js/events-manager.js'></script>
<script type='text/javascript' src='wp-content/plugins/projectnext-shortcodes/tab-dropdown.js'></script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/pnext.utils.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/stats/ida_stats.js'></script>
<link rel='https://api.w.org/' href='wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.ibm.com/wasdev/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.9" />
<link rel='shortlink' href='index.html%3Fp=21951.html' />
<link rel="alternate" type="application/json+oembed" href="https://developer.ibm.com/wasdev/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fblog%2F2017%2F03%2F15%2Fnew-enhancements-libertys-openapi-support%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.ibm.com/wasdev/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fblog%2F2017%2F03%2F15%2Fnew-enhancements-libertys-openapi-support%2F&#038;format=xml" />
<link rel='https://github.com/WP-API/WP-API' href='https://developer.ibm.com/wasdev/wp-json' />
<style type="text/css" id="syntaxhighlighteranchor"></style>
		<style type="text/css" id="wp-custom-css">
			.videoWrapper {
	position: relative;
	padding-bottom: 56.25%;
/* 16:9 */
	padding-top: 25px;
	height: 0;
}

.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.pnpagepost  .pn-listing .pn-list__item .entry-content .entry-meta .byline br {
	display: none;
}

/*Adds border to any screenshot with this class applied. Looks neater and clearer.*/
img.screenshot {
	border: 1px solid #afafaf;
}

/*Adds border to any photo with this class applied. Looks neater and clearer.*/
img.photo {
	border: 1px solid #afafaf;
}

/*Nests ordered lists correctly.*/
ol>li ol>li::before {
	content: counter(item, lower-alpha)".";
}

ol>li ol>li ol>li::before {
	content: counter(item, lower-roman)".";
}

/* hiding the doubled up author images */
.pn-listing .pn-list__item .byline .avatar {
	display: none !important;
}

/* removing bullets from the EM widget */
.widget-area .widget.widget_em_widget ul li:before,
.widget-area .widget.widget_text ul li:before{display:none;}

/*push anchored h2 headings down from browser top so they're not hidden behind the static headers
h2:before { 
  display: block; 
  content: " "; 
  margin-top: -300px; 
  height: 300px; 
  visibility: hidden; 
}*/

h2 { padding-top: 30px !important; }
		</style>
	
    <link href="https://1.www.s81c.com/common/v18/css/www.css" rel="stylesheet" />
    <link href="https://1.www.s81c.com/common/v18/css/grid-fluid.css" rel="stylesheet">
    <link href="https://1.www.s81c.com/common/v18/css/tables.css" rel="stylesheet">

	<script type="text/javascript">
		 IBMCore.common.util.config.set({
		  "masthead":{
		    "type":"alternate"
		  },
			greeting: { enabled: false },
		  "footer":{
		  	"type":"alternate",
		    "socialLinks":{
		      "enabled":false
		    }
		  },
			survey: { global_percent: 0 }
		});
	 </script>
</head>

<body id="ibm-com" class="post-template-default single single-post postid-21951 single-format-standard ibm-com ibm-type group-blog">
	<div style="display:none"></div>
<!--div id="page" class="site"-->
<div id="ibm-top" class="ibm-landing-page">
	<a class="skip-link screen-reader-text" href="index.html%3Fp=21951.html#main">Skip to content</a>

	<!-- MASTHEAD_BEGIN -->
	<div id="ibm-masthead" role="banner" aria-label="IBM" class="ibm-mhtype-minimal">
		<div id="ibm-mast-options">
			<ul role="toolbar" aria-labelledby="ibm-masthead">
				<li id="ibm-geo" role="presentation">
					<a href="http://www.ibm.com/planetwide/select/selector.html">United States</a>
				</li>
			</ul>
		</div>
		<div id="ibm-universal-nav">
			<div id="ibm-home">
				<a href="http://www.ibm.com/us-en/">IBM¨</a>
			</div>
			<div class="dw-nav-left">
				<a href="http://developer.ibm.com" class="dw-logo"><span>IBM Developer</span></a>
							</div>
			<ul id="ibm-menu-links" role="toolbar" aria-label="Site map" class="ibm-hide">
				<li><a href="http://www.ibm.com/sitemap/us/en/">Site map</a></li>
			</ul>
			<div id="ibm-search-module" role="search" aria-labelledby="ibm-masthead">
				<!-- form id="ibm-search-form" action="http://www.ibm.com/Search/" method="get" -->
				<form id="ibm-search-form" action="https://www.ibm.com/Search/" method="get">
					<p>
						<label for="q"><span class="ibm-access">Search</span></label>
						<input type="text" maxlength="100" value="" name="q" id="q"/>
						<input type="hidden" name="v" value="18" />
						<input type="hidden" name="en" value="utf" />
						<input type="hidden" name="lang" value="en" />
						<input type="hidden" name="cc" value="us" />
						<input type="hidden" name="sn" value="dw" />
						<input type="hidden" name="dw" value="dws" />

						<span class="ibm-search-scope">
							<input type="checkbox" class="ibm-styled-checkbox" name="sn" value="Search standards" checked id="scopeoption">
							<label for="scopeoption">Search WASdev</label>
						</span>

						<input type="submit" id="ibm-search" class="ibm-btn-search" value="Submit"/>
					</p>
				</form>
									<form class="ibm-hide" id="devcenter-search-form" action="index.html%3Fp=719.html" method="get">
						<p>
							<label for="pnext-search-input" class="screen-reader-text">Search</label>
							<input maxlength="100" required aria-required="true" id="q" class="pn-search-input pn-nav-search-input fl" name="q" type="text">
							<input type="submit" id="ibm-search" class="ibm-btn-search" value="Seach"/>
						</p>
					</form>
								</div>
		</div>
	</div>
  <!-- MASTHEAD_END -->
  <div id="ibm-content-wrapper">
  	<header role="banner" aria-labelledby="ibm-pagetitle-h1">
  		<!-- MASTHEAD_SITENAV_BEGIN -->
<div class="ibm-sitenav-menu-container">
  <div class="ibm-sitenav-menu-name">
    <a href="docs/portlet-container-differences-liberty-full-profile/index.html" rel="home">WASdev</a>
  </div>
    <div class="ibm-sitenav-menu-list"><ul id="primary-menu" class="menu"><li id="menu-item-11996" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11996"><a title="About WebSphere Liberty" href="docs/introducing_the_liberty_profile/index.html">About</a></li>
<li id="menu-item-12338" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12338"><a href="getstarted/index.html">Get Started</a></li>
<li id="menu-item-8368" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8368"><a title="Download Liberty, features, and samples" href="downloads/websphere-application-server-migration-tools/index.html">Downloads</a></li>
<li id="menu-item-2816" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2816"><a title="Articles and videos for developers" href="docs.html">Docs</a></li>
<li id="menu-item-12458" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12458"><a title="Open source code on Github" href="https://github.com/wasdev">Source Code</a></li>
<li id="menu-item-718" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-718"><a title="All the ways you can get help developing on Liberty" href="help.html">Get Help</a></li>
<li id="menu-item-2415" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-2415"><a title="News, events, and opinions on WAS Liberty" href="blog.html">News &#038; Events</a></li>
</ul></div></div>
<!-- MASTHEAD_SITENAV_END -->
  	</header>
<style>#ibm-com .gsc-adBlock{display:none !important;}</style>
<div id="content" class="site-content">

	<div id="primary" class="content-area-restricted ibm-fluid pnpagepost">
		<header class="pagepost-entry-header"><div class="pn_categories"><span><b> in</b> <a href="blog/category/blog/index.html" rel="category tag">Blog</a></span></div><h1 class="entry-title">New enhancements to Liberty&#8217;s OpenAPI support</h1><div class="entry-meta"><div class="pn_byline"><br><span class="author vcard"><a class="url fn n" href="blog/author/arthurdm/index.html">Arthur De Magalhaes</a></span><br>Published on March 15, 2017<i> / Updated on March 15, 2017</i></div><div class="pn_slic"><a href="index.html%3Fp=21951.html#comments" class="pn_comments_icon">0 <i>Comments</i></a></div></div></header>			<main id="main" class="site-main " role="main">
				<article id="post-21951" class="post-21951 post type-post status-publish format-standard hentry category-blog tag-microservices">
		<div class="entry-content">
		<p>Since its release in late 2015, WebSphere Liberty&#8217;s API discovery has been adopted by many customers and stack products as a framework for exposing REST APIs. During that time the <a href="https://www.openapis.org/">Open API Initiative</a> was created, providing an official version (OpenAPI) of the former Swagger specification.</p>
<h2>Usage patterns</h2>
<p>There are different ways that customers are using this feature: developers love how easily they can see and test the APIs in the OpenAPI UI, and administrators really like that now they can integrate their systems APIs with API management frameworks, especially the <a href="index.html%3Fp=17519.html">API Connect bridge</a>.</p>
<p>We started to see a pattern where customers were not only using this framework for development but for production as well. Some are using the API discovery framework as a dynamic catalog of the APIs they are exposing, while others just want a built-in UI for the APIs in their product or user extension bundles (e.g. <a href="https://www.ibm.com/developerworks/downloads/ws/wsdg/">WebSphere eXtreme Scale</a>).</p>
<p>Because of this overwhelming external exposure of the framework, two <a href="index.html%3Fp=1057.html">requests for enhancements</a> surged with many votes: the ability to access the UI and documents without SSL or basic authentication, and the ability to customize the look-and-feel of the UI.</p>
<p>Both of these requests have been implemented and are now available in <a href="index.html%3Fp=21766.html">Liberty 17.0.0.1</a>! Let&#8217;s take a look at the new functionality.</p>
<h2>Public API discovery</h2>
<p>We have introduced two new endpoints, <code>/api/explorer</code> and <code>/api/docs</code>, both of which can be accessed without authentication using either HTTP or HTTPS. This means that consumers of your APIs can easily access the OpenAPI docs and &#8216;try out&#8217; the endpoints without configuring SSL or being included in the basic registry. These endpoints are enabled by default and the <code>api</code> portion of the URL can be configured by using the new <code>publicURL</code> attribute, for example:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;apiDiscovery publicURL=&quot;cloud/apis&quot; /&gt;
</pre>
<p>With the above configuration you would access the OpenAPI UI via the address <code>http:///vm1:9080/cloud/apis/explorer</code> without authentication. If you want to use the protected endpoint <code>/ibm/api/explorer</code> you would need to configure the appropriate security elements.</p>
<p>In the public UI, Liberty&#8217;s runtime endpoints, such as the JMX REST connector, API discovery, Batch, etc, do not appear &#8211; the purpose of the public UI is for you to expose your APIs.</p>
<p>We added the necessary attributes for you to control which APIs are made available in the public UI. If you want a particular application to remain only accessible via the protected endpoint <code>/ibm/api/explorer</code>, you can set its <code>public</code> attribute to false, for example:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;apiDiscovery publicURL=&quot;myAPI&quot;&gt;
   &lt;webModuleDoc contextRoot=&quot;/MyApp&quot; public=&quot;false&quot; /&gt;
&lt;/apiDiscovery&gt;
</pre>
<p>For more information, check out <a href="https://knowledgecenters.hursley.ibm.com/liberty-refresh/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_api_discovery.html">this page</a>.</p>
<h2>Customized master OpenAPI document and UI</h2>
<p>You can now customize all aspects of the master OpenAPI document (e.g. the <code>info</code> element, <code>host</code>, <code>basePath</code>, <code>scheme</code>, etc). This change applies to the <code>/docs</code> endpoint as well as the <code>/explorer</code> endpoint, which means you can customize the title and description that appear in the UI. This customization can be done using an OpenAPI snippet that is referenced from the new <code>swaggerDefinition</code> attribute. Here&#8217;s an example:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;apiDiscovery swaggerDefinition=&quot;${server.config.dir}/custom/swaggerDef.yaml&quot; /&gt;
</pre>
<p>This snippet document needs to follow the structure of the OpenAPI specification but it does not need to be complete on its own. For example, you could have a snippet such as:</p>
<pre class="brush: plain; title: ; notranslate" title="">
---
swagger: '2.0'
info:
  title: Checkout APIs
  description: APIs to checkout from our online store
  version: 2.1.0
</pre>
<p>You will see these changes propagating into the aggregated OpenAPI document:<br />
<a href="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.58-PM.png"><br />
<img src="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.58-PM-1024x354.png" alt="Screen Shot 2017-02-23 at 1.48.58 PM" width="640" height="221" class="aligncenter size-large wp-image-21706 screenshot" srcset="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.58-PM-1024x354.png 1024w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.58-PM-300x104.png 300w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.58-PM-768x266.png 768w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.58-PM.png 1058w" sizes="(max-width: 640px) 100vw, 640px" /></a></p>
<p>And in the UI:<br />
<a href="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.13-PM.png"><br />
<img src="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.13-PM.png" alt="Screen Shot 2017-02-23 at 1.48.13 PM" width="640" class="aligncenter size-full wp-image-21707 screenshot" srcset="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.13-PM.png 972w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.13-PM-300x117.png 300w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-1.48.13-PM-768x300.png 768w" sizes="(max-width: 972px) 100vw, 972px" /></a></p>
<p>We also have an optimization for single-application scenarios, in which the app&#8217;s OpenAPI doc (via annotations or pre-generated) becomes the &#8216;master doc&#8217; automatically.</p>
<p>Here&#8217;s a snippet of an application that is overriding the <code>title</code> and <code>description</code> values using annotations:</p>
<pre class="brush: java; title: ; notranslate" title="">
@ApplicationPath(&quot;/&quot;)
@SwaggerDefinition(
		info = @Info(description = &quot;Service for booking and managing air flights&quot;,
					 version = &quot;1.0.1&quot;,
					 title = &quot;Airline Service&quot;),
		tags= {@Tag(name=&quot;Airline Booking API&quot;, 
					description=&quot;APIs for booking and managing air flights&quot;)})
public class JAXRSApp extends Application {
</pre>
<p>When the above application is deployed into Liberty, with no other sibling applications, it does not need to specify a <code>swaggerDefinition</code> attribute inside the <code>server.xml</code>.</p>
<h3>Styling</h3>
<p>The customization also extends to the explorer: users can now specify a CSS file that overrides the basic styling of the top of the explorer page, such as the logo and banner colour. This is done using a new extension field called <code>x-ibm-css</code> inside the <code>info</code> element. Just like <code>info.title</code> and <code>info.description</code>, the <code>info.x-ibm.css</code> attribute can be specified either from the <code>swaggerDefinition</code> attribute inside the <code>server.xml</code> or from annotations in a single-application scenario.</p>
<p>There are some restrictions on the CSS format, which are documented on the corresponding <a href="https://knowledgecenters.hursley.ibm.com/liberty-refresh/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_api_discovery_swagger_def.html">Knowledge Center</a> page.</p>
<p>Here&#8217;s an example of a CSS override:</p>
<pre class="brush: plain; title: ; notranslate" title="">
---
swagger: '2.0'
info:
  title: Airline APIs
  description: APIs to book flights and check their status
  version: 2.1.0
  x-ibm-css: &quot;${server.config.dir}/custom/acme-banner.css&quot;
</pre>
<p>Where <code>acme-banner.css</code> is a simple CSS file that inserts a new logo and changes the top banner&#8217;s background colour:</p>
<pre class="brush: css; title: ; notranslate" title="">
.swagger-section #header {
  background-image: url(images/custom-logo.png);
  background-repeat: no-repeat;
  background-color: whitesmoke;
  background-position-x: 28px;
  padding-top: 20px;
  padding-right: 0px;
  padding-bottom: 30px;
  padding-left: 5px;
}
</pre>
<p>The customized OpenAPI UI looks like this:<br />
<a href="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-9.57.55-AM.png"><br />
<img src="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-9.57.55-AM-1024x389.png" alt="Screen Shot 2017-02-28 at 9.57.55 AM" width="640" height="243" class="aligncenter size-large wp-image-21732 screenshot" srcset="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-9.57.55-AM-1024x389.png 1024w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-9.57.55-AM-300x114.png 300w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-9.57.55-AM-768x291.png 768w" sizes="(max-width: 640px) 100vw, 640px" /></a></p>
<h2>Collective OpenAPI UI inline and Collective API registry</h2>
<p>The Collective OpenAPI UI has been updated to display inline the APIs from all collective members, instead of grouping them by each member. This provides an &#8216;API first&#8217; view of the APIs in the collective. There is also a public and customizable version of the Collective UI and docs at <code>/api/collective/docs</code> and <code>/api/collective/explorer</code>, working just like the single-server scenarios outlined above.</p>
<p>Here&#8217;s a screenshot of a collective OpenAPI UI that is displaying APIs from two collective members:<br />
<a href="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-1.58.22-PM.png"><br />
<img src="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-1.58.22-PM-1024x348.png" alt="Screen Shot 2017-02-28 at 1.58.22 PM" width="640" height="218" class="aligncenter size-large wp-image-21745 screenshot" srcset="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-1.58.22-PM-1024x348.png 1024w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-1.58.22-PM-300x102.png 300w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-28-at-1.58.22-PM-768x261.png 768w" sizes="(max-width: 640px) 100vw, 640px" /></a></p>
<p>As you can see from above, the APIs are displayed inline and have the same look-and-feel as a single server endpoint, even though it is displaying many different APIs from different remote servers. This is a pattern used by many companies when displaying OpenAPIs, an example being <a href="https://developer.godaddy.com/doc">GoDaddy&#8217;s developer explorer</a>.</p>
<p>We also have a new endpoint, <code>/api/collective/registry</code>, which lists all the APIs in the collective in a &#8216;service registry&#8217; format, where only the core information about the API or service is displayed (title, description, version, and hosts that support this service). Here&#8217;s an example:</p>
<p><a href="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-11.42.01-AM.png"><br />
<img class="alignnone size-large wp-image-21681 screenshot" src="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-11.42.01-AM-1024x611.png" alt="Screen Shot 2017-02-23 at 11.42.01 AM" width="640" height="382" srcset="wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-11.42.01-AM-1024x611.png 1024w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-11.42.01-AM-300x179.png 300w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-11.42.01-AM-768x458.png 768w, wp-content/uploads/sites/9/2017/02/Screen-Shot-2017-02-23-at-11.42.01-AM.png 1462w" sizes="(max-width: 640px) 100vw, 640px" /></a></p>
<p>For more information please check out <a href="https://knowledgecenters.hursley.ibm.com/liberty-refresh/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/twlp_api_discovery_list_query.html" target="_blank">this page</a>.</p>
<h2>Proxy support</h2>
<p>To support Liberty instances behind a proxy, the OpenAPI UI and the OpenAPI docs endpoints have been updated to take into consideration HTTP headers such as <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23">Host</a> and <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.36">Referer</a> when building its URLs. Previously the URLs would always point directly to the Liberty instance, which sometimes was in an internal IP address that could not be reached directly. Now, if there is a proxy in front of Liberty, that proxy URL is used!</p>
<h2>Built-in CORS support</h2>
<p>We made it easier to use the &#8220;Try it out&#8221; button in the collective OpenAPI by automatically configuring CORS between the collective controller&#8217;s UI and the collective member&#8217;s APIs. Previously users had to manually enter the CORS configuration into the <code>server.xml</code> of every collective member that they wanted to &#8220;Try it out&#8221; from the UI.</p>
<h2>Try it out!</h2>
<p>Now that you&#8217;re up to date on the new enhancements from API discovery it&#8217;s time to try it out!</p>
<p>Just <a href="downloads/liberty-profile-using-non-eclipse-environments/index.html">download the latest Liberty runtime</a>, run <code>wlp/bin installUtility install apiDiscovery-1.0</code>, add <code>apiDiscovery-1.0</code> to your <code>server.xml</code> and start customizing your very own OpenAPI UI!</p>
			</div><!-- .entry-content -->
	<footer class="entry-footer">
		<div class="tags-links">Tags <a href="blog/tag/microservices/index.html" rel="tag">microservices</a></div><div class="byline"><div><p class="byline__author"><span class="author vcard">by <a class="url fn n" href="blog/author/arthurdm/index.html">Arthur De Magalhaes</a></span></p><ul class="byline__social"></ul><p class="byline__bio">Arthur is a senior software engineer and API / cloud architect for the WebSphere Application Server organization, as well as an IBM Master Inventor.  He focuses on cloud and API related initiatives, improving the connectivity and exposure of microservices.</p></div></div>	</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<div id="comments" class="comments-area">

	
	
	
	

	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Join The Discussion <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html%3Fp=21951.html#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://developer.ibm.com/wasdev/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><br /><textarea id="comment" name="comment" aria-required="true" placeholder="Enter your comments..."></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="ibm-btn-pri ibm-btn-small ibm-btn-blue-50" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='21951' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="b01173782a" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="15"/></p>			</form>
			</div><!-- #respond -->
	</div><!-- #comments -->
			</main><!-- #main -->

				</div><!-- #primary -->




		</div><!-- #content -->
	</div><!-- end of ibm-content-wrapper -->

	<p class="ibm-ind-link ibm-nospacing ibm-icononly ibm-btt-auto ibm-hidden-small">
		<a class="ibm-nospacing ibm-top-link" aria-label="Back to top" href="index.html%3Fp=21951.html#top" tabindex="0">Back to top</a>
	</p>

	<footer role="contentinfo" aria-label="IBM" id="themeFooter">
		<div id="boomer-footer" class="boomer_footer_menu"></div>
		<div id="dw-footer" class="ibm-alternate ibm-padding-normal">
			<div class="ibm-columns ibm-padding-bottom-0">
				<div class="ibm-col-1-1">
					<div class="ibm-footer-corporate-links">
						<ul>
              <li><a href="https://developer.ibm.com/feedback/">Contact</a></li>
              <li><a href="https://www.ibm.com/privacy/us/en/">Privacy</a></li>
              <li><a href="https://developer.ibm.com/terms/ibm-developer-terms-of-use/">Terms of use</a></li>
              <li><a href="https://www.ibm.com/accessibility/us/en/">Accessibility</a></li>
              <li class="ibm-feedbacklink"><a href="index.html%3Fp=21951.html#">Feedback</a></li>
							<li><a href="https://www.ibm.com/developerworks/secure/report/">Report Abuse</a></li>
              <li id="ibm-truste-cp"><a onclick="truste.eu.clickListener();return false;" href="index.html%3Fp=21951.html#">Cookie Preferences</a></li>
          	</ul>
					</div>
					<div id="ibm-footer-locale-selector"></div>
				</div>
			</div>
		</div>
	</footer>
</div><!-- #page -->

<script>
        jQuery(document).ready(function($){
          var dcName = 'wasdev';
          // $('a').each(function(){
          //   if(this.href.match('bluemix.net')){
          //     if(this.search){
          //       this.href = this.href + '&cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
          //     }else{
          //       this.href = this.href + '?cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
          //     }
          //   }
          // });

          jQuery('a[href*="bluemix.net"]').each(function(){
            if(this.search){
              this.href = this.href + '&cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
            }else{
              this.href = this.href + '?cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
            }
          });

        });
      </script><script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js'></script>
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js'></script>
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js'></script>
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js'></script>
<script type='text/javascript' src='wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss.js'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://developer.ibm.com/wasdev/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://developer.ibm.com/wasdev/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/navigation.js'></script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='https://www.ibm.com/software/info/js/tactic.js'></script>
<script type='text/javascript' src='https://www.ibm.com/software/info/js/tacticbindlinks.js'></script>
<script type='text/javascript' src='wp-content/plugins/page-links-to/js/new-tab.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/wp-embed.min.js'></script>
<script async="async" type='text/javascript' src='wp-content/plugins/akismet/_inc/form.js'></script>

<script>
	/* this is where we are going to control the main menu */
	function changeMenu(links) {
		IBMCore.common.module.masthead.editProfileMenu({
			action: "replace",
			links: links
		});
	}

	var setMainMenu = function(){
					var userLinks = [{
				title: "My IBM",
				url: "https://myibm.ibm.com/dashboard/?lnk=mmi"
			},{
				title: "Sign In",
				url: "https://developer.ibm.com/sso/login?d=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fblog%2F2017%2F03%2F15%2Fnew-enhancements-libertys-openapi-support&lang=en_US"
			},
			{
				title: "Register",
				url: "https://developer.ibm.com/sso/register?lang=en_US&d=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fblog%2F2017%2F03%2F15%2Fnew-enhancements-libertys-openapi-support"
			}];
				changeMenu(userLinks);
	}

	IBMCore.common.module.masthead.subscribe("profileMenuReady", "customjs", setMainMenu);
</script>
<script>
		(function($) {
			$(document).ready(function(){
				/* prevent the # links in the main menu from firing */
				$('.ibm-sitenav-menu-list #primary-menu a').on('click.stopFakeLinks',function(e){
					$this = $(this);
					if($this.attr('href') === "#"){
						return false;
					}
				});

				/* bind the feedback click evnet */
				jQuery('#dw-footer .ibm-feedbacklink a').on("click", function(evt) {
			        evt.preventDefault();
			        var iframeWidth = 970;
			        if (window.innerWidth < 900) {
			            iframeWidth = window.innerWidth - 80
			        }
			        IBMCore.common.widget.surveyccfintercept.initFeedback({
			            survey: {
			                height: 700,
			                id: "web-exp",
			                metaData: "",
			                type: "medallia",
			                width: iframeWidth
			            }
			        })
			   });
				//testing out the alpha helper
				$('[data-alpha]').each(function(i){
					$elm = $(this);
					var bg = $elm.css('backgroundColor').replace(/[rgb(]/g,'').replace(/ /g,'').replace(/[)]/g,'');
					var alpha = $elm.data('alpha')/100;
					$elm.css("cssText", "background-color: rgba("+bg+","+alpha+") !important;");
				})
				//testing out the panel slider
				$('.pn-sliding-panels').each(function(i){
					$elm = $(this);
					//get the width of the active panel
					var activeWidth = $elm.data('openamount'),
						panelCount = $elm.data('panelcount'),
						inactiveWidth = ((100 - activeWidth) / (panelCount-1));
					//set the first slide as active - later, allow it to be set
					$elm.find('.pn-panel').each(function(i,item){
						$panel = $(item);
						$panel.data('closedwidth',inactiveWidth);
						$panel.data('openwidth',activeWidth);
						if(i == 0){
							$panel.addClass('pn-panel__active').css({width:activeWidth+'%'});
						}else{
							$panel.css({width:inactiveWidth+'%'});
						}
					});

					$elm.on('click.slide','.pn-panel',function(e){
						$this = $(this);
						//console.info('clicked')
						if($this.hasClass('pn-panel__active')){
							//allow for the links in the active panel to be clicked
							//console.info('im open, let the links through')
						}else{
							e.preventDefault();
							//set the width of the currently active panel to the closed amount
							var $active = $this.parents('.pn-sliding-panels').find('.pn-panel__active');
								$active.css({width:$active.data('closedwidth')+'%'}).removeClass('pn-panel__active');
							$this.addClass('pn-panel__active').css({width:$this.data('openwidth')+'%'});
						}

					})
				});

			})
		})( jQuery );
	</script>

	
</body>
</html>
