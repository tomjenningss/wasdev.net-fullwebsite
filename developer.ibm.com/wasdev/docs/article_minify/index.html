<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Open Liberty tutorial</title><meta name="description" content="Find out how to run microservices on Open Liberty"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"><link rel="icon" type="image/x-icon" href="https://openliberty.io/favicon.ico"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/openliberty-417cdd85f6072483030360356f930c017bd4dcc1f64ab74a65569803624b1b95.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/coderay-custom-ab54124e3170f1f31f9b8fdd361c302b78a5238d19a86f6c6f34c4688e2e8d35.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/doc-header-c309828408a64fdb82836c8eaf45589dd3f0470483d903e0bc55c6abaf963889.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/toc-a0b9110a3e9da7f42eb13f4ba8d64a205bbc2f3f406cb0d504af6fc79ea8f859.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/end-of-guide-78aa63e591c3ad3c94c61dfb23e1b0c417aab50a64d4e17b0062aab22a17137e.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/guide-card-e0f001e61d331b9f363725e180d548fafef865e09c5806c90c25ae6c73b7f361.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/guide-4de01bc72769767a332497a26743e5a2b7324eae873bb57bdc7a6fe6b1b8a889.css"><link type="text/css" rel="stylesheet" href="https://openliberty.io/assets/guide-multipane-6e79e71c68e01ccfcd4021fc6ba6a7c0137c6929e87aadb566929234592bca19.css"> <script>!function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a),s="dataLayer"!=n?"&l="+n:"";m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id="+r+s,g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer","GTM-TKP3KJ7")</script><link rel="canonical" href="https://openliberty.io/guides/getting-started"><link rel="alternate" type="application/rss+xml" title="Open Liberty" href="https://openliberty.io/feed.xml"><link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet"><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@OpenLibertyIO"/><meta name="twitter:title" content="Open Liberty tutorial"/><meta name="twitter:description" content="Find out how to run microservices on Open Liberty"/><meta name="twitter:image" content="https://openliberty.io/img/twitter_card.jpg"/><meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs"/><script async defer src="https://buttons.github.io/buttons.js"></script></head><body> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKP3KJ7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><header> <nav class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"> <button id="navbar_responsive_button" class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a href="https://openliberty.io/" aria-label="Open Liberty Home Page"> <img id="doc_logo" src="https://openliberty.io/img/docs_openliberty_logo.png" class="img-responsive" alt="Home"> </a><div id="doc_title"> <img src="https://openliberty.io/img/doc_header_title.svg" alt="Docs"></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-left"><li> <a href="https://openliberty.io/guides">Guides</a></li><li id="reference_dropdown_container" class="btn-group"> <button type="button" class="btn btn-default dropdown-toggle reference_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Reference <span id="reference_caret" class="hidden-md hidden-lg"></span> </button><ul class="dropdown-menu"><li><a href="https://openliberty.io/docs/ref/javaee/">Java EE API</a></li><li><a href="https://openliberty.io/docs/ref/microprofile/">MicroProfile API</a></li><li><a href="https://openliberty.io/docs/ref/config/">Server Config</a></li><li><a href="https://openliberty.io/docs/ref/feature/">Server Features</a></li><li><a href="https://openliberty.io/docs/ref/command/">Server Commands</a></li><li><a href="https://openliberty.io/docs/ref/general/">General</a></li></ul></li></ul><div id="header_round_links_container" class="visible-xs"> <a id="header_twitter_link" class="header_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a> <a id="header_stackoverflow_link" class="header_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a> <a id="header_groupsio_link" class="header_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a></div></div><div id="breadcrumb_row"> <button id="breadcrumb_hamburger" class="toc-toggle collapsed" type="button" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <img src="https://openliberty.io/img/toc_close_green.svg" id="header_close_toc_svg" class="hidden img-responsive" alt="Table of contents close button"> </button><ol class="breadcrumb fluid-container"><li> <a href="https://openliberty.io/docs">Docs</a></li><li> <a href="https://openliberty.io/guides">Guides</a></li><li class="active">Packaging and deploying applications</li></ol></div></div> </nav><div id="header_background"></div><div class="hidden"> <img src="https://openliberty.io/img/small_logo_white.svg"> <img src="https://openliberty.io/img/github_navbar_hover.svg"></div> </header><main aria-label="Content"><div id="background_container"><div id="toc_hotspot"></div><div id="toc_column" class="collapse inline open"><div id="toc_inner"><div id="close_container"> <img id="toc_close_white" src="https://openliberty.io/img/toc_close_white.svg" alt="Close the table of contents" tabindex="0"></div><div id="mobile_close_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column"> <img src="https://openliberty.io/img/toc_close_green.svg" alt="Table of contents close button" tabindex="0"></div><h3 id="toc_title">Contents</h3><div id="toc_container"><ul class="sectlevel1"><li><a href="index.html#what-youll-learn">What you’ll learn</a></li><li><a href="index.html#getting-started">Getting started</a></li><li><a href="index.html#building-and-running-the-application">Building and running the application</a></li><li><a href="index.html#starting-and-stopping-the-open-liberty-server-in-the-background">Starting and stopping the Open Liberty server in the background</a></li><li><a href="index.html#updating-the-server-configuration-without-restarting-the-server">Updating the server configuration without restarting the server</a></li><li><a href="index.html#updating-the-source-code-without-restarting-the-server">Updating the source code without restarting the server</a></li><li><a href="index.html#checking-the-open-liberty-server-logs">Checking the Open Liberty server logs</a></li><li><a href="index.html#running-the-application-in-a-docker-container">Running the application in a Docker container</a></li><li><a href="index.html#running-the-application-from-a-minimal-runnable-jar">Running the application from a minimal runnable JAR</a></li><li><a href="index.html#great-work-youre-done">Great work! You’re done!</a></li><li><a href="index.html#guide-attribution">Guide Attribution</a></li></ul></div><div id="toc_separator"></div><h3 id="tag_title">Tags</h3><div id="tags_container"> <a href="https://openliberty.io/guides?search=Docker&amp;key=tag">Docker</a> <a href="https://openliberty.io/guides?search=Maven&amp;key=tag">Maven</a></div></div></div><div id="toc_indicator" tabindex="0" aria-label="Open the table of contents" class="hidden"> <img src="https://openliberty.io/img/arrow_white.svg" alt="arrow"></div><div id="toc_line" class="open"></div><div id="guide_column" class="position_relative open"><div id="guide_content"><div id="guide_meta" class="sect1" tabindex="0"><h1 id="guide_title">Packaging and deploying applications</h1><div id="duration_container"> <img src="https://openliberty.io/img/guide_duration_clock_icon_large.svg" alt="duration"> <span id="guide_duration">25 minutes</span></div><div id="mobile_prereqs_section"><p id="mobile_prereqs_title">Prerequisites:</p><div class="prereqs_list"></div></div></div><div class="scroller_anchor"></div><div id="mobile_toc_accordion_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column"><div id="mobile_toc_accordion"> <button class="breadcrumb_hamburger toc-toggle collapsed" type="button" tabindex="0"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <img src="https://openliberty.io/img/toc_close_green.svg" class="TOC_Close_SVG hidden img-responsive" alt="Table of contents close button"> </button> <span>Table of contents</span></div></div><div id="preamble"><div class="sectionbody"><div class="admonitionblock note hidden"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i></td><td class="content"> This repository contains the guide documentation source. To view the guide in published form, view it on the <a href="index.html">Open Liberty website</a>.</td></tr></table></div><div class="paragraph"><p>Learn how to update and deploy an application on Open Liberty with Maven and Docker.</p></div></div></div><div class="sect1"><h2 id="what-youll-learn">What you’ll learn</h2><div class="sectionbody"><div class="paragraph"><p>You will learn how to run and update a simple REST microservice on an Open Liberty server. You will use Maven throughout the guide to build and deploy the microservice as well as to interact with the running server instance.</p></div><div class="paragraph"><p>Open Liberty is an application server designed for the cloud. It’s small, lightweight, and designed with modern cloud-native application development in mind. It supports the full MicroProfile and Java EE APIs and is composable, meaning that you can use only the features that you need, keeping the server lightweight, which is great for microservices. It also deploys to every major cloud platform, including Docker, Kubernetes, and Cloud Foundry.</p></div><div class="paragraph"><p>Maven is an automation build tool that provides an efficient way to develop Java applications. Using Maven, you will build a simple microservice, called <code>system</code>, that collects basic system properties from your laptop and displays them on an endpoint that you can access in your web browser.</p></div><div class="paragraph"><p>You’ll also explore how to package your application with the server runtime so that it can be deployed anywhere in one go. You will then make server configuration and code changes and see how they are picked up by a running server.</p></div><div class="paragraph"><p>Finally, you will package the application along with the server configuration into a Docker image and run that image as a container.</p></div></div></div><div class="sect1 command"><h2 id="getting-started">Getting started</h2><div class="sectionbody"><div class="paragraph"><p>The fastest way to work through this guide is to clone the Git repository and use the projects that are provided inside:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>git clone https://github.com/openliberty/guide-getting-started.git
cd guide-getting-started</code></pre></div></div><div class="paragraph"><p>The <code>start</code> directory contains the starting project that you will build upon.</p></div><div class="paragraph"><p>The <code>finish</code> directory contains the finished project that you will build.</p></div></div></div><div class="sect1"><h2 id="building-and-running-the-application">Building and running the application</h2><div class="sectionbody"><div class="paragraph"><p>Your application is configured to be built with Maven. Every Maven-configured project contains a <code class="hotspot">pom.xml</code> file, which defines the project configuration, dependencies, plug-ins, and so on.</p></div><div class="paragraph"><p>Navigate to the <code>start</code> directory where your <code class="hotspot">pom.xml</code> file is located. Your <code>pom.xml</code> file is configured to include the <code class="hotspot=libertyMavenPlugin">liberty-maven-plugin</code>, which allows you to install applications into Open Liberty and manage the server instances.</p></div><div class="paragraph"><p>pom.xml</p></div><div class="listingblock code_column"><div class="content"> <pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers">  3</span>         <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers">  4</span>         <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  5</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  6</span>
<span class="line-numbers">  7</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-getting-started<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>1.8<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>1.8<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="tag">&lt;failOnMissingWebXml&gt;</span>false<span class="tag">&lt;/failOnMissingWebXml&gt;</span>
<span class="line-numbers"> 18</span>        <span class="comment">&lt;!-- Plugin versions --&gt;</span>
<span class="line-numbers"> 19</span>        <span class="tag">&lt;version.liberty-maven-plugin&gt;</span>3.1<span class="tag">&lt;/version.liberty-maven-plugin&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;version.maven-war-plugin&gt;</span>3.2.3<span class="tag">&lt;/version.maven-war-plugin&gt;</span>
<span class="line-numbers"> 21</span>        <span class="tag">&lt;version.maven-surefire-plugin&gt;</span>2.22.2<span class="tag">&lt;/version.maven-surefire-plugin&gt;</span>
<span class="line-numbers"> 22</span>        <span class="tag">&lt;version.maven-failsafe-plugin&gt;</span>2.22.2<span class="tag">&lt;/version.maven-failsafe-plugin&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9080<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9443<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 26</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 27</span>
<span class="line-numbers"> 28</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 29</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 30</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 32</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-web-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 33</span>            <span class="tag">&lt;version&gt;</span>8.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 34</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 36</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;version&gt;</span>3.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 40</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 41</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 42</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 43</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 44</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 46</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;version&gt;</span>5.5.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 49</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 50</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 52</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 53</span>            <span class="tag">&lt;version&gt;</span>3.3.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 55</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 57</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-extension-providers<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 59</span>            <span class="tag">&lt;version&gt;</span>3.3.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 61</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 62</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;groupId&gt;</span>org.glassfish<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 64</span>            <span class="tag">&lt;artifactId&gt;</span>javax.json<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 65</span>            <span class="tag">&lt;version&gt;</span>1.1.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 66</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 67</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 68</span>        <span class="comment">&lt;!-- Support for JDK 9 and above --&gt;</span>
<span class="line-numbers"> 69</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 70</span>            <span class="tag">&lt;groupId&gt;</span>javax.xml.bind<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 71</span>            <span class="tag">&lt;artifactId&gt;</span>jaxb-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;version&gt;</span>2.3.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 74</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 75</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 76</span>
<span class="line-numbers"> 77</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 79</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 80</span>            <span class="comment">&lt;!-- Enable liberty-maven plugin --&gt;</span>
<span class="line-numbers"> 81</span>            <span class="comment">&lt;!-- tag::libertyMavenPlugin[] --&gt;</span>
<span class="line-numbers"> 82</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 83</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 84</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 85</span>                <span class="tag">&lt;version&gt;</span>${version.liberty-maven-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 86</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 87</span>            <span class="comment">&lt;!-- end::libertyMavenPlugin[] --&gt;</span>
<span class="line-numbers"> 88</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 89</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 91</span>                <span class="tag">&lt;version&gt;</span>${version.maven-war-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 92</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 93</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 94</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 96</span>                <span class="tag">&lt;version&gt;</span>${version.maven-surefire-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 97</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 98</span>            <span class="comment">&lt;!-- Plugin to run functional tests --&gt;</span>
<span class="line-numbers"> 99</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">101</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">102</span>                <span class="tag">&lt;version&gt;</span>${version.maven-failsafe-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">104</span>                    <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">105</span>                        <span class="tag">&lt;http.port&gt;</span>${liberty.var.default.http.port}<span class="tag">&lt;/http.port&gt;</span>
<span class="line-numbers">106</span>                    <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">107</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">108</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">109</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">110</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">111</span><span class="tag">&lt;/project&gt;</span></code></pre></div></div><div class="paragraph"><p>To begin, build the <code>system</code> microservice that is provided and deploy it to Open Liberty by running the Maven <code>liberty:run</code> goal from the <code>start</code> directory:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>mvn liberty:run</code></pre></div></div><div class="paragraph"><p>The <code>mvn</code> command initiates a Maven build, during which the <code>target</code> directory is created to store all build-related files.</p></div><div class="paragraph"><p>The <code>liberty:run</code> argument specifies the Open Liberty <code>run</code> goal, which starts an Open Liberty server instance in the foreground. As part of this phase, an Open Liberty server runtime is downloaded and installed into the <code>target/liberty/wlp</code> directory, a server instance is created and configured in the <code>target/liberty/wlp/usr/servers/defaultServer</code> directory, and the application is installed into that server via <a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/rwlp_loose_applications.html" target="_blank" rel="noopener noreferrer">loose config</a>.</p></div><div class="paragraph"><p>For more information about the Liberty Maven plug-in, see its <a href="https://github.com/WASdev/ci.maven" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p></div><div class="paragraph"><p>When the server begins starting up, various messages display in your active shell. Wait for the following message, which indicates that the server startup is complete:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>[INFO] [AUDIT] CWWKF0011I: The server defaultServer is ready to run a smarter planet.</code></pre></div></div><div class="paragraph"><p>To access the <code>system</code> microservice, see the <a href="http://localhost:9080/system/properties" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/system/properties</a> URL, and you see a list of the various system properties of your JVM:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code data-lang="JSON">{
    <span class="key"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Mac OS X</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">java.version</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">1.8.0_151</span><span class="delimiter">"</span></span>,
    <span class="error">.</span><span class="error">.</span><span class="error">.</span>
}</code></pre></div></div><div class="paragraph"><p>When you need to stop the server, press <code>CTRL+C</code> in the shell session where you ran the server, or run the <code>liberty:stop</code> goal from the <code>start</code> directory in another shell session:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>mvn liberty:stop</code></pre></div></div></div></div><div class="sect1"><h2 id="starting-and-stopping-the-open-liberty-server-in-the-background">Starting and stopping the Open Liberty server in the background</h2><div class="sectionbody"><div class="paragraph"><p>Although you can start and stop the server in the foreground by using the Maven <code>liberty:run</code> goal, you can also start and stop the server in the background with the Maven <code>liberty:start</code> and <code>liberty:stop</code> goals:</p></div><div class="listingblock command"><div class="content"> <pre>mvn liberty:start
mvn liberty:stop</pre></div></div></div></div><div class="sect1"><h2 id="updating-the-server-configuration-without-restarting-the-server">Updating the server configuration without restarting the server</h2><div class="sectionbody"><div class="paragraph"><p>The Open Liberty Maven plug-in includes a <code>dev</code> goal that listens for any changes in the project, including application source code or configuration. The Open Liberty server automatically reloads the configuration without restarting. This goal allows for quicker turnarounds and an improved developer experience.</p></div><div class="paragraph"><p>Stop the Open Liberty server if it is running, and start it in development mode by running the <code>liberty:dev</code> goal in the <code>start</code> directory:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>mvn liberty:dev</code></pre></div></div><div class="paragraph"><p>Development mode automatically picks up changes that you make to your application and allows you to run tests by pressing the <code>enter/return</code> key in the active shell. When you’re working on your application, rather than rerunning Maven commands, press the <code>enter/return</code> key to verify your change.</p></div><div class="paragraph"><p>As before, you can see that the application is running by going to the <a href="http://localhost:9080/system/properties" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/system/properties</a> URL.</p></div><div class="paragraph"><p>Now try updating the server configuration while the server is running in development mode. The <code>system</code> microservice does not currently include health monitoring to report whether the server and the microservice that it runs are healthy. You can add health reports with the MicroProfile Health feature, which adds a <code>/health</code> endpoint to your application. If you try to access this endpoint now at the <a href="http://localhost:9080/health/" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/health/</a> URL, you see a 404 error because the <code>/health</code> endpoint does not yet exist:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>Error 404: java.io.FileNotFoundException: SRVE0190E: File not found: /health</code></pre></div></div><div class="paragraph"><p>To add the MicroProfile Health feature to the server, include the <code class="hotspot=mpHealth">mpHealth</code> feature in the <code class="hotspot">server.xml</code>.</p></div><div class="listingblock code_command hotspot"><div class="content"> <pre><mark>Replace the server configuration file.</mark>
<code>src/main/liberty/config/server.xml</code></pre></div></div><div class="paragraph"><p>server.xml</p></div><div class="listingblock code_column hide_tags=logging"><div class="content"> <pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">Sample Liberty server</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>    <span class="comment">&lt;!-- tag::features[] --&gt;</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>        <span class="tag">&lt;feature&gt;</span>jaxrs-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;feature&gt;</span>jsonp-1.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>        <span class="tag">&lt;feature&gt;</span>cdi-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;feature&gt;</span>mpMetrics-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>        <span class="comment">&lt;!-- tag::mpHealth[] --&gt;</span>
<span class="line-numbers"> 9</span>        <span class="tag">&lt;feature&gt;</span>mpHealth-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">10</span>        <span class="comment">&lt;!-- end::mpHealth[] --&gt;</span>
<span class="line-numbers">11</span>        <span class="tag">&lt;feature&gt;</span>mpConfig-1.3<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">12</span>    <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">13</span>    <span class="comment">&lt;!-- end::features[] --&gt;</span>
<span class="line-numbers">14</span>
<span class="line-numbers">15</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9080</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">16</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9443</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">17</span>
<span class="line-numbers">18</span>    <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">guide-getting-started.war</span><span class="delimiter">"</span></span> <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">19</span>    <span class="tag">&lt;mpMetrics</span> <span class="attribute-name">authentication</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">20</span>
<span class="line-numbers">21</span>    <span class="comment">&lt;!-- tag::logging[] --&gt;</span>
<span class="line-numbers">22</span>    <span class="tag">&lt;logging</span> <span class="attribute-name">traceSpecification</span>=<span class="string"><span class="delimiter">"</span><span class="content">com.ibm.ws.microprofile.health.*=all</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">23</span>    <span class="comment">&lt;!-- end::logging[] --&gt;</span>
<span class="line-numbers">24</span>
<span class="line-numbers">25</span>    <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span> <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span>
<span class="line-numbers">26</span>        <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">27</span>
<span class="line-numbers">28</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">io_openliberty_guides_system_inMaintenance</span><span class="delimiter">"</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">29</span><span class="tag">&lt;/server&gt;</span></code></pre></div></div><div class="paragraph"><p>After you make the file changes, Open Liberty automatically reloads its configuration. When enabled, the <code class="hotspot=mpHealth">mpHealth</code> feature automatically adds a <code>/health</code> endpoint to the application. You can see the server being updated in the server log displayed in your shell session:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>[INFO] [AUDIT] CWWKG0016I: Starting server configuration update.
[INFO] [AUDIT] CWWKT0017I: Web application removed (default_host): http://foo:9080/
[INFO] [AUDIT] CWWKZ0009I: The application io.openliberty.guides.getting-started has stopped successfully.
[INFO] [AUDIT] CWWKG0017I: The server configuration was successfully updated in 0.284 seconds.
[INFO] [AUDIT] CWWKT0016I: Web application available (default_host): http://foo:9080/health/
[INFO] [AUDIT] CWWKF0012I: The server installed the following features: [mpHealth-2.0].
[INFO] [AUDIT] CWWKF0008I: Feature update completed in 0.285 seconds.
[INFO] [AUDIT] CWWKT0016I: Web application available (default_host): http://foo:9080/
[INFO] [AUDIT] CWWKZ0003I: The application io.openliberty.guides.getting-started updated in 0.173 seconds.</code></pre></div></div><div class="paragraph"><p>Try to access the <code>/health</code> endpoint again by visiting the <a href="http://localhost:9080/health" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/health</a> URL. You see the following JSON:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code data-lang="JSON">{
    <span class="key"><span class="delimiter">"</span><span class="content">checks</span><span class="delimiter">"</span></span>:[],
    <span class="key"><span class="delimiter">"</span><span class="content">status</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">UP</span><span class="delimiter">"</span></span>
}</code></pre></div></div><div class="paragraph"><p>Now you can verify whether your server is up and running.</p></div></div></div><div class="sect1"><h2 id="updating-the-source-code-without-restarting-the-server">Updating the source code without restarting the server</h2><div class="sectionbody"><div class="paragraph"><p>The JAX-RS application that contains your <code>system</code> microservice runs in a server from its <code>.class</code> file and other artifacts. Open Liberty automatically monitors these artifacts, and whenever they are updated, it updates the running server without the need for the server to be restarted.</p></div><div class="paragraph"><p>Look at your <code class="hotspot file=0">pom.xml</code> file.</p></div><div class="paragraph"><p>pom.xml</p></div><div class="listingblock code_column"><div class="content"> <pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers">  3</span>         <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers">  4</span>         <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  5</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  6</span>
<span class="line-numbers">  7</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-getting-started<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>1.8<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>1.8<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="tag">&lt;failOnMissingWebXml&gt;</span>false<span class="tag">&lt;/failOnMissingWebXml&gt;</span>
<span class="line-numbers"> 18</span>        <span class="comment">&lt;!-- Plugin versions --&gt;</span>
<span class="line-numbers"> 19</span>        <span class="tag">&lt;version.liberty-maven-plugin&gt;</span>3.1<span class="tag">&lt;/version.liberty-maven-plugin&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;version.maven-war-plugin&gt;</span>3.2.3<span class="tag">&lt;/version.maven-war-plugin&gt;</span>
<span class="line-numbers"> 21</span>        <span class="tag">&lt;version.maven-surefire-plugin&gt;</span>2.22.2<span class="tag">&lt;/version.maven-surefire-plugin&gt;</span>
<span class="line-numbers"> 22</span>        <span class="tag">&lt;version.maven-failsafe-plugin&gt;</span>2.22.2<span class="tag">&lt;/version.maven-failsafe-plugin&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9080<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9443<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 26</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 27</span>
<span class="line-numbers"> 28</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 29</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 30</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 32</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-web-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 33</span>            <span class="tag">&lt;version&gt;</span>8.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 34</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 36</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;version&gt;</span>3.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 40</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 41</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 42</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 43</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 44</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 46</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;version&gt;</span>5.5.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 49</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 50</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 52</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 53</span>            <span class="tag">&lt;version&gt;</span>3.3.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 55</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 57</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-extension-providers<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 59</span>            <span class="tag">&lt;version&gt;</span>3.3.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 61</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 62</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;groupId&gt;</span>org.glassfish<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 64</span>            <span class="tag">&lt;artifactId&gt;</span>javax.json<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 65</span>            <span class="tag">&lt;version&gt;</span>1.1.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 66</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 67</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 68</span>        <span class="comment">&lt;!-- Support for JDK 9 and above --&gt;</span>
<span class="line-numbers"> 69</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 70</span>            <span class="tag">&lt;groupId&gt;</span>javax.xml.bind<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 71</span>            <span class="tag">&lt;artifactId&gt;</span>jaxb-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;version&gt;</span>2.3.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 74</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 75</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 76</span>
<span class="line-numbers"> 77</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 79</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 80</span>            <span class="comment">&lt;!-- Enable liberty-maven plugin --&gt;</span>
<span class="line-numbers"> 81</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 82</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 83</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 84</span>                <span class="tag">&lt;version&gt;</span>${version.liberty-maven-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 86</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 87</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 88</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 89</span>                <span class="tag">&lt;version&gt;</span>${version.maven-war-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 90</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 91</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 92</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 93</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 94</span>                <span class="tag">&lt;version&gt;</span>${version.maven-surefire-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 95</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 96</span>            <span class="comment">&lt;!-- Plugin to run functional tests --&gt;</span>
<span class="line-numbers"> 97</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 98</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 99</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;version&gt;</span>${version.maven-failsafe-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">101</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">102</span>                    <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">103</span>                        <span class="tag">&lt;http.port&gt;</span>${liberty.var.default.http.port}<span class="tag">&lt;/http.port&gt;</span>
<span class="line-numbers">104</span>                    <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">105</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">107</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">108</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">109</span><span class="tag">&lt;/project&gt;</span></code></pre></div></div><div class="paragraph"><p>Try updating the source code while the server is running in development mode. At the moment, the <code>/health</code> endpoint reports whether the server is running, but the endpoint doesn’t provide any details on the microservices that are running inside of the server.</p></div><div class="paragraph"><p>MicroProfile Health offers health checks for both readiness and liveness. A readiness check allows third-party services, such as Kubernetes, to know if the microservice is ready to process requests. A liveness check allows third-party services to determine if the microservice is running.</p></div><div class="listingblock code_command hotspot file=1"><div class="content"> <pre><mark>Create the <code>SystemReadinessCheck</code> class.</mark>
<code>src/main/java/io/openliberty/sample/system/SystemReadinessCheck.java</code></pre></div></div><div class="paragraph"><p>SystemReadinessCheck.java</p></div><div class="listingblock code_column hide_tags=copyright"><div class="content"> <pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2018, 2019  IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License v1.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-v10.html</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * Contributors:</span>
<span class="line-numbers">10</span><span class="comment"> *     IBM Corporation - Initial implementation</span>
<span class="line-numbers">11</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">12</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">13</span><span class="keyword">package</span> <span class="namespace">io.openliberty.sample.system</span>;
<span class="line-numbers">14</span>
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">javax.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers">16</span>
<span class="line-numbers">17</span><span class="keyword">import</span> <span class="include">javax.inject.Inject</span>;
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">javax.inject.Provider</span>;
<span class="line-numbers">19</span>
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.config.inject.ConfigProperty</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.Readiness</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.HealthCheck</span>;
<span class="line-numbers">23</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.HealthCheckResponse</span>;
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.HealthCheckResponseBuilder</span>;
<span class="line-numbers">25</span>
<span class="line-numbers">26</span><span class="annotation">@Readiness</span>
<span class="line-numbers">27</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers">28</span><span class="comment">// tag::systemReadinessCheck[]</span>
<span class="line-numbers">29</span><span class="directive">public</span> <span class="type">class</span> <span class="class">SystemReadinessCheck</span> <span class="directive">implements</span> HealthCheck {
<span class="line-numbers">30</span>
<span class="line-numbers">31</span>    <span class="annotation">@Inject</span>
<span class="line-numbers">32</span>    <span class="annotation">@ConfigProperty</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">io_openliberty_guides_system_inMaintenance</span><span class="delimiter">"</span></span>)
<span class="line-numbers">33</span>    <span class="predefined-type">Provider</span>&lt;<span class="predefined-type">String</span>&gt; inMaintenance;
<span class="line-numbers">34</span>
<span class="line-numbers">35</span>    <span class="annotation">@Override</span>
<span class="line-numbers">36</span>    <span class="directive">public</span> HealthCheckResponse call() {
<span class="line-numbers">37</span>        HealthCheckResponseBuilder builder = HealthCheckResponse.named(
<span class="line-numbers">38</span>                SystemResource.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content"> readiness check</span><span class="delimiter">"</span></span>);
<span class="line-numbers">39</span>        <span class="keyword">if</span> (inMaintenance != <span class="predefined-constant">null</span> &amp;&amp; inMaintenance.get().equalsIgnoreCase(<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span>)) {
<span class="line-numbers">40</span>            <span class="keyword">return</span> builder.withData(<span class="string"><span class="delimiter">"</span><span class="content">services</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">not available</span><span class="delimiter">"</span></span>).down().build();
<span class="line-numbers">41</span>        }
<span class="line-numbers">42</span>        <span class="keyword">return</span> builder.withData(<span class="string"><span class="delimiter">"</span><span class="content">services</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">available</span><span class="delimiter">"</span></span>).up().build();
<span class="line-numbers">43</span>    }
<span class="line-numbers">44</span>
<span class="line-numbers">45</span>}
<span class="line-numbers">46</span><span class="comment">// end::systemReadinessCheck[]</span></code></pre></div></div><div class="paragraph"><p>The <code class="hotspot=systemReadinessCheck file=1">SystemReadinessCheck</code> class verifies that the <code>system</code> microservice is not in maintenance by checking a config property.</p></div><div class="listingblock code_command hotspot file=2"><div class="content"> <pre><mark>Create the <code>SystemLivenessCheck</code> class.</mark>
<code>src/main/java/io/openliberty/sample/system/SystemLivenessCheck.java</code></pre></div></div><div class="paragraph"><p>SystemLivenessCheck.java</p></div><div class="listingblock code_column hide_tags=copyright"><div class="content"> <pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2019  IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License v1.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-v10.html</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * Contributors:</span>
<span class="line-numbers">10</span><span class="comment"> *     IBM Corporation - Initial implementation</span>
<span class="line-numbers">11</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">12</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">13</span><span class="keyword">package</span> <span class="namespace">io.openliberty.sample.system</span>;
<span class="line-numbers">14</span>
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">javax.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers">16</span>
<span class="line-numbers">17</span><span class="keyword">import</span> <span class="include">java.lang.management.MemoryMXBean</span>;
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">java.lang.management.ManagementFactory</span>;
<span class="line-numbers">19</span>
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.Liveness</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.HealthCheck</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.health.HealthCheckResponse</span>;
<span class="line-numbers">23</span>
<span class="line-numbers">24</span><span class="annotation">@Liveness</span>
<span class="line-numbers">25</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers">26</span><span class="comment">// tag::systemLivenessCheck[]</span>
<span class="line-numbers">27</span><span class="directive">public</span> <span class="type">class</span> <span class="class">SystemLivenessCheck</span> <span class="directive">implements</span> HealthCheck {
<span class="line-numbers">28</span>
<span class="line-numbers">29</span>    <span class="annotation">@Override</span>
<span class="line-numbers">30</span>    <span class="directive">public</span> HealthCheckResponse call() {
<span class="line-numbers">31</span>        <span class="predefined-type">MemoryMXBean</span> memBean = <span class="predefined-type">ManagementFactory</span>.getMemoryMXBean();
<span class="line-numbers">32</span>        <span class="type">long</span> memUsed = memBean.getHeapMemoryUsage().getUsed();
<span class="line-numbers">33</span>        <span class="type">long</span> memMax = memBean.getHeapMemoryUsage().getMax();
<span class="line-numbers">34</span>
<span class="line-numbers">35</span>        <span class="keyword">return</span> HealthCheckResponse.named(
<span class="line-numbers">36</span>            SystemResource.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content"> liveness check</span><span class="delimiter">"</span></span>)
<span class="line-numbers">37</span>                                  .withData(<span class="string"><span class="delimiter">"</span><span class="content">memory used</span><span class="delimiter">"</span></span>, memUsed)
<span class="line-numbers">38</span>                                  .withData(<span class="string"><span class="delimiter">"</span><span class="content">memory max</span><span class="delimiter">"</span></span>, memMax)
<span class="line-numbers">39</span>                                  .state(memUsed &lt; memMax * <span class="float">0.9</span>).build();
<span class="line-numbers">40</span>    }
<span class="line-numbers">41</span>
<span class="line-numbers">42</span>}
<span class="line-numbers">43</span><span class="comment">// end::systemLivenessCheck[]</span></code></pre></div></div><div class="paragraph"><p>The <code class="hotspot=systemLivenessCheck file=2">SystemLivenessCheck</code> class reports a status of <code>DOWN</code> if the microservice uses over 90% of the maximum amount of memory.</p></div><div class="paragraph"><p>After you make the file changes, Open Liberty automatically reloads its configuration and the <code>system</code> application.</p></div><div class="paragraph"><p>The following messages display in your first shell session:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>[INFO] [AUDIT] CWWKT0017I: Web application removed (default_host): http://foo:9080/
[INFO] [AUDIT] CWWKZ0009I: The application io.openliberty.guides.getting-started has stopped successfully.
[INFO] [AUDIT] CWWKT0016I: Web application available (default_host): http://foo:9080/
[INFO] [AUDIT] CWWKZ0003I: The application io.openliberty.guides.getting-started updated in 0.136 seconds.</code></pre></div></div><div class="paragraph"><p>Access the <code>/health</code> endpoint again by going to the <a href="http://localhost:9080/health" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/health</a> URL. This time you see the overall status of your server and the aggregated data of the liveness and readiness checks for the <code>system</code> microservice:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code data-lang="JSON">{
   <span class="key"><span class="delimiter">"</span><span class="content">checks</span><span class="delimiter">"</span></span>:[
      {
         <span class="key"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>:{
            <span class="key"><span class="delimiter">"</span><span class="content">services</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">available</span><span class="delimiter">"</span></span>
         },
         <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">SystemResource readiness check</span><span class="delimiter">"</span></span>,
         <span class="key"><span class="delimiter">"</span><span class="content">status</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">UP</span><span class="delimiter">"</span></span>
      },
      {
         <span class="key"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>:{
            <span class="key"><span class="delimiter">"</span><span class="content">memory used</span><span class="delimiter">"</span></span>:<span class="integer">81064480</span>,
            <span class="key"><span class="delimiter">"</span><span class="content">memory max</span><span class="delimiter">"</span></span>:<span class="integer">4294967296</span>
         },
         <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">SystemResource liveness check</span><span class="delimiter">"</span></span>,
         <span class="key"><span class="delimiter">"</span><span class="content">status</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">UP</span><span class="delimiter">"</span></span>
      }
   ],
   <span class="key"><span class="delimiter">"</span><span class="content">status</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">UP</span><span class="delimiter">"</span></span>
}</code></pre></div></div><div class="paragraph"><p>You can also access the <code>/health/ready</code> endpoint by going to the <a href="http://localhost:9080/health/ready" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/health/ready</a> URL to view the data from the readiness health check. Similarly, access the <code>/health/live</code> endpoint by going to the <a href="http://localhost:9080/health/live" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/health/live</a> URL to view the data from the liveness health check.</p></div><div class="paragraph"><p>Making code changes and recompiling is fast and straightforward. The development mode of Open Liberty automatically picks up changes in the <code>.class</code> files and artifacts, without needing to be restarted. Alternatively, you can run the <code>run</code> goal and manually repackage or recompile the application by using the <code>mvn package</code> command or the <code>mvn compile</code> command while the server is running. The development mode was added to further improve the developer experience by minimizing turnaround times.</p></div></div></div><div class="sect1"><h2 id="checking-the-open-liberty-server-logs">Checking the Open Liberty server logs</h2><div class="sectionbody"><div class="paragraph"><p>While the server is running in the foreground, it displays various console messages in the shell. These messages are also logged to the <code>target/liberty/wlp/usr/servers/defaultServer/logs/console.log</code> file. You can find the complete server logs in the <code>target/liberty/wlp/usr/servers/defaultServer/logs</code> directory. The <code>console.log</code> and <code>messages.log</code> files are the primary log files that contain console output of the running application and the server. More logs are created when runtime errors occur or whenever tracing is enabled. You can find the error logs in the <code>ffdc</code> directory and the tracing logs in the <code>trace.log</code> file.</p></div><div class="paragraph"><p>In addition to the log files that are generated automatically, you can enable logging of specific Java packages or classes by using the <code>&lt;logging/&gt;</code> element:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>&lt;logging traceSpecification="&lt;component_1&gt;=&lt;level&gt;:&lt;component_2&gt;=&lt;level&gt;:..."/&gt;</code></pre></div></div><div class="paragraph"><p>The <code>component</code> element is a Java package or class, and the <code>level</code> element is one of the following logging levels: <code>off</code>, <code>fatal</code>, <code>severe</code>, <code>warning</code>, <code>audit</code>, <code>info</code>, <code>config</code>, <code>detail</code>, <code>fine</code>, <code>finer</code>, <code>finest</code>, <code>all</code>.</p></div><div class="paragraph"><p>Try enabling detailed logging of the MicroProfile Health feature by adding the <code class="hotspot=logging">&lt;logging/&gt;</code> element to your configuration file.</p></div><div class="listingblock code_command hotspot"><div class="content"> <pre><mark>Replace the server configuration file.</mark>
<code>src/main/liberty/config/server.xml</code></pre></div></div><div class="paragraph"><p>server.xml</p></div><div class="listingblock code_column"><div class="content"> <pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">Sample Liberty server</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>    <span class="comment">&lt;!-- tag::features[] --&gt;</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>        <span class="tag">&lt;feature&gt;</span>jaxrs-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;feature&gt;</span>jsonp-1.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>        <span class="tag">&lt;feature&gt;</span>cdi-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;feature&gt;</span>mpMetrics-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>        <span class="comment">&lt;!-- tag::mpHealth[] --&gt;</span>
<span class="line-numbers"> 9</span>        <span class="tag">&lt;feature&gt;</span>mpHealth-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">10</span>        <span class="comment">&lt;!-- end::mpHealth[] --&gt;</span>
<span class="line-numbers">11</span>        <span class="tag">&lt;feature&gt;</span>mpConfig-1.3<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">12</span>    <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">13</span>    <span class="comment">&lt;!-- end::features[] --&gt;</span>
<span class="line-numbers">14</span>
<span class="line-numbers">15</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9080</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">16</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9443</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">17</span>
<span class="line-numbers">18</span>    <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">guide-getting-started.war</span><span class="delimiter">"</span></span> <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">19</span>    <span class="tag">&lt;mpMetrics</span> <span class="attribute-name">authentication</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">20</span>
<span class="line-numbers">21</span>    <span class="comment">&lt;!-- tag::logging[] --&gt;</span>
<span class="line-numbers">22</span>    <span class="tag">&lt;logging</span> <span class="attribute-name">traceSpecification</span>=<span class="string"><span class="delimiter">"</span><span class="content">com.ibm.ws.microprofile.health.*=all</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">23</span>    <span class="comment">&lt;!-- end::logging[] --&gt;</span>
<span class="line-numbers">24</span>
<span class="line-numbers">25</span>    <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span> <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span>
<span class="line-numbers">26</span>        <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">27</span>
<span class="line-numbers">28</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">io_openliberty_guides_system_inMaintenance</span><span class="delimiter">"</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">29</span><span class="tag">&lt;/server&gt;</span></code></pre></div></div><div class="paragraph"><p>After you change the file, Open Liberty automatically reloads its configuration.</p></div><div class="paragraph"><p>Now, when you visit the <code>/health</code> endpoint, additional traces are logged in the <code>trace.log</code> file.</p></div><div class="paragraph"><p>Afterward, stop the server by typing <code>q</code> in the shell session where you ran the server and then press the <code>enter/return</code> key.</p></div></div></div><div class="sect1"><h2 id="running-the-application-in-a-docker-container">Running the application in a Docker container</h2><div class="sectionbody"><div class="paragraph"><p>To run the application in a container, Docker needs to be installed. For installation instructions, see the <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Official Docker Docs</a>.</p></div><div class="paragraph"><p>To containerize the application, you need a <code>Dockerfile</code>. This file contains a collection of instructions that define how a Docker image is built, what files are packaged into it, what commands run when the image runs as a container, and other information. You can find a complete <code>Dockerfile</code> in the <code>start</code> directory. This <code>Dockerfile</code> copies the <code>.war</code> file into a Docker image that contains the Java runtime and a preconfigured Open Liberty server.</p></div><div class="paragraph"><p>To build and containerize the application, start your Docker daemon and then run the following Docker build command in the <code>start</code> directory. Run the <code>mvn package</code> command from the <code>start</code> directory so that the <code>.war</code> file resides in the <code>target</code> directory.</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>mvn package
docker build -t openliberty-getting-started:1.0-SNAPSHOT .</code></pre></div></div><div class="paragraph"><p>The Docker <code>openliberty-getting-started:1.0-SNAPSHOT</code> image is also built from the <code>Dockerfile</code>. To verify that the image is built, run the <code>docker images</code> command to list all local Docker images:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>docker images</code></pre></div></div><div class="paragraph"><p>Your image should appear in the list of all Docker images:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>REPOSITORY                     TAG             IMAGE ID        CREATED         SIZE
openliberty-getting-started    1.0-SNAPSHOT    85085141269b    21 hours ago    487MB</code></pre></div></div><div class="paragraph"><p>Next, run the image as a container:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>docker run -d --name gettingstarted-app -p 9080:9080 openliberty-getting-started:1.0-SNAPSHOT</code></pre></div></div><div class="paragraph"><p>There is a bit going on here, so here’s a breakdown of the command:</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width:13.0434%"><col style="width:86.9566%"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><strong>Flag</strong></th><th class="tableblock halign-left valign-top"><strong>Description</strong></th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-d</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Runs the container in the background.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">--name</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a name for the container.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-p</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Maps the container ports to the host ports.</p></td></tr></tbody></table><div class="paragraph"><p>The final argument in the <code>docker run</code> command is the Docker image name.</p></div><div class="paragraph"><p>Next, run the <code>docker ps</code> command to verify that your container started:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>docker ps</code></pre></div></div><div class="paragraph"><p>Make sure that your container is running and does not have <code>Exited</code> as its status:</p></div><div class="listingblock no_copy"><div class="content"> <pre class="CodeRay highlight"><code>CONTAINER ID    IMAGE                         CREATED          STATUS           NAMES
4294a6bdf41b    openliberty-getting-started   9 seconds ago    Up 11 seconds    gettingstarted-app</code></pre></div></div><div class="paragraph"><p>To access the application, go to the <a href="http://localhost:9080/system/properties" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/system/properties</a> URL.</p></div><div class="paragraph"><p>To stop and remove the container, run the following commands:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>docker stop gettingstarted-app &amp;&amp; docker rm gettingstarted-app</code></pre></div></div><div class="paragraph"><p>To remove the image, run the following command:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>docker rmi openliberty-getting-started:1.0-SNAPSHOT</code></pre></div></div></div></div><div class="sect1"><h2 id="running-the-application-from-a-minimal-runnable-jar">Running the application from a minimal runnable JAR</h2><div class="sectionbody"><div class="paragraph"><p>So far, Open Liberty was running out of the <code>target/liberty/wlp</code> directory, which effectively contains an Open Liberty server installation and the deployed application. The final product of the Maven build is a server package for use in a continuous integration pipeline and, ultimately, a production deployment.</p></div><div class="paragraph"><p>Open Liberty supports a number of different server packages. The sample application currently generates a <code>usr</code> package that contains the servers and application to be extracted onto an Open Liberty installation.</p></div><div class="paragraph"><p>Instead of creating a server package, you can generate a runnable JAR file that contains the application along with a server runtime. This JAR file can then be run anywhere and deploy your application and server at the same time. To generate a runnable JAR file, override the <code>include</code> property:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>mvn liberty:package -Dinclude=runnable</code></pre></div></div><div class="paragraph"><p>The packaging type is overridden from the <code>usr</code> package to the <code>runnable</code> package. This property then propagates to the <code class="hotspot=libertyMavenPlugin file=0">liberty-maven-plugin</code> plug-in, which generates the server package based on the <code>openliberty-kernel</code> package.</p></div><div class="paragraph"><p>When the build completes, you can find the minimal runnable <code>guide-getting-started.jar</code> file in the <code>target</code> directory. This JAR file contains only the <code class="hotspot=features file=1">features</code> that you explicitly enabled in your <code class="hotspot file=1">server.xml</code> file. As a result, the generated JAR file is only about 50 MB.</p></div><div class="paragraph"><p>To run the JAR file, first stop the server if it’s running. Then, navigate to the <code>target</code> directory and run the <code>java -jar</code> command:</p></div><div class="listingblock command"><div class="content"> <pre class="CodeRay highlight"><code>java -jar guide-getting-started.jar</code></pre></div></div><div class="paragraph"><p>When the server starts, go to the <a href="http://localhost:9080/system/properties" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/system/properties</a> URL to access your application that is now running out of the minimal runnable JAR file.</p></div><div class="paragraph"><p>You can stop the server by pressing <code>CTRL+C</code> in the shell session that the server runs in.</p></div><div class="paragraph"><p>pom.xml</p></div><div class="listingblock code_column"><div class="content"> <pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers">  3</span>         <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers">  4</span>         <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  5</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  6</span>
<span class="line-numbers">  7</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-getting-started<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>1.8<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>1.8<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="tag">&lt;failOnMissingWebXml&gt;</span>false<span class="tag">&lt;/failOnMissingWebXml&gt;</span>
<span class="line-numbers"> 18</span>        <span class="comment">&lt;!-- Plugin versions --&gt;</span>
<span class="line-numbers"> 19</span>        <span class="tag">&lt;version.liberty-maven-plugin&gt;</span>3.1<span class="tag">&lt;/version.liberty-maven-plugin&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;version.maven-war-plugin&gt;</span>3.2.3<span class="tag">&lt;/version.maven-war-plugin&gt;</span>
<span class="line-numbers"> 21</span>        <span class="tag">&lt;version.maven-surefire-plugin&gt;</span>2.22.2<span class="tag">&lt;/version.maven-surefire-plugin&gt;</span>
<span class="line-numbers"> 22</span>        <span class="tag">&lt;version.maven-failsafe-plugin&gt;</span>2.22.2<span class="tag">&lt;/version.maven-failsafe-plugin&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9080<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9443<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 26</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 27</span>
<span class="line-numbers"> 28</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 29</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 30</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 32</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-web-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 33</span>            <span class="tag">&lt;version&gt;</span>8.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 34</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 36</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;version&gt;</span>3.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 40</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 41</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 42</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 43</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 44</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 46</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;version&gt;</span>5.5.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 49</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 50</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 52</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 53</span>            <span class="tag">&lt;version&gt;</span>3.3.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 55</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 57</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-extension-providers<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 59</span>            <span class="tag">&lt;version&gt;</span>3.3.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 61</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 62</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;groupId&gt;</span>org.glassfish<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 64</span>            <span class="tag">&lt;artifactId&gt;</span>javax.json<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 65</span>            <span class="tag">&lt;version&gt;</span>1.1.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 66</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 67</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 68</span>        <span class="comment">&lt;!-- Support for JDK 9 and above --&gt;</span>
<span class="line-numbers"> 69</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 70</span>            <span class="tag">&lt;groupId&gt;</span>javax.xml.bind<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 71</span>            <span class="tag">&lt;artifactId&gt;</span>jaxb-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;version&gt;</span>2.3.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 74</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 75</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 76</span>
<span class="line-numbers"> 77</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 79</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 80</span>            <span class="comment">&lt;!-- Enable liberty-maven plugin --&gt;</span>
<span class="line-numbers"> 81</span>            <span class="comment">&lt;!-- tag::libertyMavenPlugin[] --&gt;</span>
<span class="line-numbers"> 82</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 83</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 84</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 85</span>                <span class="tag">&lt;version&gt;</span>${version.liberty-maven-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 86</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 87</span>            <span class="comment">&lt;!-- end::libertyMavenPlugin[] --&gt;</span>
<span class="line-numbers"> 88</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 89</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 91</span>                <span class="tag">&lt;version&gt;</span>${version.maven-war-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 92</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 93</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 94</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 96</span>                <span class="tag">&lt;version&gt;</span>${version.maven-surefire-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 97</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 98</span>            <span class="comment">&lt;!-- Plugin to run functional tests --&gt;</span>
<span class="line-numbers"> 99</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">101</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">102</span>                <span class="tag">&lt;version&gt;</span>${version.maven-failsafe-plugin}<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">104</span>                    <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">105</span>                        <span class="tag">&lt;http.port&gt;</span>${liberty.var.default.http.port}<span class="tag">&lt;/http.port&gt;</span>
<span class="line-numbers">106</span>                    <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">107</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">108</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">109</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">110</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">111</span><span class="tag">&lt;/project&gt;</span></code></pre></div></div><div class="paragraph"><p>server.xml</p></div><div class="listingblock code_column"><div class="content"> <pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">Sample Liberty server</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>    <span class="comment">&lt;!-- tag::features[] --&gt;</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>        <span class="tag">&lt;feature&gt;</span>jaxrs-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;feature&gt;</span>jsonp-1.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>        <span class="tag">&lt;feature&gt;</span>cdi-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;feature&gt;</span>mpMetrics-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>        <span class="comment">&lt;!-- tag::mpHealth[] --&gt;</span>
<span class="line-numbers"> 9</span>        <span class="tag">&lt;feature&gt;</span>mpHealth-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">10</span>        <span class="comment">&lt;!-- end::mpHealth[] --&gt;</span>
<span class="line-numbers">11</span>        <span class="tag">&lt;feature&gt;</span>mpConfig-1.3<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">12</span>    <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">13</span>    <span class="comment">&lt;!-- end::features[] --&gt;</span>
<span class="line-numbers">14</span>
<span class="line-numbers">15</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9080</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">16</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9443</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">17</span>
<span class="line-numbers">18</span>    <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">guide-getting-started.war</span><span class="delimiter">"</span></span> <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">19</span>    <span class="tag">&lt;mpMetrics</span> <span class="attribute-name">authentication</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">20</span>
<span class="line-numbers">21</span>    <span class="comment">&lt;!-- tag::logging[] --&gt;</span>
<span class="line-numbers">22</span>    <span class="tag">&lt;logging</span> <span class="attribute-name">traceSpecification</span>=<span class="string"><span class="delimiter">"</span><span class="content">com.ibm.ws.microprofile.health.*=all</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">23</span>    <span class="comment">&lt;!-- end::logging[] --&gt;</span>
<span class="line-numbers">24</span>
<span class="line-numbers">25</span>    <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span> <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span>
<span class="line-numbers">26</span>        <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">27</span>
<span class="line-numbers">28</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">io_openliberty_guides_system_inMaintenance</span><span class="delimiter">"</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">29</span><span class="tag">&lt;/server&gt;</span></code></pre></div></div></div></div><div class="sect1"><h2 id="great-work-youre-done">Great work! You’re done!</h2><div class="sectionbody"><div class="paragraph"><p>You’ve learned the basics of deploying and updating an application on an Open Liberty server.</p></div></div></div><div class="sect1"><h2 id="guide-attribution">Guide Attribution</h2><div class="sectionbody"><div class="paragraph"><p>Packaging and deploying applications <span class="licensedClass">by</span> Open Liberty <span class="licensedClass">is licensed under</span> CC BY-ND 4.0</p></div></div></div></div><div id="guide_section_copied_confirmation">Copied to clipboard</div> <img id="copy_to_clipboard" src="https://openliberty.io/img/guides_copy_button.svg" alt="Copy code block" title="Copy code block"></div><div id="code_column" class="position_relative" tabindex="0"><div id="code_column_title_container"><div id="code_column_tabs_container" class="dimmed"><ul id="code_column_tabs" class="nav" role="tablist"></ul></div><div class="copyFileButton" tabindex="0"> <img src="https://openliberty.io/img/guides_copy_button.svg" alt="Copy file contents" title="Copy file contents"></div></div><div id="code_column_content"></div><div id="prereqs_container"><p id="prereqs_title">Prerequisites:</p><div class="prereqs_list"></div></div> <button id="dismiss_button" aria-label="Back to text" tabindex="0">Back to text</button></div></div><div id="end_of_guide"><h2 tabindex="0">Nice work! Where to next?</h2><div id="end_of_guide_left_section"><p id="guide_attribution"></p><h3 id="feedback_rating_question">What did you think of this guide?</h3><div id="feedback_ratings"> <img class="guide_rating" id="extreme_dislike" src="https://openliberty.io/img/1_Extreme_Dislike.png" onclick="$('#dislike_popup').show(),$('.popup_content').focus()" alt="Extreme Dislike" data-guide-rating="1" tabindex="0" aria-label="Rate this guide as extreme dislike"> <img class="guide_rating" id="dislike" src="https://openliberty.io/img/2_Dislike.png" onclick="$('#dislike_popup').show(),$('.popup_content').focus()" alt="Dislike" data-guide-rating="2" tabindex="0" aria-label="Rate this guide as dislike"> <img class="guide_rating" id="like" src="https://openliberty.io/img/3_Like.png" onclick="$('#like_popup').show(),$('.popup_content').focus()" alt="Like" data-guide-rating="3" tabindex="0" aria-label="Rate this guide as like"> <img class="guide_rating" id="extreme_like" src="https://openliberty.io/img/4_Extreme_Like.png" onclick="$('#like_popup').show(),$('.popup_content').focus()" alt="Extreme Like" data-guide-rating="4" tabindex="0" aria-label="Rate this guide as extreme like"></div><div id="like_popup" class="popup"><div class="popup_content" tabindex="0"><p class="popup_title">Thank you for your feedback!</p> <button id="close_button" class="popup_button" onclick="$('#like_popup').hide()">Close</button></div></div><div id="dislike_popup" class="popup"><div class="popup_content" tabindex="0"><p class="popup_title">Thank you for your feedback!</p><p id="open_issue">Would you like to open an issue in GitHub?</p> <a href="https://github.com/OpenLiberty/guide-getting-started/issues/new" target="_blank" id="yes_button" class="popup_button" onclick="$('#dislike_popup').hide()" rel="noopener noreferrer">Yes</a> <button id="no_button" class="popup_button" onclick="$('#dislike_popup').hide()">No, thank you</button></div></div><h3 id="improve_guide_feedback">What could make this guide better?</h3><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-getting-started/issues">Raise an issue</a> to share feedback</p><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-getting-started/pulls">Create a pull request</a> to contribute to this guide</p><h3 id="need_help">Need help?</h3><p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/open-liberty">Ask a question on Stack Overflow</a></p><h3>Like Open Liberty? Star our repo on GitHub.</h3> <a class="github-button" href="https://github.com/OpenLiberty/open-liberty" data-icon="octicon-star" aria-label="Star OpenLiberty/open-liberty on GitHub" target="_blank" rel="noopener noreferrer">Star</a></div><div id="end_of_guide_right_section"><h3 id="where_to_next">Where to next?</h3><div id="related-guides"><div id="related-guides-cards" class="row"><div class="col-sm-12 col-lg-6"> <a href="https://openliberty.io/guides/maven-intro.html" class="small_guide_item"><div class="guide_title_container"><h3 class="guide_title">Building a web application with Maven</h3></div> <img class="duration_clock_icon" src="https://openliberty.io/img/guide_duration_clock_icon_small.svg" alt="Duration"> <span class="guide_duration">15 minutes</span> </a></div><div class="col-sm-12 col-lg-6"> <a href="https://openliberty.io/guides/rest-intro.html" class="small_guide_item"><div class="guide_title_container"><h3 class="guide_title">Creating a RESTful web service</h3></div> <img class="duration_clock_icon" src="https://openliberty.io/img/guide_duration_clock_icon_small.svg" alt="Duration"> <span class="guide_duration">30 minutes</span> </a></div><div class="col-sm-12 col-lg-6"> <a href="https://openliberty.io/guides/docker.html" class="small_guide_item"><div class="guide_title_container"><h3 class="guide_title">Using Docker containers to develop microservices</h3></div> <img class="duration_clock_icon" src="https://openliberty.io/img/guide_duration_clock_icon_small.svg" alt="Duration"> <span class="guide_duration">20 minutes</span> </a></div></div></div></div></div></main><footer><div id="footer_gray_background"><div id="footer_top_container" class="footer_container container-fluid"><div id="footer_project_container"> <span id="footer_open_liberty"></span><p id="footer_project">an IBM open source project</p></div><div id="footer_round_links_container"> <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a> <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a> <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a> <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a></div></div></div><div id="footer_bottom_container" class="footer_container container-fluid"><div id="footer_bottom_left_section"><p id="footer_copyright">© Copyright IBM Corp. 2017, 2019</p><p class="vertical_bar">|</p> <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">Privacy policy</a><p class="vertical_bar">|</p> <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/master/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">License</a></div><div id="footer_bottom_right_section"> <a id="footer_docs_link" href="https://openliberty.io/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">Docs</a> <a id="footer_blog_link" href="https://openliberty.io/blog" aria-label="Open Liberty Blogs" class="right_footer_link blue_link_light_background">Blog</a> <a id="footer_support_link" href="https://openliberty.io/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">Support</a></div></div> </footer><div class="d-none hidden"> <img src="https://openliberty.io/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link"> <img src="https://openliberty.io/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link"> <img src="https://openliberty.io/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link"> <img src="https://openliberty.io/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link"></div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script><script src="https://openliberty.io/assets/devEnvironment-1534f5b3d86298872bff0c998dc072080c30665ac1e9f1d3087393aeba41be1b.js"></script><script src="https://openliberty.io/assets/guide-utils-1bc9c95c7a39c5aed996a9daa39e02bfe2587ae5cb4e6295e95953f57ab7b24a.js"></script><script src="https://openliberty.io/assets/toc-9f2c0762562ac94cfdc5a228800ba66c04c7b5d7bc6acbf83b1f5b475eaad995.js"></script><script src="https://openliberty.io/assets/guide-608dca3e839e274e1af63578c774065d6357bd7e40e8c4f939821395b2c3d669.js"></script><script src="https://openliberty.io/assets/guide-multipane-b593df5e24233d10a69719b81b4ed58aa8e285752947c5ca52a04b26f8d77d5b.js"></script></body></html>