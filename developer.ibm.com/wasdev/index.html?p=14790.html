<!DOCTYPE html>
<html lang="en-US">
<head>
	<!-- SITE MON : START (DO NOT DELETE) -->
	<!-- developerWorks monitoring token -->
	<!-- SITE MON : END (DO NOT DELETE) -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- v18 meta -->
	<meta name="geo.country" content="ZZ" />
	<meta name="dcterms.rights" content="© Copyright IBM Corp. 2016" />
	<meta name="dcterms.date" content="2016-07-18" />
	<meta name="keywords" content="" />
	<meta name="robots" content="index, follow" />
	<link rel="shortcut icon" href="https://www.ibm.com/favicon.ico" />

		<!-- end of v18 meta -->

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://developer.ibm.com/wasdev/xmlrpc.php">
<script>
		 digitalData = {
		  "page":{
		    "category":{
		      "primaryCategory":"SOFDCWSVZZ",		      "ibm":[

		      ]
		    },
		    "pageInfo":{
		      "effectiveDate":"2016-07-18",
		      "expiryDate":"2020-07-18",
		      "language":"en-US",
		      "publishDate":"2015-09-23",
		      "publisher":"IBM Corporation",
		      "version":"v18",
		      "pageID":"",
		      "ibm":{
						"contentDelivery":"HTML",
		        "contentProducer":"IBM Northstar Template Generator 2.0",
		        "country":"ZZ",
		        "industry":"ZZ",
		        "owner":"Jamie Pickett\/Boulder\/IBM",
		        "siteID":"DWNEXT",
						"subject":"SW700",
		        "type":"SW700",
		        "cmClientID":"50200000| DWNEXT",
		        "encoding":"utf8",
		        "encodingRaw":"utf-8",
		        "title":"WebSphere Liberty threading (and why you probably don&#8217;t need to tune it)",
						"contentType": "doc",
						"wpid":"9",
						"topics":"",
						"contentArea": "Coding, DevOps"
		      },
		      "metrics":[

		      ],
		      "keywords":"",
		      "description":"WebSphere Liberty threading (and why you probably don&#8217;t need to tune it)"
		    },
		    "attributes":[

		    ],
		  },
		  "event_coordinator":[

		  ],
		  "isLoaded":true,
		  "user":{
		    "profile":[

		    ],
		    "segment":{

		    }
		  }
		};
	 </script>
<title>WebSphere Liberty threading (and why you probably don&#039;t need to tune it) - WASdev</title>

<!-- This site is optimized with the Yoast SEO plugin v9.0.2 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="The WebSphere Liberty threading model, its default tuning parameters, and why you probably don&#039;t need to change them."/>
<link rel="canonical" href="index.html%3Fp=14790.html" />
<link rel="publisher" href="https://plus.google.com/u/0/+WASdevNet"/>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='https://1.www.s81c.com/' />
<link rel='dns-prefetch' href='https://www.ibm.com/' />
<link rel='dns-prefetch' href='https://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Feed" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; Comments Feed" href="comments/feed/index.html" />
<meta name="segment" property="developerWorks (developerWorks)" productTitle="developerWorks" value="WASdev (developerWorks)">
<link rel="alternate" type="application/rss+xml" title="WASdev &raquo; WebSphere Liberty threading (and why you probably don&#8217;t need to tune it) Comments Feed" href="docs/was-liberty-threading-and-why-you-probably-dont-need-to-tune-it/feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"\/\/dw1.s81c.com\/dw\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='events-manager-css'  href='wp-content/plugins/events-manager/includes/css/events_manager.css' type='text/css' media='all' />
<link rel='stylesheet' id='tab-styles-css'  href='wp-content/plugins/projectnext-shortcodes/tab-styles.css' type='text/css' media='all' />
<link rel='stylesheet' id='cntctfrm_form_style-css'  href='wp-content/plugins/contact-form-plugin/css/form_style.css' type='text/css' media='all' />
<link rel='stylesheet' id='rotatingtweets-css'  href='wp-content/plugins/rotatingtweets/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='dwboomer-style-css'  href='wp-content/themes/boomer-v18/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='wp-includes/css/dashicons.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='pagepost_css-css'  href='wp-content/themes/boomer-v18/css/pagepost.css' type='text/css' media='all' />
<link rel='stylesheet' id='pnext.utils-css'  href='wp-content/themes/boomer-v18/css/pnext.utils.css' type='text/css' media='all' />
<link rel='stylesheet' id='uploaded_css-css'  href='wp-content/uploads/sites/9/2015/03/wasdev.css' type='text/css' media='screen' />
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/www.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/dyntabs.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/v18/js/masonry.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/core.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/widget.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/position.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/mouse.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/sortable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/datepicker.min.js'></script>
<script type='text/javascript'>
jQuery(document).ready(function(jQuery){jQuery.datepicker.setDefaults({"closeText":"Close","currentText":"Today","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nextText":"Next","prevText":"Previous","dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["S","M","T","W","T","F","S"],"dateFormat":"MM d, yy","firstDay":1,"isRTL":false});});
</script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/menu.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/wp-a11y.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var uiAutocompleteL10n = {"noResults":"No results found.","oneResult":"1 result found. Use up and down arrow keys to navigate.","manyResults":"%d results found. Use up and down arrow keys to navigate.","itemSelected":"Item selected."};
/* ]]> */
</script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/autocomplete.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/resizable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/draggable.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/button.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/jquery/ui/dialog.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var EM = {"ajaxurl":"https:\/\/developer.ibm.com\/wasdev\/wp-admin\/admin-ajax.php","locationajaxurl":"https:\/\/developer.ibm.com\/wasdev\/wp-admin\/admin-ajax.php?action=locations_search","firstDay":"1","locale":"en","dateFormat":"dd\/mm\/yy","ui_css":"https:\/\/developer.ibm.com\/wasdev\/wp-content\/plugins\/events-manager\/includes\/css\/jquery-ui.min.css","show24hours":"1","is_ssl":"1","txt_search":"Search","txt_searching":"Searching...","txt_loading":"Loading..."};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/events-manager/includes/js/events-manager.js'></script>
<script type='text/javascript' src='wp-content/plugins/projectnext-shortcodes/tab-dropdown.js'></script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/pnext.utils.js'></script>
<script type='text/javascript' src='https://1.www.s81c.com/common/stats/ida_stats.js'></script>
<link rel='https://api.w.org/' href='wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.ibm.com/wasdev/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.9" />
<link rel='shortlink' href='index.html%3Fp=14790.html' />
<link rel="alternate" type="application/json+oembed" href="https://developer.ibm.com/wasdev/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fwas-liberty-threading-and-why-you-probably-dont-need-to-tune-it%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.ibm.com/wasdev/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fwas-liberty-threading-and-why-you-probably-dont-need-to-tune-it%2F&#038;format=xml" />
<link rel='https://github.com/WP-API/WP-API' href='https://developer.ibm.com/wasdev/wp-json' />
<style type="text/css" id="syntaxhighlighteranchor"></style>
		<style type="text/css" id="wp-custom-css">
			.videoWrapper {
	position: relative;
	padding-bottom: 56.25%;
/* 16:9 */
	padding-top: 25px;
	height: 0;
}

.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.pnpagepost  .pn-listing .pn-list__item .entry-content .entry-meta .byline br {
	display: none;
}

/*Adds border to any screenshot with this class applied. Looks neater and clearer.*/
img.screenshot {
	border: 1px solid #afafaf;
}

/*Adds border to any photo with this class applied. Looks neater and clearer.*/
img.photo {
	border: 1px solid #afafaf;
}

/*Nests ordered lists correctly.*/
ol>li ol>li::before {
	content: counter(item, lower-alpha)".";
}

ol>li ol>li ol>li::before {
	content: counter(item, lower-roman)".";
}

/* hiding the doubled up author images */
.pn-listing .pn-list__item .byline .avatar {
	display: none !important;
}

/* removing bullets from the EM widget */
.widget-area .widget.widget_em_widget ul li:before,
.widget-area .widget.widget_text ul li:before{display:none;}

/*push anchored h2 headings down from browser top so they're not hidden behind the static headers
h2:before { 
  display: block; 
  content: " "; 
  margin-top: -300px; 
  height: 300px; 
  visibility: hidden; 
}*/

h2 { padding-top: 30px !important; }
		</style>
	
    <link href="https://1.www.s81c.com/common/v18/css/www.css" rel="stylesheet" />
    <link href="https://1.www.s81c.com/common/v18/css/grid-fluid.css" rel="stylesheet">
    <link href="https://1.www.s81c.com/common/v18/css/tables.css" rel="stylesheet">

	<script type="text/javascript">
		 IBMCore.common.util.config.set({
		  "masthead":{
		    "type":"alternate"
		  },
			greeting: { enabled: false },
		  "footer":{
		  	"type":"alternate",
		    "socialLinks":{
		      "enabled":false
		    }
		  },
			survey: { global_percent: 0 }
		});
	 </script>
</head>

<body id="ibm-com" class="doc-template-default single single-doc postid-14790 ibm-com ibm-type group-blog">
	<div style="display:none"></div>
<!--div id="page" class="site"-->
<div id="ibm-top" class="ibm-landing-page">
	<a class="skip-link screen-reader-text" href="index.html%3Fp=14790.html#main">Skip to content</a>

	<!-- MASTHEAD_BEGIN -->
	<div id="ibm-masthead" role="banner" aria-label="IBM" class="ibm-mhtype-minimal">
		<div id="ibm-mast-options">
			<ul role="toolbar" aria-labelledby="ibm-masthead">
				<li id="ibm-geo" role="presentation">
					<a href="http://www.ibm.com/planetwide/select/selector.html">United States</a>
				</li>
			</ul>
		</div>
		<div id="ibm-universal-nav">
			<div id="ibm-home">
				<a href="http://www.ibm.com/us-en/">IBM¨</a>
			</div>
			<div class="dw-nav-left">
				<a href="http://developer.ibm.com" class="dw-logo"><span>IBM Developer</span></a>
							</div>
			<ul id="ibm-menu-links" role="toolbar" aria-label="Site map" class="ibm-hide">
				<li><a href="http://www.ibm.com/sitemap/us/en/">Site map</a></li>
			</ul>
			<div id="ibm-search-module" role="search" aria-labelledby="ibm-masthead">
				<!-- form id="ibm-search-form" action="http://www.ibm.com/Search/" method="get" -->
				<form id="ibm-search-form" action="https://www.ibm.com/Search/" method="get">
					<p>
						<label for="q"><span class="ibm-access">Search</span></label>
						<input type="text" maxlength="100" value="" name="q" id="q"/>
						<input type="hidden" name="v" value="18" />
						<input type="hidden" name="en" value="utf" />
						<input type="hidden" name="lang" value="en" />
						<input type="hidden" name="cc" value="us" />
						<input type="hidden" name="sn" value="dw" />
						<input type="hidden" name="dw" value="dws" />

						<span class="ibm-search-scope">
							<input type="checkbox" class="ibm-styled-checkbox" name="sn" value="Search standards" checked id="scopeoption">
							<label for="scopeoption">Search WASdev</label>
						</span>

						<input type="submit" id="ibm-search" class="ibm-btn-search" value="Submit"/>
					</p>
				</form>
									<form class="ibm-hide" id="devcenter-search-form" action="index.html%3Fp=719.html" method="get">
						<p>
							<label for="pnext-search-input" class="screen-reader-text">Search</label>
							<input maxlength="100" required aria-required="true" id="q" class="pn-search-input pn-nav-search-input fl" name="q" type="text">
							<input type="submit" id="ibm-search" class="ibm-btn-search" value="Seach"/>
						</p>
					</form>
								</div>
		</div>
	</div>
  <!-- MASTHEAD_END -->
  <div id="ibm-content-wrapper">
  	<header role="banner" aria-labelledby="ibm-pagetitle-h1">
  		<!-- MASTHEAD_SITENAV_BEGIN -->
<div class="ibm-sitenav-menu-container">
  <div class="ibm-sitenav-menu-name">
    <a href="docs/portlet-container-differences-liberty-full-profile/index.html" rel="home">WASdev</a>
  </div>
    <div class="ibm-sitenav-menu-list"><ul id="primary-menu" class="menu"><li id="menu-item-11996" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11996"><a title="About WebSphere Liberty" href="docs/introducing_the_liberty_profile/index.html">About</a></li>
<li id="menu-item-12338" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12338"><a href="getstarted/index.html">Get Started</a></li>
<li id="menu-item-8368" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8368"><a title="Download Liberty, features, and samples" href="downloads/websphere-application-server-migration-tools/index.html">Downloads</a></li>
<li id="menu-item-2816" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2816"><a title="Articles and videos for developers" href="docs.html">Docs</a></li>
<li id="menu-item-12458" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12458"><a title="Open source code on Github" href="https://github.com/wasdev">Source Code</a></li>
<li id="menu-item-718" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-718"><a title="All the ways you can get help developing on Liberty" href="help.html">Get Help</a></li>
<li id="menu-item-2415" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-2415"><a title="News, events, and opinions on WAS Liberty" href="blog.html">News &#038; Events</a></li>
</ul></div></div>
<!-- MASTHEAD_SITENAV_END -->
  	</header>
<style>#ibm-com .gsc-adBlock{display:none !important;}</style>
<div id="content" class="site-content">
<div id="primary" class="content-area ibm-columns pnpagepost">
		<header class="pagepost-entry-header"><div class="pn_categories"><span><b>in </b><a href="docs/category/coding/index.html" rel="tag">Coding</a><i>, </i><a href="docs/category/devops/index.html" rel="tag">DevOps</a></span></div><h1 class="entry-title">WebSphere Liberty threading (and why you probably don&#8217;t need to tune it)</h1><div class="entry-meta"><div class="pn_byline"><br><span class="author vcard"><a class="url fn n" href="blog/author/gpicher/index.html">gpicher</a></span><br>Published on September 23, 2015<i> / Updated on March 16, 2018</i></div><div class="pn_slic"><a href="index.html%3Fp=14790.html#comments" class="pn_comments_icon">10 <i>Comments</i></a></div></div></header>		<section class="ibm-fluid">
			<div class="ibm-col-12-3">
				<nav role="left-nav" id="pnext_cpt_leftnav">
									<div id="ibm-navigation">
										<ul class="doc_categories" id="pnext_cpt_leftnav__links" role="tree" aria-labelledby="ibm-pagetitle-h1">
											<li id="ibm-overview" class="cat-all"><a href="docs.html">All Documentation</a><a href="index.html%3Fp=14790.html#" class="pnext_cpt_leftnav_expand ibm-chevron-down-link"><i>expand</i></a></li>	<li class="cat-item cat-item-345"><a href="docs/category/open-liberty/index.html" >Open Liberty <span class="count">(19)</span></a>
</li>
	<li class="cat-item cat-item-333"><a href="docs/category/knowledge-centers/index.html" >Official documentation <span class="count">(5)</span></a>
</li>
	<li class="cat-item cat-item-84"><a href="docs/category/installation/index.html" >Installation <span class="count">(9)</span></a>
</li>
	<li class="cat-item cat-item-80"><a href="docs/category/getting-started/index.html" >Getting started with Liberty <span class="count">(7)</span></a>
</li>
	<li class="cat-item cat-item-88"><a href="docs/category/migration-articles/index.html" >Migration <span class="count">(3)</span></a>
</li>
	<li class="cat-item cat-item-85"><a href="docs/category/coding/index.html" >Coding <span class="count">(80)</span></a>
</li>
	<li class="cat-item cat-item-335"><a href="docs/category/tools/index.html" >Tools <span class="count">(3)</span></a>
</li>
	<li class="cat-item cat-item-212"><a href="docs/category/java-ee/index.html" >Java EE <span class="count">(53)</span></a>
</li>
	<li class="cat-item cat-item-330"><a href="docs/category/microprofile/index.html" >MicroProfile <span class="count">(13)</span></a>
</li>
	<li class="cat-item cat-item-210"><a href="docs/category/osgi-techs/index.html" >OSGi <span class="count">(12)</span></a>
</li>
	<li class="cat-item cat-item-226"><a href="docs/category/extensions/index.html" >Extending Liberty <span class="count">(6)</span></a>
</li>
	<li class="cat-item cat-item-223"><a href="docs/category/oss/index.html" >Liberty with open source <span class="count">(15)</span></a>
</li>
	<li class="cat-item cat-item-225"><a href="docs/category/workflow/index.html" >Setting up your Liberty workflow <span class="count">(6)</span></a>
</li>
	<li class="cat-item cat-item-86"><a href="docs/category/devops/index.html" >DevOps <span class="count">(57)</span></a>
</li>
	<li class="cat-item cat-item-273"><a href="docs/category/security/index.html" >Security <span class="count">(10)</span></a>
</li>
	<li class="cat-item cat-item-208"><a href="docs/category/internet-of-things/index.html" >Internet of Things <span class="count">(6)</span></a>
</li>
	<li class="cat-item cat-item-241"><a href="docs/category/rtcomm/index.html" >Real-time comms <span class="count">(1)</span></a>
</li>
	<li class="cat-item cat-item-274"><a href="docs/category/microservices/index.html" >Microservices <span class="count">(3)</span></a>
</li>
	<li class="cat-item cat-item-209"><a href="docs/category/cloud/index.html" >Cloud <span class="count">(22)</span></a>
</li>
	<li class="cat-item cat-item-126"><a href="docs/category/labs/index.html" >Labs <span class="count">(2)</span></a>
</li>
	<li class="cat-item cat-item-111"><a href="docs/category/fun-projects/index.html" >Fun projects <span class="count">(7)</span></a>
</li>
	<li class="cat-item cat-item-82"><a href="docs/category/videos/index.html" >Videos <span class="count">(25)</span></a>
</li>
	<li class="cat-item cat-item-83"><a href="docs/category/podcasts/index.html" >Podcasts <span class="count">(1)</span></a>
</li>
	<li class="cat-item cat-item-94"><a href="docs/category/early-access/index.html" >Early Access <span class="count">(7)</span></a>
</li>
</ul>
									</div>
								</nav>			</div>
			<div class="ibm-col-12-9 entry-content">
				<main id="main" class="site-main" role="main">
														<p>If you&#8217;ve ever used WAS traditional, you&#8217;re used to having lots of thread pools and you&#8217;re used to having to tune them.  You want to maximize the performance of your server, and adjusting thread pool sizes is one of the most effective ways of doing so.</p>
<p>So it&#8217;s only natural that, the first time you create a Liberty server, you want to find all the bells and whistles for configuring the thread pools and you want to play around with them.  You might even be tempted to adjust the thread pool settings before deploying your first application because you just <em>know</em> that you&#8217;re going to need to, right?</p>
<p>Wrong (probably).</p>
<p>The Liberty threading model is, quite simply, completely different than the WAS traditional threading model.  First of all, WAS traditional has multiple thread pools, whereas Liberty has a single thread pool called the <em>default executor</em>.  This doesn&#8217;t mean that every single thread in a thread dump is in this thread pool. If you take a thread dump and look closely, you&#8217;ll see a bunch of utility threads like OSGi framework threads, JVM garbage collections threads, Java NIO selector threads, etc&#8230;</p>
<p>What I mean by a single thread pool is that all of the <em>application code</em> runs in a single thread pool.  (This isn&#8217;t completely true &#8230; there are a few edge cases where application code might run outside of the default executor, but it&#8217;s not worth worrying about.)</p>
<p>Okay, so if all application code runs in a single thread pool, it must be REALLY important to tune it.  Right?</p>
<p>Nope, not really.  The defaults are actually very good. More importantly, the defaults are very good for a wide range of workload types.</p>
<h2>Threading settings</h2>
<p>Let&#8217;s take a look at some of the threading settings that are configured using the executor, what their defaults are, and what they mean:</p>
<ul>
<li><code>coreThreads</code> &#8211; This is essentially a &#8216;minimum threads&#8217; value; once Liberty creates enough threads to exceed the coreThreads value, weâ€™ll never get rid of threads to drop below it. The underlying executor creates a new thread for each piece of offered work, until there are <code>coreThreads</code> threads in the pool. Once the <code>coreThreads</code> size is reached, the Liberty threadpool auto-tuning algorithm controls the number of threads in the range between <code>coreThreads</code> and <code>maxThreads</code>.
<p>The default value for <code>coreThreads</code> is <code>-1</code>, which means that at runtime we set <code>coreThreads</code> to a multiple of the number of hardware threads on your system.  (Currently, that multiple is 2, but we reserve the right to change that.)</p>
</li>
<li><code>maxThreads</code> &#8211; This one is pretty obvious.  It&#8217;s the maximum number of threads that we can possibly create for this thread pool.  Ever.
<p>The default value is <code>-1</code>, which translates to <code>MAX_INT</code> or, essentially, infinite.</p>
<p>You might be thinking, isn&#8217;t &#8216;infinite&#8217; kind of a bad default for <code>maxThreads</code>?  It&#8217;s actually quite a sensible default. That&#8217;s because Liberty uses an auto-tuning algorithm to find the sweet spot for how many threads the server needs.  I&#8217;ll go into more detail below but, essentially, Liberty is <em>always</em> playing around and adjusting the number of threads in the pool in-between the defined bounds for <code>coreThreads</code> and <code>maxThreads</code>.</p>
<p>Saying that the default for <code>maxThreads</code> is infinite is basically saying &#8220;do NOT restrict the Liberty auto-tuning algorithm&#8221;.  Let it do its job with no bounds.  Don&#8217;t worry, though; setting <code>maxThreads</code> to the default doesn&#8217;t mean that Liberty WILL create <code>MAX_INT</code> threads.  We technically could but it would never, ever, be beneficial to do so. So we never will even come remotely close.</p>
</li>
<li><code>keepAlive</code> &#8211; This kinda implies that it&#8217;s the amount of time an idle thread will remain in the pool before it goes away.  However, due to the details of how the auto-tuning algorithm works (explained below), this setting never comes into play.  The default is <code>60s</code> but, like I said, it just simply never comes into play.</p>
</li>
<li><code>name</code> &#8211; This is the name of the thread pool, and it&#8217;s also part of the name of the threads that live in this pool.  The default is <code>Default Executor</code>.  Don&#8217;t change it.  There&#8217;s no point, and it just makes it more difficult to find the default executor threads in a thread dump if you happen to be looking for them.</p>
</li>
<li>
<p><code>rejectedWorkPolicy</code> &#8211; This is what happens when a piece of work gets submitted to the executor but the work queue that backs the executor is full.  You can choose to either have the submitting thread run the work, or you can choose to have an exception be thrown to the submitter.  Here&#8217;s the thing, though&#8230;  the work queue that backs the default executor is infinite.  If we reject work, it&#8217;s because your server is out of memory, in which case you&#8217;ve got bigger problems than what to do with rejected work.  The default is to throw an exception to the submitter, and there&#8217;s no reason to change it.</p>
</li>
<li>
<p><code>stealPolicy</code> &#8211; This is a dead setting.  Prior to Liberty V8.5.5.2, the default executor used a series of thread-local work queues that could steal from each other in an attempt to boost performance.  As it turns out, it didn&#8217;t boost performance much, if at all, and it caused a lot of headaches.  So we removed this feature from the default executor but, for backwards compatibility, we still have to honor this configuration option.  The <code>stealPolicy</code> setting controlled some of the behavior of that work-stealing feature but now that the feature is gone, this setting does absolutely nothing.</p>
</li>
</ul>
<p>Alright, so to summarize thus far, the <em>only</em> settings of the executor that are remotely interesting to change are the <code>coreThreads</code> and <code>maxThreads</code>.  These settings, as already discussed, serve as bounds for the Liberty auto-tuning algorithm.  Let&#8217;s get into a little more detail about how that algorithm works.</p>
<h2>How the auto-tuning algorithm works</h2>
<p>The Liberty default executor is broken into two pieces: (a) the <em>underlying implementation</em>, and (b) the <em>controller thread</em>.  The underlying implementation is the actual physical thread pool, and the controller thread determines the thread pool size of the underlying implementation.  The controller thread is free to choose any pool size in between <code>coreThreads</code> and <code>maxThreads</code> but note that, from the perspective of the underlying implementation, the pool size is always constant.</p>
<p>Here&#8217;s an example.  Let&#8217;s say you use the defaults for <code>coreThreads</code> and <code>maxThreads</code> and that you have 8 hardware threads on your system.  At run time, the controller thread is bounded by <code>coreThreads</code> of <code>16</code> and <code>maxThreads</code> of <code>MAX_INT</code>.  Let&#8217;s say that the controller thread determines that 18 is the current optimal number of threads.  The controller thread then sets BOTH <code>coreThreads</code> and <code>maxThreads</code> of the underlying implementation to the same value, <code>18</code>.</p>
<p>Note that this is why the <code>keepAlive</code> setting of the executor is useless. At the level where it matters (on the underlying implementation), <code>coreThreads</code> is always equal to <code>maxThreads</code>, so there are never any idle threads sitting around waiting to go away.</p>
<p>Now, just because the controller thread determined that 18 is the optimal pool size RIGHT NOW doesn&#8217;t mean that it can&#8217;t change its mind.  It&#8217;s actually running on a loop and analyzing throughput.  It&#8217;s constantly recalculating what the optimal pool size is based on its throughput observations.</p>
<p>If you start a server and don&#8217;t run any workload, it&#8217;ll settle on a lower value for the pool size.  If you ramp up the workload, the server will adjust and increase the number of threads, although I should note that this might take a few minutes.  The algorithm doesn&#8217;t want to over-respond to quick changes in workload, so it does take its time increasing the number of threads (or decreasing them, if workload gets reduced).</p>
<h2>Fighting deadlocks in the executor</h2>
<p>Those are the basics of how the threading model works, but let me just discuss one more detail that comes into play for Liberty V8.5.5.6.  Prior to that version, it was sometimes possible to deadlock the executor.  In other words, all threads in the executor would be occupied but they would all be occupied waiting for OTHER work to complete, work that had been queued to the executor.  But the executor didn&#8217;t have any threads left.  The Liberty auto-tuning algorithm used to not handle this situation very well and would sometimes give up trying to add threads to break the deadlock.</p>
<p>This behavior led a lot of folks to set the <code>coreThreads</code> value of the executor to a high number to ensure that the executor never deadlocked.  However, in V8.5.5.6, we modified the auto-tuning algorithm to <em>aggressively</em> fight deadlocks.  Now, it is essentially impossible for the executor to deadlock. So if you&#8217;ve manually set <code>coreThreads</code> in the past to avoid executor deadlocks, you might want to consider reverting back to the default once you move to V8.5.5.6.</p>
<p>That&#8217;s it in a nutshell.</p>
<p>What should you take away from this?  Don&#8217;t tweak the default executor settings (unless you really, <em>really</em> have to)!  We try really, really hard to make the defaults work for as many types of workloads as possible.  Yes, there will be some edge cases where you may need to adjust <code>coreThreads</code> and <code>maxThreads</code>, but at least try the defaults first.</p>
<h2>Optimizing for cloud</h2>
<p>One of the many consequences of running on the cloud is that there are usually a greater number of &#8220;layers&#8221; involved when compared with running on a bare metal machine. The &#8216;layers&#8217; could refer to the virtualization of different resources (CPU, storage etc.) or simply that completing a task may involve more network hops since the location of the machine having the resource (say, the database) is more uncertain across a large farm of cloud machines than it is in a more controlled on-premise environment. Regardless, the presence of more layers invariably leads to performance overheads and so the latency associated with each task could be significantly higher when running on the cloud. Depending on application design, higher latency environments can require many more application threads to fully exploit the available CPU resources, as threads may spend time blocked on remote task execution.</p>
<p>Starting in Liberty 18.0.0.1 the default thread pool autonomics were enhanced to be more highly performing in cloud (high latency) scenarios.</p>
<p>Higher latency tasks may require large thread pool sizes for optimal throughput. The prior controller only adjusted the pool size by +/-1 thread at each evaluation cycle, which would take a long time to grow the pool to a large size. Starting in 18.0.0.1 the controller adjusts the pool size by a multiple of the number of hardware threads available. Using the number of hardware threads increments makes the adjustments proportional to the computing resources available for the Liberty threads to use. It allows the pool size to grow more quickly. The number of hardware threads multiplier that is used to determine the pool increment/decrement value starts at one. It is increased as the pool size grows past threshold levels (thresholds are defined also as multiples of number of hardware threads), so that the amount of each pool size change remains proportional to the pool size.</p>
<p>As discussed earlier, the controller uses observations of throughput at different pool sizes to decide whether to grow or shrink the pool. However, there are a variety of factors other than the pool size that can affect throughput, such as competing workloads, Java GC pauses, or unknown delay factors on other systems involved in the transaction. The prior implementation considered only historical throughput data in the range current pool size +/-1. Within that narrow range of pool size, the correlation between pool size and throughput may not be very strong, considering the other factors that can affect throughput. So as of 18.0.0.1 the controller considers throughput for a broader range of pool sizes when making grow/shrink decisions. It looks at historical throughput data for &#8216;current-pool-size +/- (pool-increment * <em>N</em>)&#8217;, where <em>N</em> is an internal constant. This broader scope improves the correlation between pool size and throughput, making it less likely that the controller will be misled by random noise (throughput variation not related to pool size) in the historical data.</p>
<p>Applications can undergo a change in behavior (&#8216;phase change&#8217;) for a variety of reasons: Application input, environment, language runtime can all change over time. Such workload changes could cause the historical throughput data to be unrepresentative of the &#8216;current&#8217; state of the system. To reduce the probability of making grow/shrink decisions based on unrepresentative throughput data, an aging factor was introduced in Liberty 18.0.0.1 which discards data for a pool size if that pool size has not been tried recently. Aging out old data improves the controller&#8217;s ability to adapt to change in workload conditions.</p>
<p>The CPU resources available to the Liberty server are an important input to thread pool grow/shrink decisions &#8211; in particular, if the CPU usage is already high, adding threads is unlikely to improve throughput. This is pretty much common sense; manual thread pool tuning exercises always consider the CPU utilization as an input when seeking the optimal pool size. Beginning in Liberty 18.0.0.1, a &#8216;CPU high&#8217; indicator is included in the thread pool controller &#8211; if a &#8216;CPU high&#8217; condition is detected, the controller will be less inclined to grow the thread pool, and more inclined to shrink it. The CPU state is monitored by reading Java MBeans for Process CPU (percent utilization of CPUs available to the Java process) and System CPU (percent utilization of all CPU resources in the system).</p>
<p>These changes to Liberty 18.0.0.1 produced significant speedups in application throughput in several high latency test cases, using the default thread pool executor without any tuning. These high-latency throughput improvements were achieved without generating too many threads for low-latency workloads, so low-latency throughput was on par with the historical controller implementation.</p>
<p><em>Updated 2018-03-16 by Gary DeVal for WebSphere Liberty 18.0.0.1 release.</em></p>
							<footer class="entry-footer" id="doc_author">
								<div class="byline"><div><p class="byline__author"><span class="author vcard">by <a class="url fn n" href="blog/author/gpicher/index.html">gpicher</a></span></p><ul class="byline__social"></ul><p class="byline__bio"></p></div></div>							</footer><!-- .entry-footer -->
							
<div id="comments" class="comments-area">

	
			<p class="comments-title ibm-h3 ibm-light">
			10 comments on"WebSphere Liberty threading (and why you probably don&#8217;t need to tune it)"		</p>

		
		<ol class="comment-list">
				<li class="comment byuser comment-author-gpicher bypostauthor even thread-even depth-1 pn-comment" id="comment-130223">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">gpicher</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130223">
					October 08, 2015	         	</a>
			</div>
			      		<p>Hi Joe, let me get some clarifications on your scenario.  In your example, where is the Liberty server; is it the front-end server running the batch job, or is it the backend server pulling messages off of the queue and processing them?</p>
<p>Are you using the thread pool to throttle how quickly messages get placed ONTO the queue by the frontend, or how quickly they are picked up by an activation spec (or listener port) on the backend?  I&#8217;m assuming that you are talking about the latter.</p>
<p>If that is the case, I will have to check with the JMS folks about what kind of throttles exist on the activation spec.  If you didn&#8217;t throttle the activation spec at all, then what would happen is that messages would get picked up and placed onto the global queue of the default executor at a very fast pace.  The size of the global queue would increase quite rapidly.</p>
<p>The actual throughput of the server should be okay, because the auto-tuning algorithm is still going to adjust the number of threads to obtain max throughput.  For example, if 1,000 messages got pulled off the queue and queued to the default executor global queue on a 2 processor system, the auto-tuning algorithm still probably won&#8217;t create more than 8 or so threads on average.  This can vary wildly depending on how CPU vs I/O intensive the work is, but the algorithm will handle it.  The messages will get processed at a solid, hopefully optimal, rate.</p>
<p>The downside here is that all of these messages on the global queue will block other work, so if you have mixed workload (some HTTP work going into the server, for example), it might get stuck on the global queue behind the messages.</p>
<p>So for that reason, I can definitely see why throttling at the activation spec layer would be desirable.  I&#8217;m not sure what kind of support exists for that.  If you could please just let me know that I understand your question correctly, I will then follow up with the JMS folks and get you an answer.</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130223' onclick='return addComment.moveForm( "comment-130223", "130223", "respond", "14790" )' aria-label='Reply to gpicher'>Reply</a>			</div>
     	</div>
    </li>
<ul class="children">
	<li class="comment odd alt depth-2 pn-comment" id="comment-130239">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">Joe</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130239">
					October 09, 2015	         	</a>
			</div>
			      		<p>What you said about the activation spec is interesting&#8230;and am interested in the kind of support that WLP has&#8230;though typically I probably will have different JMS endpoints for different priority workload in the first place.</p>
<p>But actually my case is WLP as the front-end server (running a batch job), and need to throttle how quickly messages get placed ONTO the queue (to the other end which is mainframe).</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130239' onclick='return addComment.moveForm( "comment-130239", "130239", "respond", "14790" )' aria-label='Reply to Joe'>Reply</a>			</div>
     	</div>
    </li>
<ul class="children">
	<li class="comment even depth-3 pn-comment" id="comment-130311">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">Peter</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130311">
					October 11, 2015	         	</a>
			</div>
			      		<p>I would normally suggest the use of managed executor service or managed thread factory (concurrent-1.0 feature in WAS liberty) with the max. amount of threads limited to the desired value, however I&#8217;m not aware of any directly configurable method to limit the amount of threads here (yes, it can be done programatically using the thread factory, but that isn&#8217;t that elegant as work manager with thread limit in WAS classic). So I&#8217;m also curious.</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130311' onclick='return addComment.moveForm( "comment-130311", "130311", "respond", "14790" )' aria-label='Reply to Peter'>Reply</a>			</div>
     	</div>
    </li>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 pn-comment" id="comment-130210">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">Joe</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130210">
					October 08, 2015	         	</a>
			</div>
			      		<p>Good article, explains it very well.</p>
<p>I suspect with the control settings in the classic, people might be using it for things you might not have anticipated. So maybe here is one&#8230;..we used to run a batch job that process rows in an incoming file and send a MQ message to the backend. We do not want the backend to be overwhelmed if out of the blue someone drops an unexpected large file. So we limit the concurrency with the max thread settings of the thread pool allocated to this job.</p>
<p>Now if in WLP we can&#8217;t have a dedicated pool for this job, what are the alternatives? I think a dedicated JMS connection pool for this job with its own max conn setting?</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130210' onclick='return addComment.moveForm( "comment-130210", "130210", "respond", "14790" )' aria-label='Reply to Joe'>Reply</a>			</div>
     	</div>
    </li>
<ul class="children">
	<li class="comment byuser comment-author-gpicher bypostauthor even depth-2 pn-comment" id="comment-130224">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">gpicher</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130224">
					October 08, 2015	         	</a>
			</div>
			      		<p>Ooops, I posted a new comment instead of replying directly to yours.  Please see above for my response.</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130224' onclick='return addComment.moveForm( "comment-130224", "130224", "respond", "14790" )' aria-label='Reply to gpicher'>Reply</a>			</div>
     	</div>
    </li>
</li><!-- #comment-## -->
	<li class="comment byuser comment-author-gpicher bypostauthor odd alt depth-2 pn-comment" id="comment-130825">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">gpicher</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130825">
					October 29, 2015	         	</a>
			</div>
			      		<p>Hi Joe, just wanted to let you know that I didn&#8217;t forget about your question.  I personally don&#8217;t have JMS experience, but I&#8217;m trying to locate someone who does and who can answer your question.</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130825' onclick='return addComment.moveForm( "comment-130825", "130825", "respond", "14790" )' aria-label='Reply to gpicher'>Reply</a>			</div>
     	</div>
    </li>
</li><!-- #comment-## -->
	<li class="comment byuser comment-author-gpicher bypostauthor even depth-2 pn-comment" id="comment-130867">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">gpicher</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-130867">
					October 30, 2015	         	</a>
			</div>
			      		<p>Here is a response from my colleague, Venu, who is very familiar with JMS:</p>
<p>&#8220;I have gone through it.. and I feel it may not be possible to control from front end.. as soon as connection is available to front end.. messages can be sent.. thus putting them into Queue immediately.  Only way is to throttle this flow to reduce the availability of threads and connections for front end. However as you mentioned in your mail.. this may not be feasible as messages can be flood with limited connections and threads.</p>
<p>Fom back ground i.e activation specification.. it can be done using the following parameters:</p>
<p>Maximum concurrent endpoints<br />
Maximum batch size</p>
<p>Here is in-detailed explanation by cWAS infocenter(<a href="https://www-01.ibm.com/support/knowledgecenter/SSAW57_7.0.0/com.ibm.websphere.nd.doc/info/ae/ae/tjn0027_.html">https://www-01.ibm.com/support/knowledgecenter/SSAW57_7.0.0/com.ibm.websphere.nd.doc/info/ae/ae/tjn0027_.html</a>).. however it is relevant to Librty also.</p>
<p>***************************************************************<br />
Maximum concurrent endpoints</p>
<p>The default messaging provider enables the throttling of message delivery to a message-driven bean through the Maximum concurrent endpoints configuration option on the JMS activation specification used to deploy the bean.<br />
The maximum number of instances of each message-driven bean is controlled by the Maximum concurrent endpoint setting in the activation specification used to deploy the message-driven bean. This maximum concurrency limit helps prevent a temporary build up of messages from starting too many MDB instances. By default, the maximum number of concurrent MDB instances is set to 10.<br />
The Maximum concurrent endpoints field limits the number of endpoints (instances of a given message-driven bean) that process messages concurrently. If the maximum has been reached, new messages are not accepted from the messaging engine for delivery until an endpoint finishes its current processing.<br />
If the available message count (queue depth) associated with a message-driven bean is frequently high, and if your server can handle more concurrent work, you can benefit from increasing the maximum concurrency setting.<br />
If you set the maximum concurrency for a message-driven bean, be sure that you specify a value smaller than the maximum number of endpoint instances that can be created by the adapter that the message-driven bean is bound to. If necessary, increase the endpoint instance limit.</p>
<p>Maximum batch size<br />
An activation specification also has a Maximum batch size that refers to how many messages can be allocated to an endpoint in one batch for serial delivery. So, for example, if you have set the Maximum concurrent endpoints property to 10 and the Maximum batch Size property to 3, then there can be up to 10 endpoints each processing up to 3 messages giving a total of 30 messages allocated to that message-driven bean. If there are multiple message-driven beans deployed against a single activation specification then these maximum values apply to each message-driven bean individually.<br />
***************************************************************</p>
<p>There is one more new JMS 2.0 feature called delivery delay.. this can be set in their front end. Delivery delay is JMS API which has to be set while sending the messages. This will ensures the message is eligible to deliver to consumer (i.e MDB) only after delivery delay elapses.<br />
<a href="http://www.oracle.com/technetwork/articles/java/jms2messaging-1954190.html">http://www.oracle.com/technetwork/articles/java/jms2messaging-1954190.html</a> ( Please look for delivery delay).&#8221;</p>
<p>Note that he mentioned it might be possible to throttle on the front end by limiting threads / connections, but although this MIGHT work it very much depends on how quickly those threads are processing the file.  If they process it very quickly, it is still possible for a small number of threads to overwhelm the queue.  This isn&#8217;t a &#8220;hard throttle&#8221;, but just an attempt to slow things down enough.</p>
<p>The backend really seems like the place to control this, with the queue absorbing the messages from the frontend while the backend catches up at its own pace.</p>
<p>Hope this helps!</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-130867' onclick='return addComment.moveForm( "comment-130867", "130867", "respond", "14790" )' aria-label='Reply to gpicher'>Reply</a>			</div>
     	</div>
    </li>
<ul class="children">
	<li class="comment odd alt depth-3 pn-comment" id="comment-131198">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">Peter</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-131198">
					November 12, 2015	         	</a>
			</div>
			      		<p>Yes that&#8217;s pretty much it.<br />
However as we;re talking about the Liberty threading and the possibility to throttle certain thing by restricting the amount of available threads (that may be used for another reasons as well) &#8211; what are the best options with Liberty then?</p>
<p>With WAS classic we usually used CommonJ work managers with thread pool limits. In WAS Liberty this doesn&#8217;t seem to be directly possible (what concurrent feature currently offers (especially managed executor service) doesn&#8217;t allow that (not configurable at app server level). There&#8217;s an already mentioned possibility with utilizing managed thread factory to create a thread pool with fixed size, but that has to be done programatically then &#8211; it&#8217;s not so elegant when it comes to the configurability right at the application server.</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-131198' onclick='return addComment.moveForm( "comment-131198", "131198", "respond", "14790" )' aria-label='Reply to Peter'>Reply</a>			</div>
     	</div>
    </li>
<ul class="children">
	<li class="comment byuser comment-author-gpicher bypostauthor even depth-4 pn-comment" id="comment-131201">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">gpicher</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-131201">
					November 12, 2015	         	</a>
			</div>
			      		<p>Hi Peter, unfortunately there&#8217;s no way in Liberty to throttle certain things by restricting the number of available threads.  Depending on the specific thing you&#8217;re trying to throttle there may be a different way of accomplishing your end goal, for example, you can use connection pool tuning to throttle connections to a database.  But throttling via thread pools is not an option.</p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-131201' onclick='return addComment.moveForm( "comment-131201", "131201", "respond", "14790" )' aria-label='Reply to gpicher'>Reply</a>			</div>
     	</div>
    </li>
</li><!-- #comment-## -->
	<li class="comment byuser comment-author-naterauh odd alt depth-4 pn-comment" id="comment-153772">
    	<div class="pn-comment__avatar">
			        </div>
		<div class="pn-comment__comment">
			<div class="pn-comment__author">
        		<span class="pn-comment__authorname">Nathan Rauh</span> 	         	<a class="pn-comment__meta" href="index.html%3Fp=14790.html#comment-153772">
					October 17, 2018	         	</a>
			</div>
			      		<p>Liberty managed executors have since been enhanced with the ability to limit maximum concurrency.<br />
For information on this, refer to the following knowledge center topics,<br />
<a href="https://www.ibm.com/support/knowledgecenter/en/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/twlp_config_managedexecutor.html">https://www.ibm.com/support/knowledgecenter/en/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/twlp_config_managedexecutor.html</a><br />
<a href="https://www.ibm.com/support/knowledgecenter/en/SSAW57_liberty/com.ibm.websphere.liberty.autogen.nd.doc/ae/rwlp_config_concurrencyPolicy.html">https://www.ibm.com/support/knowledgecenter/en/SSAW57_liberty/com.ibm.websphere.liberty.autogen.nd.doc/ae/rwlp_config_concurrencyPolicy.html</a></p>
			<div class="pn-comment__actions">
        		<a rel='nofollow' class='comment-reply-link' href='index.html%3Fp=14790.html#comment-153772' onclick='return addComment.moveForm( "comment-153772", "153772", "respond", "14790" )' aria-label='Reply to Nathan Rauh'>Reply</a>			</div>
     	</div>
    </li>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
	

	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Join The Discussion <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html%3Fp=14790.html#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://developer.ibm.com/wasdev/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><br /><textarea id="comment" name="comment" aria-required="true" placeholder="Enter your comments..."></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="ibm-btn-pri ibm-btn-small ibm-btn-blue-50" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='14790' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="d14e5d484b" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="122"/></p>			</form>
			</div><!-- #respond -->
	</div><!-- #comments -->
											</main><!-- #main -->

			</div>
</div>
<script>
	jQuery(document).ready(function($){
		// return;
		$('.cat-item:has(.children)').addClass('arrowryt');
		$('.current-cat:has(.children)').addClass('arrowdwn');
		$('.current-cat-parent, .current-cat-ancestor').addClass('arrowdwn');
		$('<span class="toggler"></span>').prependTo('.cat-item:has(.children)').click(function(e){
			e.preventDefault();
			e.stopPropagation();
			$(this).parent().toggleClass('arrowdwn');
		});
		$('#pnext_cpt_leftnav .pnext_cpt_leftnav_expand').on('click',function(e){
			e.preventDefault();
			$(this).toggleClass('ibm-chevron-up-link');
			$(this).parents('#pnext_cpt_leftnav__links').toggleClass('menuHide');
		})
	});
</script>



		</div><!-- #content -->
	</div><!-- end of ibm-content-wrapper -->

	<p class="ibm-ind-link ibm-nospacing ibm-icononly ibm-btt-auto ibm-hidden-small">
		<a class="ibm-nospacing ibm-top-link" aria-label="Back to top" href="index.html%3Fp=14790.html#top" tabindex="0">Back to top</a>
	</p>

	<footer role="contentinfo" aria-label="IBM" id="themeFooter">
		<div id="boomer-footer" class="boomer_footer_menu"></div>
		<div id="dw-footer" class="ibm-alternate ibm-padding-normal">
			<div class="ibm-columns ibm-padding-bottom-0">
				<div class="ibm-col-1-1">
					<div class="ibm-footer-corporate-links">
						<ul>
              <li><a href="https://developer.ibm.com/feedback/">Contact</a></li>
              <li><a href="https://www.ibm.com/privacy/us/en/">Privacy</a></li>
              <li><a href="https://developer.ibm.com/terms/ibm-developer-terms-of-use/">Terms of use</a></li>
              <li><a href="https://www.ibm.com/accessibility/us/en/">Accessibility</a></li>
              <li class="ibm-feedbacklink"><a href="index.html%3Fp=14790.html#">Feedback</a></li>
							<li><a href="https://www.ibm.com/developerworks/secure/report/">Report Abuse</a></li>
              <li id="ibm-truste-cp"><a onclick="truste.eu.clickListener();return false;" href="index.html%3Fp=14790.html#">Cookie Preferences</a></li>
          	</ul>
					</div>
					<div id="ibm-footer-locale-selector"></div>
				</div>
			</div>
		</div>
	</footer>
</div><!-- #page -->

<script>
        jQuery(document).ready(function($){
          var dcName = 'wasdev';
          // $('a').each(function(){
          //   if(this.href.match('bluemix.net')){
          //     if(this.search){
          //       this.href = this.href + '&cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
          //     }else{
          //       this.href = this.href + '?cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
          //     }
          //   }
          // });

          jQuery('a[href*="bluemix.net"]').each(function(){
            if(this.search){
              this.href = this.href + '&cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
            }else{
              this.href = this.href + '?cm_sp=dw-bluemix-_-'+dcName+'-_-devcenter';
            }
          });

        });
      </script><link rel='stylesheet' id='pn-doccat-styles-css'  href='wp-content/plugins/projectnext-docs-categorical-2/partials/v18/pdc.css' type='text/css' media='all' />
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/navigation.js'></script>
<script type='text/javascript' src='wp-content/themes/boomer-v18/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='https://www.ibm.com/software/info/js/tactic.js'></script>
<script type='text/javascript' src='https://www.ibm.com/software/info/js/tacticbindlinks.js'></script>
<script type='text/javascript' src='wp-content/plugins/page-links-to/js/new-tab.min.js'></script>
<script type='text/javascript' src='https://dw1.s81c.com/dw/wp-includes/js/wp-embed.min.js'></script>
<script async="async" type='text/javascript' src='wp-content/plugins/akismet/_inc/form.js'></script>

<script>
	/* this is where we are going to control the main menu */
	function changeMenu(links) {
		IBMCore.common.module.masthead.editProfileMenu({
			action: "replace",
			links: links
		});
	}

	var setMainMenu = function(){
					var userLinks = [{
				title: "My IBM",
				url: "https://myibm.ibm.com/dashboard/?lnk=mmi"
			},{
				title: "Sign In",
				url: "https://developer.ibm.com/sso/login?d=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fwas-liberty-threading-and-why-you-probably-dont-need-to-tune-it&lang=en_US"
			},
			{
				title: "Register",
				url: "https://developer.ibm.com/sso/register?lang=en_US&d=https%3A%2F%2Fdeveloper.ibm.com%2Fwasdev%2Fdocs%2Fwas-liberty-threading-and-why-you-probably-dont-need-to-tune-it"
			}];
				changeMenu(userLinks);
	}

	IBMCore.common.module.masthead.subscribe("profileMenuReady", "customjs", setMainMenu);
</script>
<script>
		(function($) {
			$(document).ready(function(){
				/* prevent the # links in the main menu from firing */
				$('.ibm-sitenav-menu-list #primary-menu a').on('click.stopFakeLinks',function(e){
					$this = $(this);
					if($this.attr('href') === "#"){
						return false;
					}
				});

				/* bind the feedback click evnet */
				jQuery('#dw-footer .ibm-feedbacklink a').on("click", function(evt) {
			        evt.preventDefault();
			        var iframeWidth = 970;
			        if (window.innerWidth < 900) {
			            iframeWidth = window.innerWidth - 80
			        }
			        IBMCore.common.widget.surveyccfintercept.initFeedback({
			            survey: {
			                height: 700,
			                id: "web-exp",
			                metaData: "",
			                type: "medallia",
			                width: iframeWidth
			            }
			        })
			   });
				//testing out the alpha helper
				$('[data-alpha]').each(function(i){
					$elm = $(this);
					var bg = $elm.css('backgroundColor').replace(/[rgb(]/g,'').replace(/ /g,'').replace(/[)]/g,'');
					var alpha = $elm.data('alpha')/100;
					$elm.css("cssText", "background-color: rgba("+bg+","+alpha+") !important;");
				})
				//testing out the panel slider
				$('.pn-sliding-panels').each(function(i){
					$elm = $(this);
					//get the width of the active panel
					var activeWidth = $elm.data('openamount'),
						panelCount = $elm.data('panelcount'),
						inactiveWidth = ((100 - activeWidth) / (panelCount-1));
					//set the first slide as active - later, allow it to be set
					$elm.find('.pn-panel').each(function(i,item){
						$panel = $(item);
						$panel.data('closedwidth',inactiveWidth);
						$panel.data('openwidth',activeWidth);
						if(i == 0){
							$panel.addClass('pn-panel__active').css({width:activeWidth+'%'});
						}else{
							$panel.css({width:inactiveWidth+'%'});
						}
					});

					$elm.on('click.slide','.pn-panel',function(e){
						$this = $(this);
						//console.info('clicked')
						if($this.hasClass('pn-panel__active')){
							//allow for the links in the active panel to be clicked
							//console.info('im open, let the links through')
						}else{
							e.preventDefault();
							//set the width of the currently active panel to the closed amount
							var $active = $this.parents('.pn-sliding-panels').find('.pn-panel__active');
								$active.css({width:$active.data('closedwidth')+'%'}).removeClass('pn-panel__active');
							$this.addClass('pn-panel__active').css({width:$this.data('openwidth')+'%'});
						}

					})
				});

			})
		})( jQuery );
	</script>

	
</body>
</html>
